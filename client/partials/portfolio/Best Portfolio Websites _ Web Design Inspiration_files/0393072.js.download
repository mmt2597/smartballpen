(function(){var $,AbstractChosen,Chosen,SelectParser,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};SelectParser=function(){function SelectParser(){this.options_index=0;this.parsed=[]}SelectParser.prototype.add_node=function(child){if(child.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(child)}else{return this.add_option(child)}};SelectParser.prototype.add_group=function(group){var group_position,option,_i,_len,_ref,_results;group_position=this.parsed.length;this.parsed.push({array_index:group_position,group:true,label:this.escapeExpression(group.label),children:0,disabled:group.disabled});_ref=group.childNodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];_results.push(this.add_option(option,group_position,group.disabled))}return _results};SelectParser.prototype.add_option=function(option,group_position,group_disabled){if(option.nodeName.toUpperCase()==="OPTION"){if(option.text!==""){if(group_position!=null){this.parsed[group_position].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,selected:option.selected,disabled:group_disabled===true?group_disabled:option.disabled,group_array_index:group_position,classes:option.className,style:option.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};SelectParser.prototype.escapeExpression=function(text){var map,unsafe_chars;if(text==null||text===false){return""}if(!/[\&\<\>\"\'\`]/.test(text)){return text}map={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};unsafe_chars=/&(?!\w+;)|[\<\>\"\'\`]/g;return text.replace(unsafe_chars,function(chr){return map[chr]||"&amp;"})};return SelectParser}();SelectParser.select_to_array=function(select){var child,parser,_i,_len,_ref;parser=new SelectParser;_ref=select.childNodes;for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];parser.add_node(child)}return parser.parsed};AbstractChosen=function(){function AbstractChosen(form_field,options){this.form_field=form_field;this.options=options!=null?options:{};if(!AbstractChosen.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers()}AbstractChosen.prototype.set_default_values=function(){var _this=this;this.click_test_action=function(evt){return _this.test_active_click(evt)};this.activate_action=function(evt){return _this.activate_field(evt)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;return this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true};AbstractChosen.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text};AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=true};AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=false};AbstractChosen.prototype.input_focus=function(evt){var _this=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return _this.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}};AbstractChosen.prototype.input_blur=function(evt){var _this=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(){return _this.blur_test()},100)}};AbstractChosen.prototype.results_option_build=function(options){var content,data,_i,_len,_ref;content="";_ref=this.results_data;for(_i=0,_len=_ref.length;_i<_len;_i++){data=_ref[_i];if(data.group){content+=this.result_add_group(data)}else{content+=this.result_add_option(data)}if(options!=null?options.first:void 0){if(data.selected&&this.is_multiple){this.choice_build(data)}else if(data.selected&&!this.is_multiple){this.single_set_selected_text(data.text)}}}return content};AbstractChosen.prototype.result_add_option=function(option){var classes,option_el;if(!option.search_match){return""}if(!this.include_option_in_results(option)){return""}classes=[];if(!option.disabled&&!(option.selected&&this.is_multiple)){classes.push("active-result")}if(option.disabled&&!(option.selected&&this.is_multiple)){classes.push("disabled-result")}if(option.selected){classes.push("result-selected")}if(option.group_array_index!=null){classes.push("group-option")}if(option.classes!==""){classes.push(option.classes)}option_el=document.createElement("li");option_el.className=classes.join(" ");option_el.style.cssText=option.style;option_el.setAttribute("data-option-array-index",option.array_index);option_el.innerHTML=option.search_text;return this.outerHTML(option_el)};AbstractChosen.prototype.result_add_group=function(group){var group_el;if(!(group.search_match||group.group_match)){return""}if(!(group.active_options>0)){return""}group_el=document.createElement("li");group_el.className="group-result";group_el.innerHTML=group.search_text;return this.outerHTML(group_el)};AbstractChosen.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.results_build();if(this.results_showing){return this.winnow_results()}};AbstractChosen.prototype.reset_single_select_options=function(){var result,_i,_len,_ref,_results;_ref=this.results_data;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){result=_ref[_i];if(result.selected){_results.push(result.selected=false)}else{_results.push(void 0)}}return _results};AbstractChosen.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};AbstractChosen.prototype.results_search=function(evt){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};AbstractChosen.prototype.winnow_results=function(){var escapedSearchText,option,regex,results,results_group,searchText,startpos,text,zregex,_i,_len,_ref;this.no_results_clear();results=0;searchText=this.get_search_text();escapedSearchText=searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");zregex=new RegExp(escapedSearchText,"i");regex=this.get_search_regex(escapedSearchText);_ref=this.results_data;for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];option.search_match=false;results_group=null;if(this.include_option_in_results(option)){if(option.group){option.group_match=false;option.active_options=0}if(option.group_array_index!=null&&this.results_data[option.group_array_index]){results_group=this.results_data[option.group_array_index];if(results_group.active_options===0&&results_group.search_match){results+=1}results_group.active_options+=1}if(!(option.group&&!this.group_search)){option.search_text=option.group?option.label:option.text;option.search_match=this.search_string_match(option.search_text,regex);if(option.search_match&&!option.group){results+=1}if(option.search_match){if(searchText.length){startpos=option.search_text.search(zregex);text=option.search_text.substr(0,startpos+searchText.length)+"</em>"+option.search_text.substr(startpos+searchText.length);option.search_text=text.substr(0,startpos)+"<em>"+text.substr(startpos)}if(results_group!=null){results_group.group_match=true}}else if(option.group_array_index!=null&&this.results_data[option.group_array_index].search_match){option.search_match=true}}}}this.result_clear_highlight();if(results<1&&searchText.length){this.update_results_content("");return this.no_results(searchText)}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()}};AbstractChosen.prototype.get_search_regex=function(escaped_search_string){var regex_anchor;regex_anchor=this.search_contains?"":"^";return new RegExp(regex_anchor+escaped_search_string,"i")};AbstractChosen.prototype.search_string_match=function(search_string,regex){var part,parts,_i,_len;if(regex.test(search_string)){return true}else if(this.enable_split_word_search&&(search_string.indexOf(" ")>=0||search_string.indexOf("[")===0)){parts=search_string.replace(/\[|\]/g,"").split(" ");if(parts.length){for(_i=0,_len=parts.length;_i<_len;_i++){part=parts[_i];if(regex.test(part)){return true}}}}};AbstractChosen.prototype.choices_count=function(){var option,_i,_len,_ref;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;_ref=this.form_field.options;for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];if(option.selected){this.selected_option_count+=1}}return this.selected_option_count};AbstractChosen.prototype.choices_click=function(evt){evt.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show()}};AbstractChosen.prototype.keyup_checker=function(evt){var stroke,_ref;stroke=(_ref=evt.which)!=null?_ref:evt.keyCode;this.search_field_scale();switch(stroke){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:evt.preventDefault();if(this.results_showing){return this.result_select(evt)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};AbstractChosen.prototype.clipboard_event_checker=function(evt){var _this=this;return setTimeout(function(){return _this.results_search()},50)};AbstractChosen.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};AbstractChosen.prototype.include_option_in_results=function(option){if(this.is_multiple&&(!this.display_selected_options&&option.selected)){return false}if(!this.display_disabled_options&&option.disabled){return false}if(option.empty){return false}return true};AbstractChosen.prototype.search_results_touchstart=function(evt){this.touch_started=true;return this.search_results_mouseover(evt)};AbstractChosen.prototype.search_results_touchmove=function(evt){this.touch_started=false;return this.search_results_mouseout(evt)};AbstractChosen.prototype.search_results_touchend=function(evt){if(this.touch_started){return this.search_results_mouseup(evt)}};AbstractChosen.prototype.outerHTML=function(element){var tmp;if(element.outerHTML){return element.outerHTML}tmp=document.createElement("div");tmp.appendChild(element);return tmp.innerHTML};AbstractChosen.browser_is_supported=function(){if(window.navigator.appName==="Microsoft Internet Explorer"){return document.documentMode>=8}if(/iP(od|hone)/i.test(window.navigator.userAgent)){return false}if(/Android/i.test(window.navigator.userAgent)){if(/Mobile/i.test(window.navigator.userAgent)){return false}}return true};AbstractChosen.default_multiple_text="Select Some Options";AbstractChosen.default_single_text="Select an Option";AbstractChosen.default_no_result_text="No results match";return AbstractChosen}();$=jQuery;$.fn.extend({chosen:function(options){if(!AbstractChosen.browser_is_supported()){return this}return this.each(function(input_field){var $this,chosen;$this=$(this);chosen=$this.data("chosen");if(options==="destroy"&&chosen instanceof Chosen){chosen.destroy()}else if(!(chosen instanceof Chosen)){$this.data("chosen",new Chosen(this,options))}})}});Chosen=function(_super){__extends(Chosen,_super);function Chosen(){_ref=Chosen.__super__.constructor.apply(this,arguments);return _ref}Chosen.prototype.setup=function(){this.form_field_jq=$(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};Chosen.prototype.set_up_html=function(){var container_classes,container_props;container_classes=["chosen-container"];container_classes.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){container_classes.push(this.form_field.className)}if(this.is_rtl){container_classes.push("chosen-rtl")}container_props={class:container_classes.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title};if(this.form_field.id.length){container_props.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"}this.container=$("<div />",container_props);if(this.is_multiple){this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>')}else{this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>')}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chosen-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chosen-search").first();this.selected_item=this.container.find(".chosen-single").first()}this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",{chosen:this})};Chosen.prototype.register_observers=function(){var _this=this;this.container.bind("touchstart.chosen",function(evt){_this.container_mousedown(evt)});this.container.bind("touchend.chosen",function(evt){_this.container_mouseup(evt)});this.container.bind("mousedown.chosen",function(evt){_this.container_mousedown(evt)});this.container.bind("mouseup.chosen",function(evt){_this.container_mouseup(evt)});this.container.bind("mouseenter.chosen",function(evt){_this.mouse_enter(evt)});this.container.bind("mouseleave.chosen",function(evt){_this.mouse_leave(evt)});this.search_results.bind("mouseup.chosen",function(evt){_this.search_results_mouseup(evt)});this.search_results.bind("mouseover.chosen",function(evt){_this.search_results_mouseover(evt)});this.search_results.bind("mouseout.chosen",function(evt){_this.search_results_mouseout(evt)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(evt){_this.search_results_mousewheel(evt)});this.search_results.bind("touchstart.chosen",function(evt){_this.search_results_touchstart(evt)});this.search_results.bind("touchmove.chosen",function(evt){_this.search_results_touchmove(evt)});this.search_results.bind("touchend.chosen",function(evt){_this.search_results_touchend(evt)});this.form_field_jq.bind("chosen:updated.chosen",function(evt){_this.results_update_field(evt)});this.form_field_jq.bind("chosen:activate.chosen",function(evt){_this.activate_field(evt)});this.form_field_jq.bind("chosen:open.chosen",function(evt){_this.container_mousedown(evt)});this.form_field_jq.bind("chosen:close.chosen",function(evt){_this.input_blur(evt)});this.search_field.bind("blur.chosen",function(evt){_this.input_blur(evt)});this.search_field.bind("keyup.chosen",function(evt){_this.keyup_checker(evt)});this.search_field.bind("keydown.chosen",function(evt){_this.keydown_checker(evt)});this.search_field.bind("focus.chosen",function(evt){_this.input_focus(evt)});this.search_field.bind("cut.chosen",function(evt){_this.clipboard_event_checker(evt)});this.search_field.bind("paste.chosen",function(evt){_this.clipboard_event_checker(evt)});if(this.is_multiple){return this.search_choices.bind("click.chosen",function(evt){_this.choices_click(evt)})}else{return this.container.bind("click.chosen",function(evt){evt.preventDefault()})}};Chosen.prototype.destroy=function(){$(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);if(this.search_field[0].tabIndex){this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex}this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};Chosen.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chosen-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus.chosen",this.activate_action)}return this.close_field()}else{this.container.removeClass("chosen-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus.chosen",this.activate_action)}}};Chosen.prototype.container_mousedown=function(evt){if(!this.is_disabled){if(evt&&evt.type==="mousedown"&&!this.results_showing){evt.preventDefault()}if(!(evt!=null&&$(evt.target).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}$(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action);this.results_show()}else if(!this.is_multiple&&evt&&($(evt.target)[0]===this.selected_item[0]||$(evt.target).parents("a.chosen-single").length)){evt.preventDefault();this.results_toggle()}return this.activate_field()}}};Chosen.prototype.container_mouseup=function(evt){if(evt.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(evt)}};Chosen.prototype.search_results_mousewheel=function(evt){var delta;if(evt.originalEvent){delta=evt.originalEvent.deltaY||-evt.originalEvent.wheelDelta||evt.originalEvent.detail}if(delta!=null){evt.preventDefault();if(evt.type==="DOMMouseScroll"){delta=delta*40}return this.search_results.scrollTop(delta+this.search_results.scrollTop())}};Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chosen-container-active")){return this.close_field()}};Chosen.prototype.close_field=function(){$(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};Chosen.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};Chosen.prototype.test_active_click=function(evt){var active_container;active_container=$(evt.target).closest(".chosen-container");if(active_container.length&&this.container[0]===active_container[0]){return this.active_field=true}else{return this.close_field()}};Chosen.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=SelectParser.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove()}else if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch")}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false};Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){this.result_clear_highlight();this.result_highlight=el;this.result_highlight.addClass("highlighted");maxHeight=parseInt(this.search_results.css("maxHeight"),10);visible_top=this.search_results.scrollTop();visible_bottom=maxHeight+visible_top;high_top=this.result_highlight.position().top+this.search_results.scrollTop();high_bottom=high_top+this.result_highlight.outerHeight();if(high_bottom>=visible_bottom){return this.search_results.scrollTop(high_bottom-maxHeight>0?high_bottom-maxHeight:0)}else if(high_top<visible_top){return this.search_results.scrollTop(high_top)}}};Chosen.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};Chosen.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}this.container.addClass("chosen-with-drop");this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})};Chosen.prototype.update_results_content=function(content){return this.search_results.html(content)};Chosen.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chosen-with-drop");this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})}return this.results_showing=false};Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field.tabIndex){ti=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=ti}};Chosen.prototype.set_label_behavior=function(){var _this=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=$("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.bind("click.chosen",function(evt){if(_this.is_multiple){return _this.container_mousedown(evt)}else{return _this.activate_field()}})}};Chosen.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};Chosen.prototype.search_results_mouseup=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target.length){this.result_highlight=target;this.result_select(evt);return this.search_field.focus()}};Chosen.prototype.search_results_mouseover=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target){return this.result_do_highlight(target)}};Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result"||$(evt.target).parents(".active-result").first())){return this.result_clear_highlight()}};Chosen.prototype.choice_build=function(item){var choice,close_link,_this=this;choice=$("<li />",{class:"search-choice"}).html("<span>"+item.html+"</span>");if(item.disabled){choice.addClass("search-choice-disabled")}else{close_link=$("<a />",{class:"search-choice-close","data-option-array-index":item.array_index});close_link.bind("click.chosen",function(evt){return _this.choice_destroy_link_click(evt)});choice.append(close_link)}return this.search_container.before(choice)};Chosen.prototype.choice_destroy_link_click=function(evt){evt.preventDefault();evt.stopPropagation();if(!this.is_disabled){return this.choice_destroy($(evt.target))}};Chosen.prototype.choice_destroy=function(link){if(this.result_deselect(link[0].getAttribute("data-option-array-index"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}link.parents("li").first().remove();return this.search_field_scale()}};Chosen.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=true;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};Chosen.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};Chosen.prototype.result_select=function(evt){var high,item;if(this.result_highlight){high=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}if(this.is_multiple){high.removeClass("active-result")}else{this.reset_single_select_options()}item=this.results_data[high[0].getAttribute("data-option-array-index")];item.selected=true;this.form_field.options[item.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(item)}else{this.single_set_selected_text(item.text)}if(!((evt.metaKey||evt.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[item.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};Chosen.prototype.single_set_selected_text=function(text){if(text==null){text=this.default_text}if(text===this.default_text){this.selected_item.addClass("chosen-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default")}return this.selected_item.find("span").text(text)};Chosen.prototype.result_deselect=function(pos){var result_data;result_data=this.results_data[pos];if(!this.form_field.options[result_data.options_index].disabled){result_data.selected=false;this.form_field.options[result_data.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();if(this.results_showing){this.winnow_results()}this.form_field_jq.trigger("change",{deselected:this.form_field.options[result_data.options_index].value});this.search_field_scale();return true}else{return false}};Chosen.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}return this.selected_item.addClass("chosen-single-with-deselect")};Chosen.prototype.get_search_text=function(){if(this.search_field.val()===this.default_text){return""}else{return $("<div/>").text($.trim(this.search_field.val())).html()}};Chosen.prototype.winnow_results_set_highlight=function(){var do_high,selected_results;selected_results=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];do_high=selected_results.length?selected_results.first():this.search_results.find(".active-result").first();if(do_high!=null){return this.result_do_highlight(do_high)}};Chosen.prototype.no_results=function(terms){var no_results_html;no_results_html=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');no_results_html.find("span").first().html(terms);this.search_results.append(no_results_html);return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};Chosen.prototype.keydown_arrow=function(){var next_sib;if(this.results_showing&&this.result_highlight){next_sib=this.result_highlight.nextAll("li.active-result").first();if(next_sib){return this.result_do_highlight(next_sib)}}else{return this.results_show()}};Chosen.prototype.keyup_arrow=function(){var prev_sibs;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else if(this.result_highlight){prev_sibs=this.result_highlight.prevAll("li.active-result");if(prev_sibs.length){return this.result_do_highlight(prev_sibs.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}};Chosen.prototype.keydown_backstroke=function(){var next_available_destroy;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{next_available_destroy=this.search_container.siblings("li.search-choice").last();if(next_available_destroy.length&&!next_available_destroy.hasClass("search-choice-disabled")){this.pending_backstroke=next_available_destroy;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};Chosen.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};Chosen.prototype.keydown_checker=function(evt){var stroke,_ref1;stroke=(_ref1=evt.which)!=null?_ref1:evt.keyCode;this.search_field_scale();if(stroke!==8&&this.pending_backstroke){this.clear_backstroke()}switch(stroke){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(evt)}this.mouse_on_container=false;break;case 13:if(this.results_showing){evt.preventDefault()}break;case 32:if(this.disable_search){evt.preventDefault()}break;case 38:evt.preventDefault();this.keyup_arrow();break;case 40:evt.preventDefault();this.keydown_arrow();break}};Chosen.prototype.search_field_scale=function(){var div,f_width,h,style,style_block,styles,w,_i,_len;if(this.is_multiple){h=0;w=0;style_block="position:absolute; left: -1000px; top: -1000px; display:none;";styles=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(_i=0,_len=styles.length;_i<_len;_i++){style=styles[_i];style_block+=style+":"+this.search_field.css(style)+";"}div=$("<div />",{style:style_block});div.text(this.search_field.val());$("body").append(div);w=div.width()+25;div.remove();f_width=this.container.outerWidth();if(w>f_width-10){w=f_width-10}return this.search_field.css({width:w+"px"})}};return Chosen}(AbstractChosen)}).call(this);
(function(factory){if(typeof define==="function"&&define.amd){define(factory)}else if(typeof exports==="object"){module.exports=factory()}else{var _OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=_OldCookies;return api}}})(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}return result}function init(converter){function api(key,value,attributes){var result;if(typeof document==="undefined"){return}if(arguments.length>1){attributes=extend({path:"/"},api.defaults,attributes);if(typeof attributes.expires==="number"){var expires=new Date;expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e5);attributes.expires=expires}try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{value=converter.write(value,key)}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);return document.cookie=[key,"=",value,attributes.expires&&"; expires="+attributes.expires.toUTCString(),attributes.path&&"; path="+attributes.path,attributes.domain&&"; domain="+attributes.domain,attributes.secure?"; secure":""].join("")}if(!key){result={}}var cookies=document.cookie?document.cookie.split("; "):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split("=");var name=parts[0].replace(rdecode,decodeURIComponent);var cookie=parts.slice(1).join("=");if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie)}catch(e){}}if(key===name){result=cookie;break}if(!key){result[name]=cookie}}catch(e){}}return result}api.get=api.set=api;api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments))};api.defaults={};api.remove=function(key,attributes){api(key,"",extend(attributes,{expires:-1}))};api.withConverter=init;return api}return init(function(){})});
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.svg4everybody=b()}):"object"==typeof exports?module.exports=b():a.svg4everybody=b()}(this,function(){function a(a,b){if(b){var c=!a.getAttribute("viewBox")&&b.getAttribute("viewBox"),d=document.createDocumentFragment(),e=b.cloneNode(!0);for(c&&a.setAttribute("viewBox",c);e.childNodes.length;)d.appendChild(e.firstChild);a.appendChild(d)}}function b(b){b.onreadystatechange=function(){if(4===b.readyState){var c=document.createElement("x");c.innerHTML=b.responseText,b.s.splice(0).map(function(b){a(b[0],c.querySelector("#"+b[1].replace(/(\W)/g,"\\$1")))})}},b.onreadystatechange()}function c(c){function d(){for(var c;c=e[0];){var j=c.parentNode;if(j&&/svg/i.test(j.nodeName)){var k=c.getAttribute("xlink:href");if(f&&(!g||g(k,j,c))){var l=k.split("#"),m=l[0],n=l[1];if(j.removeChild(c),m.length){var o=i[m]=i[m]||new XMLHttpRequest;o.s||(o.s=[],o.open("GET",m),o.send()),o.s.push([j,n]),b(o)}else a(j,document.getElementById(n))}}}h(d,17)}c=c||{};var e=document.getElementsByTagName("use"),f="shim"in c?c.shim:/\bEdge\/12\b|\bTrident\/[567]\b|\bVersion\/7.0 Safari\b/.test(navigator.userAgent)||(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]<537,g=c.validate,h=window.requestAnimationFrame||setTimeout,i={};f&&d()}return c});
(function($,window,document,undefined){var lazyLoadXT="lazyLoadXT",dataLazied="lazied",load_error="load error",classLazyHidden="lazy-hidden",docElement=document.documentElement||document.body,forceLoad=window.onscroll===undefined||!!window.operamini||!docElement.getBoundingClientRect,options={autoInit:true,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:forceLoad,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:classLazyHidden},onload:{removeClass:classLazyHidden,addClass:"lazy-loaded"},onerror:{removeClass:classLazyHidden},checkDuplicates:true},elementOptions={srcAttr:"data-src",edgeX:0,edgeY:-100,visibleOnly:true},$window=$(window),$isFunction=$.isFunction,$extend=$.extend,$data=$.data||function(el,name){return $(el).data(name)},$contains=$.contains||function(parent,el){while(el=el.parentNode){if(el===parent){return true}}return false},elements=[],topLazy=0,waitingMode=0;$[lazyLoadXT]=$extend(options,elementOptions,$[lazyLoadXT]);function getOrDef(obj,prop){return obj[prop]===undefined?options[prop]:obj[prop]}function scrollTop(){var scroll=window.pageYOffset;return scroll===undefined?docElement.scrollTop:scroll}$.fn[lazyLoadXT]=function(overrides){overrides=overrides||{};var blankImage=getOrDef(overrides,"blankImage"),checkDuplicates=getOrDef(overrides,"checkDuplicates"),scrollContainer=getOrDef(overrides,"scrollContainer"),elementOptionsOverrides={},prop;$(scrollContainer).on("scroll",queueCheckLazyElements);for(prop in elementOptions){elementOptionsOverrides[prop]=getOrDef(overrides,prop)}return this.each(function(index,el){if(el===window){$(options.selector).lazyLoadXT(overrides)}else{if(checkDuplicates&&$data(el,dataLazied)){return}var $el=$(el).data(dataLazied,1);if(blankImage&&el.tagName==="IMG"&&!el.src){el.src=blankImage}$el[lazyLoadXT]=$extend({},elementOptionsOverrides);triggerEvent("init",$el);elements.push($el)}})};function triggerEvent(event,$el){var handler=options["on"+event];if(handler){if($isFunction(handler)){handler.call($el[0])}else{if(handler.addClass){$el.addClass(handler.addClass)}if(handler.removeClass){$el.removeClass(handler.removeClass)}}}$el.trigger("lazy"+event,[$el]);queueCheckLazyElements()}function triggerLoadOrError(e){triggerEvent(e.type,$(this).off(load_error,triggerLoadOrError))}function checkLazyElements(force){if(!elements.length){return}force=force||options.forceLoad;topLazy=Infinity;var viewportTop=scrollTop(),viewportHeight=window.innerHeight||docElement.clientHeight,viewportWidth=window.innerWidth||docElement.clientWidth,i,length;for(i=0,length=elements.length;i<length;i++){var $el=elements[i],el=$el[0],objData=$el[lazyLoadXT],removeNode=false,visible=force,topEdge;if(!$contains(docElement,el)){removeNode=true}else if(force||!objData.visibleOnly||el.offsetWidth||el.offsetHeight){if(!visible){var elPos=el.getBoundingClientRect(),edgeX=objData.edgeX,edgeY=objData.edgeY;topEdge=elPos.top+viewportTop-edgeY-viewportHeight;visible=topEdge<=viewportTop&&elPos.bottom>-edgeY&&elPos.left<=viewportWidth+edgeX&&elPos.right>-edgeX}if(visible){triggerEvent("show",$el);var srcAttr=objData.srcAttr,src=$isFunction(srcAttr)?srcAttr($el):el.getAttribute(srcAttr);if(src){$el.on(load_error,triggerLoadOrError);el.src=src}removeNode=true}else{if(topEdge<topLazy){topLazy=topEdge}}}if(removeNode){elements.splice(i--,1);length--}}if(!length){triggerEvent("complete",$(docElement))}}function timeoutLazyElements(){if(waitingMode>1){waitingMode=1;checkLazyElements();setTimeout(timeoutLazyElements,options.throttle)}else{waitingMode=0}}function queueCheckLazyElements(e){if(!elements.length){return}if(e&&e.type==="scroll"&&e.currentTarget===window){if(topLazy>=scrollTop()){return}}if(!waitingMode){setTimeout(timeoutLazyElements,0)}waitingMode=2}function initLazyElements(){$window.lazyLoadXT()}function forceLoadAll(){checkLazyElements(true)}$(document).ready(function(){triggerEvent("start",$window);$window.on(options.loadEvent,initLazyElements).on(options.updateEvent,queueCheckLazyElements).on(options.forceEvent,forceLoadAll);$(document).on(options.updateEvent,queueCheckLazyElements);if(options.autoInit){initLazyElements()}})})(window.jQuery||window.Zepto||window.$,window,document);
(function($){var options=$.lazyLoadXT;options.selector+=",.lazy-video";options.videoPoster="data-poster";$(document).on("lazyshow","video",function(e,$el){$el.attr("poster",$el.attr(options.videoPoster));setTimeout(function(){$el.addClass("lazy-loaded")},300)})})(window.jQuery||window.Zepto||window.$);
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else if(typeof exports==="object")exports["Handlebars"]=factory();else root["Handlebars"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(1)["default"];var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=true;var _handlebarsBase=__webpack_require__(3);var base=_interopRequireWildcard(_handlebarsBase);var _handlebarsSafeString=__webpack_require__(17);var _handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString);var _handlebarsException=__webpack_require__(5);var _handlebarsException2=_interopRequireDefault(_handlebarsException);var _handlebarsUtils=__webpack_require__(4);var Utils=_interopRequireWildcard(_handlebarsUtils);var _handlebarsRuntime=__webpack_require__(18);var runtime=_interopRequireWildcard(_handlebarsRuntime);var _handlebarsNoConflict=__webpack_require__(19);var _handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict);function create(){var hb=new base.HandlebarsEnvironment;Utils.extend(hb,base);hb.SafeString=_handlebarsSafeString2["default"];hb.Exception=_handlebarsException2["default"];hb.Utils=Utils;hb.escapeExpression=Utils.escapeExpression;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb)};return hb}var inst=create();inst.create=create;_handlebarsNoConflict2["default"](inst);inst["default"]=inst;exports["default"]=inst;module.exports=exports["default"]},function(module,exports){"use strict";exports["default"]=function(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj["default"]=obj;return newObj}};exports.__esModule=true},function(module,exports){"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj:{default:obj}};exports.__esModule=true},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=true;exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=__webpack_require__(4);var _exception=__webpack_require__(5);var _exception2=_interopRequireDefault(_exception);var _helpers=__webpack_require__(6);var _decorators=__webpack_require__(14);var _logger=__webpack_require__(16);var _logger2=_interopRequireDefault(_logger);var VERSION="4.0.5";exports.VERSION=VERSION;var COMPILER_REVISION=7;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var objectType="[object Object]";function HandlebarsEnvironment(helpers,partials,decorators){this.helpers=helpers||{};this.partials=partials||{};this.decorators=decorators||{};_helpers.registerDefaultHelpers(this);_decorators.registerDefaultDecorators(this)}HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2["default"],log:_logger2["default"].log,registerHelper:function registerHelper(name,fn){if(_utils.toString.call(name)===objectType){if(fn){throw new _exception2["default"]("Arg not supported with multiple helpers")}_utils.extend(this.helpers,name)}else{this.helpers[name]=fn}},unregisterHelper:function unregisterHelper(name){delete this.helpers[name]},registerPartial:function registerPartial(name,partial){if(_utils.toString.call(name)===objectType){_utils.extend(this.partials,name)}else{if(typeof partial==="undefined"){throw new _exception2["default"]('Attempting to register a partial called "'+name+'" as undefined')}this.partials[name]=partial}},unregisterPartial:function unregisterPartial(name){delete this.partials[name]},registerDecorator:function registerDecorator(name,fn){if(_utils.toString.call(name)===objectType){if(fn){throw new _exception2["default"]("Arg not supported with multiple decorators")}_utils.extend(this.decorators,name)}else{this.decorators[name]=fn}},unregisterDecorator:function unregisterDecorator(name){delete this.decorators[name]}};var log=_logger2["default"].log;exports.log=log;exports.createFrame=_utils.createFrame;exports.logger=_logger2["default"]},function(module,exports){"use strict";exports.__esModule=true;exports.extend=extend;exports.indexOf=indexOf;exports.escapeExpression=escapeExpression;exports.isEmpty=isEmpty;exports.createFrame=createFrame;exports.blockParams=blockParams;exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/;function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){if(Object.prototype.hasOwnProperty.call(arguments[i],key)){obj[key]=arguments[i][key]}}}return obj}var toString=Object.prototype.toString;exports.toString=toString;var isFunction=function isFunction(value){return typeof value==="function"};if(isFunction(/x/)){exports.isFunction=isFunction=function(value){return typeof value==="function"&&toString.call(value)==="[object Function]"}}exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value==="object"?toString.call(value)==="[object Array]":false};exports.isArray=isArray;function indexOf(array,value){for(var i=0,len=array.length;i<len;i++){if(array[i]===value){return i}}return-1}function escapeExpression(string){if(typeof string!=="string"){if(string&&string.toHTML){return string.toHTML()}else if(string==null){return""}else if(!string){return string+""}string=""+string}if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)}function isEmpty(value){if(!value&&value!==0){return true}else if(isArray(value)&&value.length===0){return true}else{return false}}function createFrame(object){var frame=extend({},object);frame._parent=object;return frame}function blockParams(params,ids){params.path=ids;return params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}},function(module,exports){"use strict";exports.__esModule=true;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];function Exception(message,node){var loc=node&&node.loc,line=undefined,column=undefined;if(loc){line=loc.start.line;column=loc.start.column;message+=" - "+line+":"+column}var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}if(Error.captureStackTrace){Error.captureStackTrace(this,Exception)}if(loc){this.lineNumber=line;this.column=column}}Exception.prototype=new Error;exports["default"]=Exception;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=true;exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=__webpack_require__(7);var _helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing);var _helpersEach=__webpack_require__(8);var _helpersEach2=_interopRequireDefault(_helpersEach);var _helpersHelperMissing=__webpack_require__(9);var _helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing);var _helpersIf=__webpack_require__(10);var _helpersIf2=_interopRequireDefault(_helpersIf);var _helpersLog=__webpack_require__(11);var _helpersLog2=_interopRequireDefault(_helpersLog);var _helpersLookup=__webpack_require__(12);var _helpersLookup2=_interopRequireDefault(_helpersLookup);var _helpersWith=__webpack_require__(13);var _helpersWith2=_interopRequireDefault(_helpersWith);function registerDefaultHelpers(instance){_helpersBlockHelperMissing2["default"](instance);_helpersEach2["default"](instance);_helpersHelperMissing2["default"](instance);_helpersIf2["default"](instance);_helpersLog2["default"](instance);_helpersLookup2["default"](instance);_helpersWith2["default"](instance)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(4);exports["default"]=function(instance){instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse,fn=options.fn;if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(_utils.isArray(context)){if(context.length>0){if(options.ids){options.ids=[options.name]}return instance.helpers.each(context,options)}else{return inverse(this)}}else{if(options.data&&options.ids){var data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.name);options={data:data}}return fn(context,options)}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=true;var _utils=__webpack_require__(4);var _exception=__webpack_require__(5);var _exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("each",function(context,options){if(!options){throw new _exception2["default"]("Must pass iterator to #each")}var fn=options.fn,inverse=options.inverse,i=0,ret="",data=undefined,contextPath=undefined;if(options.data&&options.ids){contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])+"."}if(_utils.isFunction(context)){context=context.call(this)}if(options.data){data=_utils.createFrame(options.data)}function execIteration(field,index,last){if(data){data.key=field;data.index=index;data.first=index===0;data.last=!!last;if(contextPath){data.contextPath=contextPath+field}}ret=ret+fn(context[field],{data:data,blockParams:_utils.blockParams([context[field],field],[contextPath+field,null])})}if(context&&typeof context==="object"){if(_utils.isArray(context)){for(var j=context.length;i<j;i++){if(i in context){execIteration(i,i,i===context.length-1)}}}else{var priorKey=undefined;for(var key in context){if(context.hasOwnProperty(key)){if(priorKey!==undefined){execIteration(priorKey,i-1)}priorKey=key;i++}}if(priorKey!==undefined){execIteration(priorKey,i-1,true)}}}if(i===0){ret=inverse(this)}return ret})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=true;var _exception=__webpack_require__(5);var _exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new _exception2["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(4);exports["default"]=function(instance){instance.registerHelper("if",function(conditional,options){if(_utils.isFunction(conditional)){conditional=conditional.call(this)}if(!options.hash.includeZero&&!conditional||_utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})})};module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;exports["default"]=function(instance){instance.registerHelper("log",function(){var args=[undefined],options=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++){args.push(arguments[i])}var level=1;if(options.hash.level!=null){level=options.hash.level}else if(options.data&&options.data.level!=null){level=options.data.level}args[0]=level;instance.log.apply(instance,args)})};module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;exports["default"]=function(instance){instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(4);exports["default"]=function(instance){instance.registerHelper("with",function(context,options){if(_utils.isFunction(context)){context=context.call(this)}var fn=options.fn;if(!_utils.isEmpty(context)){var data=options.data;if(options.data&&options.ids){data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])}return fn(context,{data:data,blockParams:_utils.blockParams([context],[data&&data.contextPath])})}else{return options.inverse(this)}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=true;exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=__webpack_require__(15);var _decoratorsInline2=_interopRequireDefault(_decoratorsInline);function registerDefaultDecorators(instance){_decoratorsInline2["default"](instance)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(4);exports["default"]=function(instance){instance.registerDecorator("inline",function(fn,props,container,options){var ret=fn;if(!props.partials){props.partials={};ret=function(context,options){var original=container.partials;container.partials=_utils.extend({},original,props.partials);var ret=fn(context,options);container.partials=original;return ret}}props.partials[options.args[0]]=options.fn;return ret})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(4);var logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function lookupLevel(level){if(typeof level==="string"){var levelMap=_utils.indexOf(logger.methodMap,level.toLowerCase());if(levelMap>=0){level=levelMap}else{level=parseInt(level,10)}}return level},log:function log(level){level=logger.lookupLevel(level);if(typeof console!=="undefined"&&logger.lookupLevel(logger.level)<=level){var method=logger.methodMap[level];if(!console[method]){method="log"}for(var _len=arguments.length,message=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){message[_key-1]=arguments[_key]}console[method].apply(console,message)}}};exports["default"]=logger;module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;function SafeString(string){this.string=string}SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string};exports["default"]=SafeString;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(1)["default"];var _interopRequireDefault=__webpack_require__(2)["default"];exports.__esModule=true;exports.checkRevision=checkRevision;exports.template=template;exports.wrapProgram=wrapProgram;exports.resolvePartial=resolvePartial;exports.invokePartial=invokePartial;exports.noop=noop;var _utils=__webpack_require__(4);var Utils=_interopRequireWildcard(_utils);var _exception=__webpack_require__(5);var _exception2=_interopRequireDefault(_exception);var _base=__webpack_require__(3);function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_base.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=_base.REVISION_CHANGES[currentRevision],compilerVersions=_base.REVISION_CHANGES[compilerRevision];throw new _exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}else{throw new _exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+").")}}}function template(templateSpec,env){if(!env){throw new _exception2["default"]("No environment passed to template")}if(!templateSpec||!templateSpec.main){throw new _exception2["default"]("Unknown template object: "+typeof templateSpec)}templateSpec.main.decorator=templateSpec.main_d;env.VM.checkRevision(templateSpec.compiler);function invokePartialWrapper(partial,context,options){if(options.hash){context=Utils.extend({},context,options.hash);if(options.ids){options.ids[0]=true}}partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(result==null&&env.compile){options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env);result=options.partials[options.name](context,options)}if(result!=null){if(options.indent){var lines=result.split("\n");for(var i=0,l=lines.length;i<l;i++){if(!lines[i]&&i+1===l){break}lines[i]=options.indent+lines[i]}result=lines.join("\n")}return result}else{throw new _exception2["default"]("The partial "+options.name+" could not be compiled when running in runtime-only mode")}}var container={strict:function strict(obj,name){if(!(name in obj)){throw new _exception2["default"]('"'+name+'" not defined in '+obj)}return obj[name]},lookup:function lookup(depths,name){var len=depths.length;for(var i=0;i<len;i++){if(depths[i]&&depths[i][name]!=null){return depths[i][name]}}},lambda:function lambda(current,context){return typeof current==="function"?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function fn(i){var ret=templateSpec[i];ret.decorator=templateSpec[i+"_d"];return ret},programs:[],program:function program(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);if(data||depths||blockParams||declaredBlockParams){programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths)}else if(!programWrapper){programWrapper=this.programs[i]=wrapProgram(this,i,fn)}return programWrapper},data:function data(value,depth){while(value&&depth--){value=value._parent}return value},merge:function merge(param,common){var obj=param||common;if(param&&common&&param!==common){obj=Utils.extend({},common,param)}return obj},noop:env.VM.noop,compilerInfo:templateSpec.compiler};function ret(context){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var data=options.data;ret._setup(options);if(!options.partial&&templateSpec.useData){data=initData(context,data)}var depths=undefined,blockParams=templateSpec.useBlockParams?[]:undefined;if(templateSpec.useDepths){if(options.depths){depths=context!==options.depths[0]?[context].concat(options.depths):options.depths}else{depths=[context]}}function main(context){return""+templateSpec.main(container,context,container.helpers,container.partials,data,blockParams,depths)}main=executeDecorators(templateSpec.main,main,container,options.depths||[],data,blockParams);return main(context,options)}ret.isTop=true;ret._setup=function(options){if(!options.partial){container.helpers=container.merge(options.helpers,env.helpers);if(templateSpec.usePartial){container.partials=container.merge(options.partials,env.partials)}if(templateSpec.usePartial||templateSpec.useDecorators){container.decorators=container.merge(options.decorators,env.decorators)}}else{container.helpers=options.helpers;container.partials=options.partials;container.decorators=options.decorators}};ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams){throw new _exception2["default"]("must pass block params")}if(templateSpec.useDepths&&!depths){throw new _exception2["default"]("must pass parent depths")}return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)};return ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var currentDepths=depths;if(depths&&context!==depths[0]){currentDepths=[context].concat(depths)}return fn(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),currentDepths)}prog=executeDecorators(fn,prog,container,depths,data,blockParams);prog.program=i;prog.depth=depths?depths.length:0;prog.blockParams=declaredBlockParams||0;return prog}function resolvePartial(partial,context,options){if(!partial){if(options.name==="@partial-block"){partial=options.data["partial-block"]}else{partial=options.partials[options.name]}}else if(!partial.call&&!options.name){options.name=partial;partial=options.partials[partial]}return partial}function invokePartial(partial,context,options){options.partial=true;if(options.ids){options.data.contextPath=options.ids[0]||options.data.contextPath}var partialBlock=undefined;if(options.fn&&options.fn!==noop){options.data=_base.createFrame(options.data);partialBlock=options.data["partial-block"]=options.fn;if(partialBlock.partials){options.partials=Utils.extend({},options.partials,partialBlock.partials)}}if(partial===undefined&&partialBlock){partial=partialBlock}if(partial===undefined){throw new _exception2["default"]("The partial "+options.name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}}function noop(){return""}function initData(context,data){if(!data||!("root"in data)){data=data?_base.createFrame(data):{};data.root=context}return data}function executeDecorators(fn,prog,container,depths,data,blockParams){if(fn.decorator){var props={};prog=fn.decorator(prog,props,container,depths&&depths[0],data,blockParams,depths);Utils.extend(prog,props)}return prog}},function(module,exports){(function(global){"use strict";exports.__esModule=true;exports["default"]=function(Handlebars){var root=typeof global!=="undefined"?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){if(root.Handlebars===Handlebars){root.Handlebars=$Handlebars}return Handlebars}};module.exports=exports["default"]}).call(exports,function(){return this}())}])});
(function($){$.fn.popupWindow=function(instanceSettings){return this.each(function(){$(this).click(function(){$.fn.popupWindow.defaultSettings={centerBrowser:1,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0};settings=$.extend({},$.fn.popupWindow.defaultSettings,instanceSettings||{});var windowFeatures="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;settings.windowName=this.name||settings.windowName;settings.windowURL=$(this).data("link")||settings.windowURL;var centeredY,centeredX;if(settings.centerBrowser){centeredY=window.screenY+(window.outerHeight/2-settings.height/2);centeredX=window.screenX+(window.outerWidth/2-settings.width/2);window.open(settings.windowURL,settings.windowName,windowFeatures+",left="+centeredX+",top="+centeredY).focus()}else if(settings.centerScreen){centeredY=(screen.height-settings.height)/2;centeredX=(screen.width-settings.width)/2;window.open(settings.windowURL,settings.windowName,windowFeatures+",left="+centeredX+",top="+centeredY).focus()}else{window.open(settings.windowURL,settings.windowName,windowFeatures+",left="+settings.left+",top="+settings.top).focus()}var hasNoReturnClass=$(this).hasClass("popup-no-return");if(!hasNoReturnClass){return false}})})}})(jQuery);
var app=app||{};var ENTER_KEY=13;var ESC_KEY=27;$(function(){app.asset=function(image){if(!image){return""}return app.baseUrl.replace(/\/$/g,"")+"/"+image.replace(/^\//g,"")};app.assetTv=function(image){if(!image){return""}if(image.startsWith("http")){return image}return app.baseUrl.replace(/\/$/g,"")+"/awards/"+image.replace(/^\//g,"")};app.assetLocal=function(image){if(!image){return""}return app.baseUrlLocal.replace(/\/$/g,"")+"/"+image.replace(/^\//g,"")};app.userThumb=function(path,thumb){if(!path){return""}var dirname=path.replace(/^\//g,"").replace(/\\/g,"/").replace(/\/[^\/]*$/,"");var filename=path.replace(/\\/g,"/").replace(/\\/g,"/").replace(/.*\//,"");var pathThumb=filename.replace(/(\.[\w\d_-]+)$/i,"_"+thumb+"$1");return app.asset(dirname+"/thumb/"+pathThumb)};app.thumb=function(path,filter){if(!path){return""}var cleanPath=path.replace(/^\//g,"");return app.assetTv("media/cache/"+filter+"/"+cleanPath)};app.isAnimated=function(path){if(!path){return false}var animatedExtensions=["gif","mp4","webm"];var extension=path.split(".").pop();return animatedExtensions.indexOf(extension)!=-1};app.isVideo=function(path){var videoExtensions=["mp4","webm"];return path&&videoExtensions.indexOf(path.split(".").pop())!=-1};app.typeVideo=function(path){if(path){return path.split(".").pop()==="mp4"?"type/mp4":"type/webm"}return""};app.getStaticVersion=function(path){return path.substr(0,path.lastIndexOf("."))+"_static.jpeg"};app.icon=function(name,width,height,extra_classes){var iconPath="/bundles/tvweb/images/sprite-icons.svg#"+name;var extra_classes=!extra_classes||typeof extra_classes!="string"?"":" "+extra_classes;return'<svg class="ico-svg'+extra_classes+'" viewbox="0 0 '+width+" "+height+'" xmlns="http://www.w3.org/2000/svg"><use xlink:href="'+iconPath+'" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg>'};app.getImageInfo=function(image,defaultImage){if(!image){return{static:defaultImage,animated:defaultImage,is_animated:false,is_video:false}}var is_animated=app.isAnimated(image);var static_version=is_animated?app.getStaticVersion(image):image;var is_video=app.isVideo(image);return{static:static_version,animated:image,is_animated:is_animated,is_video:is_video}};app.getColClass=function(){var cols="col-3";var gridView=Cookies.get("current_element_view")===undefined?"default":Cookies.get("current_element_view");if(gridView!="default"){cols="col-4"}return cols};"use strict";app.user={username:"",displayName:"",id:"",isUserLoggedIn:false,gridView:null,is_its_own_profile:false,initialize:function(){this.setUser();this.gridView=Cookies.get("current_element_view")===undefined?"default":Cookies.get("current_element_view");if(this.gridView!="default"){setTimeout(function(){$(".grid-icon").html('<svg id="cols-view" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" class="ico-svg ico-13"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#grid-2cols"></use></svg>')},300)}},isLoggedIn:function(){return this.isUserLoggedIn},isSameUserLoggedIn:function(userId){return userId>0&&userId==this.id},isSameUserLoggedInByUsername:function(username){return this.username&&username==this.username},isOneOfThese:function(userIds){if(!this.isUserLoggedIn){return false}return-1!==userIds.indexOf(parseInt(this.id))},setUser:function(){if($(".logged").length===0){return}$("body").find(".open_login").removeClass("open_login");var user=$(".logged").data("user");this.username=user.username;this.displayName=user.displayName;this.id=user.id;this.isUserLoggedIn=true;this.removeClassLogin()},getGridView:function(){return this.gridView},removeLoginIfLogged:function(){if(this.isUserLoggedIn){this.removeClassLogin()}},removeClassLogin:function(){$(".open_login").each(function(){$(this).removeClass("open_login")})},getUrl:function(){return Routing.generate("tv_user_homepage",{username:this.username})}};app.user.initialize();"use strict";var HistoryView=Backbone.View.extend({firstPoint:null,el:"body",reset:false,initialize:function(){var self=this;this.firstPoint=window.location.href;window.onpopstate=function(e){if(e.state){self._goBackHistory(e.state)}}},addHistoryPoint:function(history){if(history.datas.point=="first_state"){window.history.replaceState(history,"",history.url)}else{window.history.pushState(history,"",history.url)}},_goBackHistory:function(state){this.trigger("go_back_history_"+state.service,state)}});app.history=new HistoryView});
var app=app||{};(function(){app.dispatcher=_.clone(Backbone.Events);app.EVENTS={MENU_FILTER:"menu.filter"}})();
var app=app||{};(function(){app.buttons={load:function($button){var time=1e3;$button.find(".bt-load").remove();$button.append('<div class="bt-load"></div>');$button.addClass("is-loading");if($button.data("button")==="loading"){return}if($button.hasClass("active")){setTimeout(function(){$button.removeClass("is-loading");$button.removeClass("active");$button.find(".bt-content").text($button.data("text-start"))},time)}else{setTimeout(function(){$button.removeClass("is-loading");$button.addClass("active");$button.find(".bt-content").text($button.data("text-end"))},time)}}}})();
Handlebars.registerHelper("compare",function(lvalue,operator,rvalue,options){var operators,result;if(arguments.length<3){throw new Error("Handlerbars Helper 'compare' needs 2 parameters")}if(options===undefined){options=rvalue;rvalue=operator;operator="==="}operators={"==":function(l,r){return l==r},"===":function(l,r){return l===r},"!=":function(l,r){return l!=r},"!==":function(l,r){return l!==r},"<":function(l,r){return l<r},">":function(l,r){return l>r},"<=":function(l,r){return l<=r},">=":function(l,r){return l>=r},typeof:function(l,r){return typeof l==r}};if(!operators[operator]){throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+operator)}result=operators[operator](lvalue,rvalue);if(result){return options.fn(this)}else{return options.inverse(this)}});Handlebars.registerHelper("math",function(lvalue,operator,rvalue,options){lvalue=parseFloat(lvalue);rvalue=parseFloat(rvalue);return{"+":lvalue+rvalue,"-":lvalue-rvalue,"*":lvalue*rvalue,"/":lvalue/rvalue,"%":lvalue%rvalue}[operator]});Handlebars.registerHelper("darkenIfVoteActivity",function(item){if(item.type!="activity"){return}for(activity in item.actors){if(item.actors[activity].verb=="vote"){return" darken "}}return""});Handlebars.registerHelper("asset",function(path,options){return app.asset(path)});Handlebars.registerHelper("show_actors",function(activities){if(activities.length>1){var list='<ul class="list-users">';for(var i=0;i<activities.length;i++){var activity=activities[i];if(activity.verb=="collect"){list+='<li><div class="item"><img src="'+app.thumb(activity.actor.photo,"thumb_user_70")+'" width="32" height="32" alt="'+activity.actor.display_name+'"></div></li>'}}list+="</ul>";return new Handlebars.SafeString(list)}else{var actors_view="";for(var i=0;i<activities.length;i++){var activity=activities[i];if(activity.verb=="collect"){var actors_view='<div class="user-info"><a href="'+Routing.generate("tv_user_homepage",{username:activity.actor.username})+'"><img src="'+app.thumb(activity.actor.photo,"thumb_user_70")+'" width="32" height="32"></a><div class="row"><strong><a href="'+Routing.generate("tv_user_homepage",{username:activity.actor.username})+'">'+activity.actor.display_name+'</a></strong></div><div class="row"><a href="'+activity.target.url+'">'+activity.target.name+"</a></div></div>"}}if(actors_view===""){actors_view='<div class="box-left"></div>'}return new Handlebars.SafeString(actors_view)}});Handlebars.registerHelper("asset_local",function(path,options){return app.assetLocal(path)});Handlebars.registerHelper("number_format",function(number,options){return number.toFixed(2)});Handlebars.registerHelper("asset_tv",function(path,options){return app.assetTv(path)});Handlebars.registerHelper("asset_tv_user_thumb",function(path,thumb,options){return app.userThumb(path,thumb)});Handlebars.registerHelper("asset_thumb",function(path,thumb,options){return app.thumb(path,thumb)});Handlebars.registerHelper("add_http",function(url,options){if(!/^(?:f|ht)tps?\:\/\//.test(url)){url="http://"+url}return url});Handlebars.registerHelper("clean_url",function(url,options){return url.replace(/^https?:\/\//,"").replace(/^www\./,"")});Handlebars.registerHelper("icon",function(name,width,height,extra_classes,options){return new Handlebars.SafeString(app.icon(name,width,height,extra_classes))});Handlebars.registerHelper("icon-user",function(status,width,height,extra_classes,options){return new Handlebars.SafeString(app.icon("user-"+status,width,height,extra_classes))});Handlebars.registerHelper("color_for_note",function(score,options){var scoreInt=parseInt(score);var div="";if(scoreInt>=7){div='<div class="ico-check color-green"></div>'}else if(scoreInt<=4){div='<div class="ico-x"></div>'}return new Handlebars.SafeString(div)});Handlebars.registerHelper("path",function(path,options){return Routing.generate(path,options.hash)});
$(document).ready(function(){var Awwwards=Backbone.View.extend({el:"body",scrollPosition:0,menu:"default",heightToOpenScroll:140,tooltipUser:null,events:{keydown:"_triggerKeyPress","click .open_login":"openLoginLink","click #version-color":"_changeColor","click .js-nav-menu":"_openLanguageMenu","click .js-toggle":"_toggle","click .bt-gotop":"_goTop","mouseover .hover-animation":"_changeAnimated","mouseout .hover-animation":"_removeAnimation","mouseenter .js-user":"_openTooltip","mouseleave .js-user":"_closeTooltip","click #nav-main":"_stopPropagation","click #nav-main .dropdown":"_slideToggle","click .js-nav-main":"openMenu","click #nav-main a":"closeMenu","click .wrapper":"_wrapperClick","click .js-mobilefilters":"_mobileFilters","click .form-group":"_formClick","click .js-bt-loading":"_showLoadingButton","click .js-social":"_showNetworks"},initialize:function(){var self=this;$(".popup").popupWindow();if($("body").hasClass("style-dark")){$("#version-color").attr("checked","checked")}this._headerBehavior();this._addMenuUserMobile();this._registerListeners()},_showLoadingButton:function(ev){app.buttons.load($(ev.currentTarget))},_registerListeners:function(){app.dispatcher.on(app.EVENTS.MENU_FILTER,this.closeMenu,this)},_showNetworks:function(ev){$(ev.currentTarget).parent(".list-share-circles").find("ul").toggleClass("active")},_addMenuUserMobile:function(){if($("#header .logged").length){var menuUser_name=this.$("#header .name").text();var menuUser_ul=this.$(".bt-menu-user ul").html();var $menuUser=$('<li class="dropdown has-mobile"><span class="item">'+menuUser_name+"</span><ul>"+menuUser_ul+"</ul></li>");$menuUser.clone().insertBefore("#menu-main li:first")}else{$('<li class="has-mobile"><span class="item open_login">Register / Login</span></li>').insertBefore("#menu-main li:first")}},_formClick:function(ev){var form=$(ev.currentTarget);this.$(".form-group:not(.has-error)").not(form).each(function(){$(this).find(".msg-info").slideUp()});this.$(".form-group").removeClass("has-info");if(form.hasClass("has-error")){form.removeClass("has-error");form.find(".msg-info").show()}else{form.addClass("has-info");form.find(".msg-info").slideDown()}},_goTop:function(ev){ev.preventDefault();ev.stopPropagation();$("html, body").animate({scrollTop:0},800)},_mobileFilters:function(ev){if($(window).width()<700){this.$(".box-filters").toggleClass("mobile-show");this.$el.toggleClass("nav-sidebar-open");$(".box-filters").removeClass("active");ev.stopPropagation();ev.preventDefault()}},_slideToggle:function(ev){$(ev.currentTarget).find("ul").slideToggle()},_wrapperClick:function(){setTimeout(function(){this.$(".box-filters").removeClass("mobile-hide mobile-show")},300);this.$el.removeClass("nav-sidebar-open")},_stopPropagation:function(ev){ev.stopPropagation()},_toggle:function(ev){var clicked=$(ev.currentTarget);var id=clicked.data("id");$($("#"+id)).slideToggle()},_openLanguageMenu:function(ev){if(this.menu=="default"){var menu=$("#menu-lang");this.menu="lang"}else{var menu=$("#menu-main");this.menu="default"}$(".menu").removeClass("active");menu.addClass("active");$(ev.currentTarget).text(menu.data("menu-name"))},_headerBehavior:function(){var self=this;setTimeout(function(){$(window).scroll(function(){var scrollTop=$(window).scrollTop();if(scrollTop>self.heightToOpenScroll){$("#bt-submit").addClass("gotop");$(".bt-search").addClass("show-text")}else{$("#bt-submit").removeClass("gotop");$(".bt-search").removeClass("show-text")}if(scrollTop>70){$("#footer .bt-gotop").fadeIn()}else{$("#footer .bt-gotop").fadeOut()}})},300)},_triggerKeyPress:function(ev){this.trigger("key_press",ev.keyCode)},_changeAnimated:function(e){var current=$(e.currentTarget);current.attr("src",current.data("animated"))},_removeAnimation:function(e){var current=$(e.currentTarget);current.attr("src",current.data("src"))},_changeColor:function(){var value="style-dark";var text="Activate white option";if($("body").hasClass("style-dark")){var text="Activate black option";value=""}Cookies.set("style_view_page",value,{expires:7});$(".box-version > span").text(text);$("body").toggleClass("style-dark")},openLogin:function(){var login=new app.login;var lightbox=new app.LightBox;lightbox.show(login.render().el)},openLoginLink:function(ev){ev.preventDefault();app.awwwards.openLogin()},openMenu:function(){this.$el.toggleClass("nav-sidebar-open");$("html, body").animate({scrollTop:0},0);return false},closeMenu:function(){this.$el.removeClass("nav-sidebar-open")},_openTooltip:function(ev){var halfWindow=$(window).height()/2;var y=ev.clientY;var classBottom=halfWindow>y?"tooltip-bottom":"";var currentTarget=$(ev.currentTarget);var username=currentTarget.data("username");var tooltipModel=app.TooltipCollection.findOrCreateByUsername(username);this.tooltipUser=new app.Tooltip({model:tooltipModel,target:currentTarget,classBottom:classBottom}).render()},_closeTooltip:function(){if(this.tooltipUser){this.tooltipUser.abort()}}});app.awwwards=new Awwwards;var LightboxPool=Backbone.View.extend({zIndex:100,lightboxes:[],initialize:function(){var self=this;$(document).on("keyup",function(e){if(e.which===27&&self.lightboxes.length>0){self.lightboxes[self.lightboxes.length-1].close()}})},add:function(lightbox){this.lightboxes.push(lightbox);lightbox.$el.css("z-index",this.zIndex);this.zIndex++},remove:function(){this.lightboxes.pop();this.zIndex--}});app.lightboxes=new LightboxPool});
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["user"]=template({1:function(container,depth0,helpers,partials,data){return" darken "},3:function(container,depth0,helpers,partials,data){var stack1;return' data-src="'+container.escapeExpression((helpers.asset_thumb||depth0&&depth0.asset_thumb||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.background:stack1,"thumb_user_background_retina",{name:"asset_thumb",hash:{},data:data}))+'" class="lazy" '},5:function(container,depth0,helpers,partials,data){var stack1;return'                 <div class="note">'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.number:stack1,depth0))+"</div>\n"},7:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'            <div class="row"><strong><a href="'+alias3((helpers.add_http||depth0&&depth0.add_http||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,{name:"add_http",hash:{},data:data}))+'" class="url">'+alias3((helpers.clean_url||depth0&&depth0.clean_url||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,{name:"clean_url",hash:{},data:data}))+"</a></strong></div>\n"},9:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                    <li>\n                        <div class="tooltip">\n                            <div class="box-item '+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1.title:stack1,"Total",{name:"compare",hash:{},fn:container.program(10,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n                                <span>'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1["let"]:stack1,depth0))+"</span>\n                                <strong>"+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.count:stack1,depth0))+'</strong>\n                            </div>\n                            <div class="box-tooltip">\n                                <div class="tooltip-text">'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.title:stack1,depth0))+"</div>\n                            </div>\n                        </div>\n                    </li>\n"},10:function(container,depth0,helpers,partials,data){return"style-dark"},12:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                    <li>\n                        <div class="tooltip">\n                            <div class="box-item box-usertype style-dark js-usertype">\n                                <span class="text-uppercase">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.status:stack1,depth0))+"</span>\n                                "+alias2((helpers["icon-user"]||depth0&&depth0["icon-user"]||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.status:stack1,11,14,{name:"icon-user",hash:{},data:data}))+'\n                            </div>\n                            <div class="box-tooltip">\n                                <div class="tooltip-text">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.status:stack1,depth0))+" User</div>\n                            </div>\n                        </div>\n                    </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'<div class="box-item box-style4">\n    <a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'" class="profile-link">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'</a>\n    <div class="box-cover">\n        <figure class="rollover '+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_winner_list:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n            <img src="'+alias2((helpers.asset||depth0&&depth0.asset||alias4).call(alias3,"bundles/tvweb/images/nophoto-directory.png",{name:"asset",hash:{},data:data,blockParams:blockParams}))+'" '+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.background:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+' alt="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'" />\n'+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_winner_list:stack1,{name:"if",hash:{},fn:container.program(5,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        </figure>\n        <div class="avatar">\n            <img src="'+alias2((helpers.asset||depth0&&depth0.asset||alias4).call(alias3,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data,blockParams:blockParams}))+'" width="70" height="70" data-src="'+alias2((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1,"thumb_user_retina",{name:"asset_thumb",hash:{},data:data,blockParams:blockParams}))+'" alt="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'" class="lazy" />\n\n        </div>\n    </div>\n    <div class="box-info">\n        <div class="content">\n            <h3 class="row"><a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+"</a></h3>\n"+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,{name:"if",hash:{},fn:container.program(7,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'            <div class="row">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.country:stack1,depth0))+'</div>\n        </div>\n        <div class="footer">\n            <ul class="list-number-awards">\n'+((stack1=helpers.each.call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.awards:stack1,{name:"each",hash:{},fn:container.program(9,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_directory:stack1,{name:"if",hash:{},fn:container.program(12,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"            </ul>\n        </div>\n    </div>\n</div>\n"},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["user_follow"]=template({1:function(container,depth0,helpers,partials,data){return" active"},3:function(container,depth0,helpers,partials,data){return"Following User!"},5:function(container,depth0,helpers,partials,data){return"Follow User!"},7:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                    <li class="favorites">\n                        '+alias1(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following_count:stack1,depth0))+"\n                        "+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"heart",15,14,{name:"icon",hash:{},data:data}))+"\n                    </li>\n"},9:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                    <li class="collections">\n                       '+alias1(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.colletions_count:stack1,depth0))+"\n                       "+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"books",15.57,14,{name:"icon",hash:{},data:data}))+"\n                    </li>\n"},11:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                    <li class="awards">\n                        '+alias1(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.awards_count:stack1)!=null?stack1.total_awards:stack1,depth0))+"\n                        "+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"medal",12.39,14,{name:"icon",hash:{},data:data}))+"\n                    </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'<div class="box-item box-style7">\n    <a class="profile-link" href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'</a>\n    <div class="box-info">\n        <div class="content">\n            <div class="bt-icon">\n                <div class="tooltip">\n                    <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'">\n                        <span class="bt-content"></span>\n                    </div>\n                    <div class="box-tooltip">\n                        <div class="tooltip-text">'+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(5,data,0),data:data}))!=null?stack1:"")+'</div>\n                    </div>\n                </div>\n            </div>\n            <div class="avatar-profile">\n               <img width="70" height="70" src="'+alias2((helpers.asset_tv||depth0&&depth0.asset_tv||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1,{name:"asset_tv",hash:{},data:data}))+'" data-src="'+alias2((helpers.asset_tv||depth0&&depth0.asset_tv||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1,{name:"asset_tv",hash:{},data:data}))+'"/>\n                <div class="user-type">\n                    '+alias2((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.status:stack1,11,14,{name:"icon-user",hash:{},data:data}))+'\n                </div>\n            </div>\n            <h3 class="row"><a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'</a></h3>\n            <div class="row">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.country:stack1,depth0))+'</div>\n            <div class="row">\n                <ul class="list-stats-icons">\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following_count:stack1,">",0,{name:"compare",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.colletions_count:stack1,">",0,{name:"compare",hash:{},fn:container.program(9,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.awards_count:stack1)!=null?stack1.total_awards:stack1,">",0,{name:"compare",hash:{},fn:container.program(11,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["filter"]=template({1:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'    <div class="box-right">\n        <ul class="menu-filters">\n            <li class="item dropdown not-arrow">\n                <span class="name-filter grid-icon">\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"grid",13,13,"ico-13",{name:"icon",hash:{},data:data}))+'\n                </span>\n                <div class="menu-dropdown style2 position-right">\n                    <ul class="icons">\n                        <li class="change_grid" data-cols=3>\n                            <span class="ico-link">Small Screenshots</span>\n                            '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"grid",13,13,"ico-13 ico-rendering",{name:"icon",hash:{},data:data}))+'\n                        </li>\n                        <li class="change_grid" data-cols=4>\n                            <span class="ico-link">Big screenshots</span>\n                            '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"grid-2cols",14,13,"ico-13 ico-rendering",{name:"icon",hash:{},data:data}))+"\n                        </li>\n                    </ul>\n                </div>\n            </li>\n        </ul>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="bt-menu has-mobile js-mobilefilters">\n    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n</div>\n<div class="container">\n    <div class="box-left">\n        <ul class="menu-filters">\n            <li class="item item-btclose has-mobile js-mobilefilters">\n                <span>FILTERS</span>\n            </li>\n            <li class="item has-desktop">\n                '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n            </li>\n            <li class="item dropdown item-looking selected" id="filters-section">\n                <span class="name-filter">Websites</span>\n                <div class="menu-dropdown style2">\n                    <ul>\n                        <li><strong><a data-type="submission" href="#" data-count="3681">Websites</a></strong></li>\n                        <li><strong><a data-type="collections" href="#" data-count="376">Collections</a></strong></li>\n                        <li><strong><a data-type="blog" href="#" data-count="1245">Magazine</a></strong></li>\n                    </ul>\n                </div>\n            </li>\n        </ul>\n    </div>\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.show_view_options:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["submission"]=template({1:function(container,depth0,helpers,partials,data){return' <div class="box-image"> '},3:function(container,depth0,helpers,partials,data){return" no-hover"},5:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <img src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'"  width="417" height="299">\n                <span class="img-crop">\n                    <video class="video-item js-video-hover lazy-video" height="417" width="299" poster="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(6,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' muted loop>\n                        <source src="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" type="video/mp4">\n                    </video>\n                </span>\n'},6:function(container,depth0,helpers,partials,data){return" autoplay "},8:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing;return'                <img src="'+container.escapeExpression((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data,blockParams:blockParams}))+'"  width="417" height="299">\n                <span class="img-crop">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(9,data,0,blockParams),inverse:container.program(14,data,0,blockParams),data:data,blockParams:blockParams}))!=null?stack1:"")+"                </span>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"activity",{name:"compare",hash:{},fn:container.program(23,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")},9:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=container.escapeExpression;return'                        <img width="417" height="299" src="'+alias2((helpers.asset||depth0&&depth0.asset||helpers.helperMissing).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" alt="'+alias2(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(10,data,0),inverse:container.program(12,data,0),data:data}))!=null?stack1:"")+'" class="lazy"/>\n'},10:function(container,depth0,helpers,partials,data){var stack1;return" "+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,{name:"asset_tv",hash:{},data:data}))},12:function(container,depth0,helpers,partials,data){var stack1;return" "+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+" "},14:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.lazy_load:stack1,{name:"if",hash:{},fn:container.program(15,data,0),inverse:container.program(20,data,0),data:data}))!=null?stack1:""},15:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                            <img width="417" height="299" src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(16,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' class="lazy '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(18,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'"/>\n'},16:function(container,depth0,helpers,partials,data){var stack1;return' data-animated="'+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,{name:"asset_tv",hash:{},data:data}))+'" '},18:function(container,depth0,helpers,partials,data){return" hover-animation "},20:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                            <img width="417" height="299" src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(16,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(21,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" />\n"},21:function(container,depth0,helpers,partials,data){return'class="hover-animation"'},23:function(container,depth0,helpers,partials,data,blockParams){var stack1;return(stack1=helpers.each.call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.actors:stack1,{name:"each",hash:{},fn:container.program(24,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:""},24:function(container,depth0,helpers,partials,data,blockParams){var stack1;return(stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1.verb:stack1,"vote",{name:"compare",hash:{},fn:container.program(25,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:""},25:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                            <div class="note">'+container.escapeExpression((helpers.number_format||depth0&&depth0.number_format||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=blockParams[1][0])!=null?stack1.target:stack1)!=null?stack1.total:stack1,{name:"number_format",hash:{},data:data,blockParams:blockParams}))+"</div>\n"},27:function(container,depth0,helpers,partials,data){var stack1;return'             <div class="above-item top">\n                <span class="bt-item bt-dark">'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(28,data,0),inverse:container.program(30,data,0),data:data}))!=null?stack1:"")+"</span>\n            </div>\n"},28:function(container,depth0,helpers,partials,data){return"VIDEO"},30:function(container,depth0,helpers,partials,data){return"GIF"},32:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers.unless.call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.simple_view:stack1,{name:"unless",hash:{},fn:container.program(33,data,0),inverse:container.noop,data:data}))!=null?stack1:""},33:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.time_to_finish_vote:stack1,{name:"if",hash:{},fn:container.program(34,data,0),inverse:container.noop,data:data}))!=null?stack1:""},34:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="hover-item top left">\n                    <div class="time-left">\n                        <div class="row">\n                            <strong>'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.time_to_finish_vote:stack1)!=null?stack1.days:stack1,depth0))+'</strong>\n                            <span>DAYS</span>\n                        </div>\n                        <div class="row">\n                            <strong>'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.time_to_finish_vote:stack1)!=null?stack1.hours:stack1,depth0))+'</strong>\n                            <span>HOURS</span>\n                        </div>\n                        <div class="row">\n                            <strong>'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.time_to_finish_vote:stack1)!=null?stack1.minutes:stack1,depth0))+'</strong>\n                            <span>MIN.</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="hover-item center">\n                    <a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" class="vote-now">VOTE NOW!</a>\n                </div>\n'},36:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                <a class="bt-item bt-link" href="'+alias1(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.external_url:stack1,depth0))+'" target="_blank">\n                    '+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"link",22.24,14,{name:"icon",hash:{},data:data}))+"\n                </a>\n"},38:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_external:stack1,{name:"if",hash:{},fn:container.program(39,data,0),inverse:container.noop,data:data}))!=null?stack1:""},39:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                    <a class="bt-item bt-link" href="'+alias1(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.external_url:stack1,depth0))+'" target="_blank">\n                        '+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"link",22.24,14,{name:"icon",hash:{},data:data}))+"\n                    </a>\n"},41:function(container,depth0,helpers,partials,data){return" </div> "},43:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,{name:"if",hash:{},fn:container.program(44,data,0),inverse:container.program(46,data,0),data:data}))!=null?stack1:""},44:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda;return'                    <h3><a href="'+container.escapeExpression(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" class="">'+((stack1=alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))!=null?stack1:"")+"</a></h3>\n"},46:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda;return'                    <h3><a href="'+container.escapeExpression(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" class="">'+((stack1=alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))!=null?stack1:"")+"</a></h3>\n"},48:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda;return'                <h3><a href="'+container.escapeExpression(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" class="">'+((stack1=alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))!=null?stack1:"")+"</a></h3>\n"},50:function(container,depth0,helpers,partials,data){var stack1;return'                <div class="row">\n                    '+((stack1=container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title:stack1,depth0))!=null?stack1:"")+"\n                </div>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,false,{name:"compare",hash:{},fn:container.program(51,data,0),inverse:container.noop,data:data}))!=null?stack1:"")},51:function(container,depth0,helpers,partials,data){var stack1;return'                    <div class="row">\n                        '+((stack1=container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.date:stack1,depth0))!=null?stack1:"")+"\n                    </div>\n"},53:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="row">\n                    By <strong><a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.display_name:stack1,depth0))+'</a></strong> in <strong><a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxon:stack1)!=null?stack1.url:stack1,depth0))+'" class="text-black">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxon:stack1)!=null?stack1.name:stack1,depth0))+"</a></strong>\n                </div>\n"},55:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="row">\n                    An item from <strong><a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+"</a></strong>\n                </div>\n"+((stack1=helpers.unless.call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.simple_view:stack1,{name:"unless",hash:{},fn:container.program(56,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")},56:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                <div class="row">\n'+((stack1=helpers.each.call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxons:stack1,{name:"each",hash:{},fn:container.program(57,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"                </div>\n"},57:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                        <strong><a href="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.name:stack1,depth0))+"</a></strong>\n"},59:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{};return'                <div class="row">\n                    Added by <strong><a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.display_name:stack1,depth0))+"</a></strong>\n"+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(60,data,0),inverse:container.program(62,data,0),data:data}))!=null?stack1:"")+"                </div>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,false,{name:"compare",hash:{},fn:container.program(66,data,0),inverse:container.noop,data:data}))!=null?stack1:"")},60:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                            In <strong><a href="'+alias1((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_user_collection",{name:"path",hash:{slug:(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1)!=null?stack1.slug:stack1,username:(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.username:stack1},data:data}))+'" class="text-black">'+alias1(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1)!=null?stack1.name:stack1,depth0))+"</a></strong>\n"},62:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1,{name:"if",hash:{},fn:container.program(63,data,0),inverse:container.noop,data:data}))!=null?stack1:""},63:function(container,depth0,helpers,partials,data){var stack1;return"                                "+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.country:stack1,{name:"if",hash:{},fn:container.program(64,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"\n"},64:function(container,depth0,helpers,partials,data){var stack1;return" from <strong>"+container.escapeExpression(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.country:stack1,depth0))+"</strong>"},66:function(container,depth0,helpers,partials,data){var stack1;return'                 <div class="row">\n'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1,{name:"if",hash:{},fn:container.program(67,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"                </div>\n"},67:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                        In <strong><a href="'+alias1((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_user_collection",{name:"path",hash:{slug:(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1)!=null?stack1.slug:stack1,username:(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.username:stack1},data:data}))+'" class="text-black">'+alias1(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1)!=null?stack1.name:stack1,depth0))+"</a></strong>\n"},69:function(container,depth0,helpers,partials,data){var stack1;return'                <div class="row">\n                        '+container.escapeExpression(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collectable:stack1)!=null?stack1.fields:stack1,depth0))+"\n                </div>\n"},71:function(container,depth0,helpers,partials,data){var stack1;return"                        "+container.escapeExpression((helpers.show_actors||depth0&&depth0.show_actors||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.actors:stack1,{name:"show_actors",hash:{},data:data}))+"\n"},73:function(container,depth0,helpers,partials,data){var stack1;return(stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{collected_count:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collected_count:stack1,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,indent:"                    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:""},75:function(container,depth0,helpers,partials,data){return'                        <div class="bt-icon remove_collectable">\n                            <div class="tooltip">\n                                <div class="bt-default">\n                                    '+container.escapeExpression((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"trash",14,14,{name:"icon",hash:{},data:data}))+'\n                                </div>\n                                <div class="box-tooltip">\n                                    <div class="tooltip-text">Delete!</div>\n                                </div>\n                            </div>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="box-item">\n    '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.mobile_view:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'\n    <figure class="rollover'+alias3((helpers.darkenIfVoteActivity||depth0&&depth0.darkenIfVoteActivity||alias2).call(alias1,depth0!=null?depth0.item:depth0,{name:"darkenIfVoteActivity",hash:{},data:data,blockParams:blockParams}))+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n        <a href="'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(5,data,0,blockParams),inverse:container.program(8,data,0,blockParams),data:data,blockParams:blockParams}))!=null?stack1:"")+"        </a>\n"+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(27,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"\n"+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_voting_process_open:stack1,{name:"if",hash:{},fn:container.program(32,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        <div class="hover-item top">\n            <span class="bt-item bt-facebook popup" data-link="http://www.facebook.com/sharer.php?u='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+"&amp;t="+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'">'+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"facebook",6.5,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+'</span> <span class="bt-item bt-twitter popup" data-link="http://twitter.com/share?text='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+"&amp;url="+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"twitter",17,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+'</span> <span class="bt-item bt-googleplus popup" data-link="https://plus.google.com/share?url='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"googleplus",21,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+'</span>\n        </div>\n        <div class="hover-item bottom">\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"!=","post",{name:"compare",hash:{},fn:container.program(36,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(38,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"        </div>\n    </figure>\n    "+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.mobile_view:stack1,{name:"if",hash:{},fn:container.program(41,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'\n    <div class="box-info">\n        <div class="content">\n            <div class="row">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(43,data,0,blockParams),inverse:container.program(48,data,0,blockParams),data:data,blockParams:blockParams}))!=null?stack1:"")+"            </div>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"submission",{name:"compare",hash:{},fn:container.program(50,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(53,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"element",{name:"compare",hash:{},fn:container.program(55,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"external",{name:"compare",hash:{},fn:container.program(59,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"activity",{name:"compare",hash:{},fn:container.program(69,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'\n        </div>\n        <div class="footer">\n            <div class="box-users-likes">\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"activity",{name:"compare",hash:{},fn:container.program(71,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"!=","activity",{name:"compare",hash:{},fn:container.program(73,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'                <div class="bts">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.delete_available:stack1,{name:"if",hash:{},fn:container.program(75,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=container.invokePartial(partials.add_to_collection_button,depth0,{name:"add_to_collection_button",data:data,blockParams:blockParams,indent:"                    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+"                </div>\n            </div>\n        </div>\n    </div>\n</div>"},usePartial:true,useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["footer"]=template({1:function(container,depth0,helpers,partials,data){var stack1;return'    <div class="bts">\n'+((stack1=container.invokePartial(partials.add_to_collection_button,depth0,{name:"add_to_collection_button",data:data,indent:"        ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+"    </div>\n"},3:function(container,depth0,helpers,partials,data){var stack1;return'    <div class="bts">\n        <div class="bt-icon">\n            <div class="tooltip">\n                <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'">\n                    <span class="bt-content"></span>\n                </div>\n                <div class="box-tooltip">\n                    <div class="tooltip-text">Follow Collection!</div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},4:function(container,depth0,helpers,partials,data){return" active"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing;return'<div class="box-users-likes">\n'+((stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{collected_count:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collected_count:stack1,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,indent:"    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"!=","collection",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"collection",{name:"compare",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"</div>\n"},usePartial:true,useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["post"]=template({1:function(container,depth0,helpers,partials,data){return' target="_blank" '},3:function(container,depth0,helpers,partials,data){return'            <div class="above-item top left">\n                <span class="bt-item bt-default">COLLECTION</span>\n            </div>\n'},5:function(container,depth0,helpers,partials,data){return'            <div class="above-item top left">\n                <span class="bt-item bt-default">ARTICLE</span>\n            </div>\n'},7:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_external_article:stack1,{name:"if",hash:{},fn:container.program(8,data,0),inverse:container.program(10,data,0),data:data}))!=null?stack1:""},8:function(container,depth0,helpers,partials,data){return'                <div class="above-item top left">\n                    <span class="bt-item bt-default">EXTERNAL</span>\n                </div>\n'},10:function(container,depth0,helpers,partials,data){return'                <div class="above-item top left">\n                    <span class="bt-item bt-default">ARTICLE</span>\n                </div>\n'},12:function(container,depth0,helpers,partials,data){var stack1;return"                        "+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))+"\n"},14:function(container,depth0,helpers,partials,data){var stack1;return"                        "+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+"\n"},16:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="row">\n                    Curated By <strong><a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.homepage:stack1,depth0))+'">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.display_name:stack1,depth0))+"</a></strong>\n                </div>\n"},18:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="row">\n                    <strong>\n                        <a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxon:stack1)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxon:stack1)!=null?stack1.name:stack1,depth0))+"</a>\n                    </strong>\n                </div>\n"},20:function(container,depth0,helpers,partials,data){var stack1;return'                <div class="bts">\n                    <div class="bt-icon">\n                        <div class="tooltip">\n                            <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(21,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'">\n                                <span class="bt-content"></span>\n                            </div>\n                            <div class="box-tooltip">\n                                <div class="tooltip-text">Follow Collection!</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n'},21:function(container,depth0,helpers,partials,data){return" active"},23:function(container,depth0,helpers,partials,data){var stack1;return'                <div class="bts">\n'+((stack1=container.invokePartial(partials.add_to_collection_button,depth0,{name:"add_to_collection_button",data:data,indent:"                    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+"                </div>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'<div class="box-item box-style5">\n    <a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" '+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_external_article:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' class="item-link"></a>\n    <div class="rollover">\n        <div class="box-cover">\n            <img src="'+alias2((helpers.asset||depth0&&depth0.asset||alias4).call(alias3,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" data-src="'+alias2((helpers.asset_tv||depth0&&depth0.asset_tv||alias4).call(alias3,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" data-src-2x="'+alias2((helpers.asset_tv||depth0&&depth0.asset_tv||alias4).call(alias3,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" class="lazy" />\n        </div>\n        <a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" class="item-link"></a>\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"collection",{name:"compare",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(5,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"external",{name:"compare",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'        <div class="hover-item top">\n            <span class="bt-item bt-facebook popup" data-link="http://www.facebook.com/sharer.php?u='+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n                '+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"facebook",6.5,14,{name:"icon",hash:{},data:data}))+'\n            </span>\n            <span class="bt-item bt-twitter popup" data-link="http://twitter.com/share?text='+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+"&amp;url="+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n                '+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"twitter",17,14,{name:"icon",hash:{},data:data}))+'\n            </span>\n            <span class="bt-item bt-googleplus popup" data-link="https://plus.google.com/share?url='+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n                '+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"googleplus",21,14,{name:"icon",hash:{},data:data}))+'\n            </span>\n        </div>\n    </div>\n    <div class="box-info">\n        <div class="content">\n            <div class="row">\n                <h3><a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" '+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_external_article:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+">\n"+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,{name:"if",hash:{},fn:container.program(12,data,0),inverse:container.program(14,data,0),data:data}))!=null?stack1:"")+"                    </a></h3>\n            </div>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"collection",{name:"compare",hash:{},fn:container.program(16,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(18,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'        </div>\n        <div class="footer">\n            <div class="box-users-likes">\n'+((stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{collected_count:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collected_count:stack1,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,indent:"                ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"collection",{name:"compare",hash:{},fn:container.program(20,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(23,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:true,useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["create_collection"]=template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                            <option value="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.id:stack1,depth0))+'" '+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1.id:stack1,(stack1=(stack1=depths[1]!=null?depths[1].data:depths[1])!=null?stack1.collection:stack1)!=null?stack1.category:stack1,{name:"compare",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+" >"+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.name:stack1,depth0))+"</option>\n"},2:function(container,depth0,helpers,partials,data){return"  selected "},4:function(container,depth0,helpers,partials,data){return'                    <span class="link-delete cursor-pointer js-tab" data-tab="tab-delete-confirm">Delete Collection</span>\n'},6:function(container,depth0,helpers,partials,data){return'                    <span class="bt-cancel link-2 js-tab" data-tab="tab-collections">Cancel</span>\n'},8:function(container,depth0,helpers,partials,data){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{};return'<div class="box-content">\n    <div class="box-top">\n        <div class="content">\n            <h3 class="heading-small">'+alias2(alias1((stack1=depth0!=null?depth0.data:depth0)!=null?stack1.title:stack1,depth0))+'</h3>\n            <div class="row">\n                <div class="form-group name-group">\n                    <input type="text" id="folder-name" class="text-input" maxlength="40" value="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.data:depth0)!=null?stack1.collection:stack1)!=null?stack1.name:stack1,depth0))+'" placeholder="Name..." />\n                    <div class="msg name-error-msg alert" style="display: none;">You must fill name.</div>\n                </div>\n            </div>\n            <div class="row">\n                <input type="text" id="folder-description" class="text-input"  maxlength="250" value="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.data:depth0)!=null?stack1.collection:stack1)!=null?stack1.description:stack1,depth0))+'" placeholder="Description..." />\n            </div>\n            <div class="row">\n                <div class="form-group">\n                    <select id="collection_category" class="chosen chosen-arrow chosen-nosearch" data-placeholder="Choose a Category...">\n                         <option value=""></option>\n'+((stack1=helpers.each.call(alias3,(stack1=depth0!=null?depth0.data:depth0)!=null?stack1.categories:stack1,{name:"each",hash:{},fn:container.program(1,data,1,blockParams,depths),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'                    </select>\n                    <div class="msg category-error-msg alert" style="display: none;">Choose one category.</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="box-bottom">\n        <div class="content box-bts">\n            <div class="box-left">\n                <input type="submit" class="button new-folder" value="'+alias2(alias1((stack1=depth0!=null?depth0.data:depth0)!=null?stack1.action:stack1,depth0))+'" />\n'+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.data:depth0)!=null?stack1["delete"]:stack1,{name:"if",hash:{},fn:container.program(4,data,0,blockParams,depths),inverse:container.program(6,data,0,blockParams,depths),data:data,blockParams:blockParams}))!=null?stack1:"")+'            </div>\n            <div class="box-right">\n                <div class="box-check">\n                    <span class="label">Private?</span>\n                    <div class="input-check-toggle">\n                        <input id="private" '+((stack1=helpers["if"].call(alias3,(stack1=(stack1=depth0!=null?depth0.data:depth0)!=null?stack1.collection:stack1)!=null?stack1["private"]:stack1,{name:"if",hash:{},fn:container.program(8,data,0,blockParams,depths),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+' type="checkbox" />\n                        <label for="private">\n                            <span>No</span>\n                            <span>Yes</span>\n                            <div class="ball"></div>\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_collection"]=template({1:function(container,depth0,helpers,partials,data){return'        <div class="box-msg">\n            <div>\n                <p>\n                    '+container.escapeExpression((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"collections-add",40,40,"ico-40",{name:"icon",hash:{},data:data}))+"\n                </p>\n                <p><strong>Organize and share your Favorites</strong></p>\n                <p>Organize your favorite sites, create collections for your projects and share them with your team or clients.</p>\n            </div>\n        </div>\n"},3:function(container,depth0,helpers,partials,data){var stack1;return(stack1=container.invokePartial(partials.loader,depth0,{name:"loader",data:data,indent:"            ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:""},5:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=container.lambda,alias3=container.escapeExpression;return'                <li class="add-to-collection '+((stack1=helpers["if"].call(alias1,(stack1=blockParams[0][0])!=null?stack1.is_collected:stack1,{name:"if",hash:{},fn:container.program(6,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"\" data-id='"+alias3(alias2((stack1=blockParams[0][0])!=null?stack1.id:stack1,depth0))+'\'>\n                    <div class="info">\n                        <span class="title">'+alias3(alias2((stack1=blockParams[0][0])!=null?stack1.name:stack1,depth0))+'</span>\n                        <span class="number">'+alias3(alias2((stack1=blockParams[0][0])!=null?stack1.n_collected:stack1,depth0))+" elements</span>\n"+((stack1=helpers["if"].call(alias1,(stack1=blockParams[0][0])!=null?stack1.is_collaborator:stack1,{name:"if",hash:{},fn:container.program(8,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'                    </div>\n                    <div class="thumbs">\n'+((stack1=helpers.each.call(alias1,(stack1=blockParams[0][0])!=null?stack1.images:stack1,{name:"each",hash:{},fn:container.program(10,data,1,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"                    </div>\n                </li>\n"},6:function(container,depth0,helpers,partials,data){return"  active "},8:function(container,depth0,helpers,partials,data){return'                            <span class="collaborator">Collaborator</span>\n'},10:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                            <img width="80" height="65" src="'+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data,blockParams:blockParams}))+'">\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{};return'<div class="box-content">\n    <div class="box-top">\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.empty_collections_loaded:depth0,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.loading_collections:depth0,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        <ul class="list-collections">\n'+((stack1=helpers.each.call(alias1,depth0!=null?depth0.collections:depth0,{name:"each",hash:{},fn:container.program(5,data,1,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        </ul>\n    </div>\n    <div class="box-bottom">\n        <div class="bt-add cursor-pointer js-tab bt-create-collection" data-tab="tab-form">Create a new collection</div>\n    </div>\n</div>\n'},usePartial:true,useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_to_collection_container"]=template({1:function(container,depth0,helpers,partials,data){var stack1;return'    <div class="box-element">\n        <div class="content">\n            <img width="400" height="287" src="'+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.image:depth0)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" id="element" />\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.image:depth0)!=null?stack1["static"]:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'<div class="box-categories"></div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["collaborators_in"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="box-content-default size-small">\n    <div class="content">\n        <div class="box-share-collection">\n            <h3 class="heading-small title">Share Collection</h3>\n            <h3 class="heading-small">'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.collection:depth0)!=null?stack1.name:stack1,depth0))+'</h3>\n            <div class="row">\n                <div class="form-collaborator">\n                    <input type="text" id="username" class="text-input js-showusers" placeholder="Email or Username" autocomplete="off">\n                    <div class="box-users-autocomplete" style="display: none;">\n                        <ul id="suggest-list"></ul>\n                    </div>\n                </div>\n                <div class="box-users-likes">\n                    <ul class="list-users"></ul>\n                </div>\n                <div class="box-bts">\n                    <div class="box-left">\n                        <input type="submit" class="button js-lightbox-close" value="DONE">\n                        <span class="link-cancel bt-cancel link-2 js-lightbox-close">Cancel</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["btns"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="box-users-likes '+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.class_footer:stack1,depth0))+'">\n'+((stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{class_list:"size-medium",collected_count:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collected_count:stack1,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,indent:"    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+((stack1=container.invokePartial(partials.add_to_collection_button,depth0,{name:"add_to_collection_button",data:data,indent:"    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+"</div>\n"},usePartial:true,useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["vote"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'\n<ul class="vote-site vote-'+alias2(alias1((stack1=depth0!=null?depth0.vote_process:depth0)!=null?stack1.key:stack1,depth0))+'">\n    <li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li>\n</ul>\n<div class="step">\n    <span>'+alias2(alias1((stack1=depth0!=null?depth0.vote_process:depth0)!=null?stack1.title:stack1,depth0))+"</span>\n    <span>"+alias2(alias1((stack1=depth0!=null?depth0.vote_process:depth0)!=null?stack1.step:stack1,depth0))+"</span>\n</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["search"]=template({1:function(container,depth0,helpers,partials,data){return" show-tags"},3:function(container,depth0,helpers,partials,data){return" active "},5:function(container,depth0,helpers,partials,data,blockParams){return'                <div class="bt-tag">'+container.escapeExpression(container.lambda(blockParams[0][0],depth0))+'<div class="close bt-remove-tag"></div></div>\n'},7:function(container,depth0,helpers,partials,data){return' style="display:none" '},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=container.escapeExpression,alias3=container.lambda;return'<div class="box-left">\n    <div class="box-input '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.search:depth0)!=null?stack1.showWords:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+' ">\n        <div class="item ico-search">\n            '+alias2((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(alias1,"search",14,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+'\n        </div>\n        <div class="box-search-tags '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.search:depth0)!=null?stack1.showWords:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'"  >\n'+((stack1=helpers.each.call(alias1,(stack1=depth0!=null?depth0.search:depth0)!=null?stack1.words:stack1,{name:"each",hash:{},fn:container.program(5,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        </div>\n        <input type="text" id="search-text" placeholder="SEARCH FOR INSPIRATION (HTML5, VR, RED, MINIMAL...)" data-placeholder="SEARCH FOR INSPIRATION (HTML5, VR, RED, MINIMAL...)" data-placeholder-mobile="SEARCH FOR INSPIRATION" autocomplete="off" class="search-input js-search-input" value="'+alias2(alias3((stack1=depth0!=null?depth0.search:depth0)!=null?stack1.text:stack1,depth0))+'" '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.search:depth0)!=null?stack1.showWords:stack1,{name:"if",hash:{},fn:container.program(7,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'>\n        <div class="search-info">\n            <div class="row default active"><strong><a href="'+alias2(alias3((stack1=depth0!=null?depth0.search:depth0)!=null?stack1.filtersLinks:stack1,depth0))+'" class="link-1">SHOW FILTERS</a></strong></div>\n            <div class="row results">346 RESULTS</div>\n        </div>\n        <div class="box-search-autocomplete">\n\n        </div>\n    </div>\n</div>\n<div class="box-right">\n    <div class="bt-close js-search-close"></div>\n</div>\n'},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_collection_partial"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="bt-icon add-like open-folder like">\n    <div class="tooltip">\n        <div class="bt-add-like js-bt-load">\n        \t<span class="bt-content"></span>\n        </div>\n        <div class="box-tooltip">\n            <div class="tooltip-text">Add to Collections!</div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["select_option"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-collections">\n    <div class="box-elements">\n        <div class="tab-form active" id="tab-init">\n            <div class="content">\n                <h3 class="heading-small"><span class="text-gray">Add an element to</span></h3>\n                <div class="row">\n                    <div class="button width-full action-box-external-link">ADD AN URL</div>\n                </div>\n                <div class="row">\n                    <div class="button width-full action-box-external-image" >ADD IMAGE, GIF OR VIDEO</div>\n                </div>\n                <div class="row">\n                    <span class="bt-cancel link-2 js-lightbox-close" >Cancel</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="bt-close js-lightbox-close"></div>\n\n\n\n\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_external_link"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="default" style="display: block;">\n    <div class="content">\n        <h3 class="heading-small">Add a favourite to collection</h3>\n        <div class="row">\n            <div class="form-group url-input">\n                <input type="text" class="text-input url" placeholder="http://" value="http://" />\n                <div class="msg url-message" style="display:none">Wrong url!</div>\n            </div>\n        </div>\n        <div class="box-bts">\n            <div class="box-left">\n                <input type="submit" class="button next-step" data-tab="tab-02" value="NEXT">\n                <span class="bt-cancel link-2 skip">Skip this step</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="selectImage" style="display: none;">\n    <div class="box-add-image">\n        <div class="photo" style="display: none">\n            <img src="#" >\n        </div>\n        <div class="box-loading style2">\n            <div class="spinner"></div>\n        </div>\n        <div class="no-photo" style="display:none">\n            '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"photo",18.667,14,{name:"icon",hash:{},data:data}))+'\n            <div class="button button-ico js-tab" data-tab="tab-upload-image">\n                UPLOAD IMAGE\n                '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"photo",18.667,14,{name:"icon",hash:{},data:data}))+'\n            </div>\n        </div>\n        <div class="nav">\n            <div class="bt bt-prev"></div>\n            <div class="bt bt-next"></div>\n        </div>\n    </div>\n    <div class="content">\n        <div class="row">\n            <div class="form-group title-group">\n                <input type="text" class="text-input title" placeholder="Title">\n                <div class="msg title-error-msg" style="display: none;">You must fill title.</div>\n            </div>\n        </div>\n        <div class="row">\n            <input type="text" class="text-input tags" placeholder="Tags">\n            <div class="ex">Ex. html5, virtual reality, portfolio</div>\n        </div>\n        <div class="box-bts">\n            <div class="box-left">\n                <input type="submit" class="button save" value="SAVE">\n                <span class="bt-cancel link-2 js-tab cancel" >Cancel</span>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_image"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=container.escapeExpression;return'<div class="box-add-image">\n    <div class="add-photo">\n        <div class="alert image-error-msg" style=\'display:none\'>Image error!</div>\n        <div class="alert image-error-size-msg" style=\'display:none\'>Your image is greather than 5 MB!</div>\n        <div class="photo" style="display: none">\n        </div>\n        <div class="box-loading style2">\n            <div class="spinner"></div>\n        </div>\n        <div class="info">\n            <div class="box-input-file style2">\n                <form id="uploadImageForm" action="'+alias1(container.lambda((stack1=depth0!=null?depth0.datas:depth0)!=null?stack1.upload_route:stack1,depth0))+'" method="post" enctype="multipart/form-data">\n                    <input type="file" name="file" id="file" class="input-file image">\n                </form>\n                <label for="file">\n                    <strong>UPLOAD IMAGE, GIF OR VDEO</strong>\n                    <span class="js-filename">Recommended size: 1110 x 793 px<br>5MB max</span>\n                </label>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="content">\n    <div class="row">\n        <div class="form-group title-group">\n            <input type="text" class="text-input title" placeholder="Title">\n            <div class="msg alert title-error-msg" style="display: none;">You must fill title.</div>\n        </div>\n    </div>\n    <div class="row">\n        <input type="text" class="text-input tags" placeholder="Tags">\n        <div class="ex">Ex. html5, virtual reality, portfolio</div>\n    </div>\n    <div class="row" style="display:none">\n        <div class="form-group url-group">\n            <input type="text" class="text-input url_text" placeholder="Url (opcional)" value='+alias1((helper=(helper=helpers.url||(depth0!=null?depth0.url:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0!=null?depth0:{},{name:"url",hash:{},data:data}):helper))+'>\n            <div class="msg alert url-error-msg" style="display: none;">Wrong url format. Ex. ( http://www...)</div>\n        </div>\n    </div>\n    <div class="box-bts">\n        <div class="box-left">\n            <input type="submit" class="button save" value="SAVE">\n            <span class="bt-cancel link-2 js-tab cancel" >Cancel</span>\n        </div>\n    </div>\n</div>\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_internal"]=template({1:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.escapeExpression,alias2=depth0!=null?depth0:{},alias3=helpers.helperMissing;return'            <li class="add-collection" data-slug=\''+alias1(container.lambda((stack1=blockParams[0][0])!=null?stack1.slug:stack1,depth0))+'\' >\n                <figure>\n                    <img width="120"  src="'+alias1((helpers.asset_tv||depth0&&depth0.asset_tv||alias3).call(alias2,(stack1=(stack1=blockParams[0][0])!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data,blockParams:blockParams}))+'" />\n                </figure>\n                <div class="info">\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias3).call(alias2,(stack1=blockParams[0][0])!=null?stack1.type:stack1,"submission",{name:"compare",hash:{},fn:container.program(2,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias3).call(alias2,(stack1=blockParams[0][0])!=null?stack1.type:stack1,"external_element",{name:"compare",hash:{},fn:container.program(4,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'                 <div class="row">\n                     <div class="bt-icon">\n                        '+alias1((helpers.icon||depth0&&depth0.icon||alias3).call(alias2,"exit",21,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+"\n                        Add this!\n                    </div>\n                 </div>\n             </div>\n            </li>\n"},2:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                    <div class="row">'+container.escapeExpression(container.lambda((stack1=blockParams[1][0])!=null?stack1.site_name:stack1,depth0))+"</div>\n"},4:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                    <div class="row">'+container.escapeExpression(container.lambda((stack1=blockParams[1][0])!=null?stack1.title:stack1,depth0))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,helper,alias1=depth0!=null?depth0:{};return'<div class="box-inside">\n     <p class="fs-16">We have found <strong>'+container.escapeExpression((helper=(helper=helpers.count||(depth0!=null?depth0.count:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(alias1,{name:"count",hash:{},data:data,blockParams:blockParams}):helper))+'</strong> resources from this url:</p>\n     <ul class="list-resources-url">\n'+((stack1=helpers.each.call(alias1,depth0!=null?depth0.submissions:depth0,{name:"each",hash:{},fn:container.program(1,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'     </ul>\n     <div class="button width-full bt-next">ADD ANOTHER IMAGE OR VIDEO FROM THIS URL</div>\n</div>\n'},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["collection"]=template({1:function(container,depth0,helpers,partials,data){return" no-hover"},3:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <div class="box-img">\n                    <img src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" width="417" height="299">\n                    <span class="img-crop">\n                        <video class="video-item js-video-hover lazy-video" height="417" width="299" poster="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1["static"]:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" muted loop>\n                            <source src="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.animated:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" type="video/mp4">\n                        </video>\n                    </span>\n                </div>\n'},5:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{};return'                <span class="box-img">\n                    <img src="'+container.escapeExpression((helpers.asset||depth0&&depth0.asset||helpers.helperMissing).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" width="417" height="299">\n                    <span class="img-crop">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.lazyLoad:stack1,{name:"if",hash:{},fn:container.program(6,data,0),inverse:container.program(11,data,0),data:data}))!=null?stack1:"")+"                    </span>\n                </span>\n"},6:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                            <img width="417" height="299" src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' class="lazy '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(9,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'"/>\n'},7:function(container,depth0,helpers,partials,data){var stack1;return' data-animated="'+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.animated:stack1,{name:"asset_tv",hash:{},data:data}))+'" '},9:function(container,depth0,helpers,partials,data){return" hover-animation "},11:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                            <img width="417" height="299" src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(12,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"/>\n"},12:function(container,depth0,helpers,partials,data){return'class="hover-animation"'},14:function(container,depth0,helpers,partials,data,blockParams){return'                    <li>\n                       <img src="'+container.escapeExpression((helpers.asset_thumb||depth0&&depth0.asset_thumb||helpers.helperMissing).call(depth0!=null?depth0:{},blockParams[0][0],"thumb_collection_small",{name:"asset_thumb",hash:{},data:data,blockParams:blockParams}))+'" width="139" height="100" class="img">\n                    </li>\n'},16:function(container,depth0,helpers,partials,data){var stack1;return'             <div class="above-item top">\n                <span class="bt-item bt-dark">'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(17,data,0),inverse:container.program(19,data,0),data:data}))!=null?stack1:"")+"</span>\n            </div>\n"},17:function(container,depth0,helpers,partials,data){return"VIDEO"},19:function(container,depth0,helpers,partials,data){return"GIF"},21:function(container,depth0,helpers,partials,data){return" active"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=container.lambda,alias3=container.escapeExpression;return'<div class="box-item">\n    <figure class="rollover'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n        <a href="'+alias3(alias2((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.program(5,data,0,blockParams),data:data,blockParams:blockParams}))!=null?stack1:"")+'            <ul class="thumbs">\n'+((stack1=helpers.each.call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.images:stack1,{name:"each",hash:{},fn:container.program(14,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"            </ul>\n        </a>\n"+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(16,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'    </figure>\n    <div class="box-info">\n        <div class="content">\n            <div class="row">\n                <h3><a href="'+alias3(alias2((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">'+alias3(alias2((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'</a></h3>\n            </div>\n            <div class="row">\n                Curated by <strong><a href="'+alias3(alias2((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.homepage:stack1,depth0))+'">'+alias3(alias2((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.display_name:stack1,depth0))+'</a></strong>\n            </div>\n        </div>\n        <div class="footer">\n            <div class="box-users-likes">\n'+((stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{collected_count:0,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,blockParams:blockParams,indent:"                ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+'                <div class="bts">\n                    <div class="bt-icon">\n                        <div class="tooltip">\n                            <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(21,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n                                <span class="bt-content"></span>\n                            </div>\n                            <div class="box-tooltip">\n                                <div class="tooltip-text">Follow Collection!</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},usePartial:true,useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["filter_slim"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="bt-menu has-mobile js-mobilefilters">\n    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n</div>\n<div class="container">\n    <div class="box-left">\n        <ul class="menu-filters">\n        \t<li class="item item-btclose has-mobile js-mobilefilters">\n        \t\t<span>MENU</span>\n            </li>\n            <li class="item has-desktop" id="filters-section">\n            \t'+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,"js-showfilters",{name:"icon",hash:{},data:data}))+"\n            </li>\n        </ul>\n    </div>\n</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["filter_directory"]=template({1:function(container,depth0,helpers,partials,data){var stack1;return'                    <a href="'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.filter_options:depth0)!=null?stack1.route:stack1,depth0))+'">\n                        Directory\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.156 14" class="ico-svg">\n                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#directory"></use>\n                        </svg>\n                    </a>\n'},3:function(container,depth0,helpers,partials,data){var stack1;return'                    <a href="'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.filter_options:depth0)!=null?stack1.route:stack1,depth0))+'">\n                        Most Awarded Profiles\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.156 14" class="ico-svg">\n                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#winner"></use>\n                        </svg>\n                    </a>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="bt-menu has-mobile js-mobilefilters">\n    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n</div>\n<div class="container">\n    <div class="box-left">\n        <ul class="menu-filters">\n            <li class="item item-btclose has-mobile js-mobilefilters">\n                <span>FILTERS</span>\n            </li>\n            <li class="item has-desktop">\n                '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n            </li>\n            <li class="item dropdown item-looking selected" id="filters-section">\n                <span class="name-filter">Directory</span>\n                <div class="menu-dropdown style2">\n                    <ul>\n                        <li><strong><a data-type="directory" href="#" data-count="3681">Directory</a></strong></li>\n                        <li><strong><a data-type="winner" href="#" data-count="376">Most Awarded Profiles</a></strong></li>\n                    </ul>\n                </div>\n            </li>\n        </ul>\n    </div>\n    <div class="box-right">\n        <ul class="menu-filters">\n            <li class="item item-ico">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.filter_options:depth0)!=null?stack1.is_winner_list:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))!=null?stack1:"")+"            </li>\n        </ul>\n    </div>\n</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["user-type"]=template({1:function(container,depth0,helpers,partials,data){return" active"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="box-content-usertype">\n    <div class="box-photo">\n        <img width="475" height="475" src="'+alias3((helpers.asset_local||depth0&&depth0.asset_local||alias2).call(alias1,"bundles/tvweb/images/pages/users-type.jpg",{name:"asset_local",hash:{},data:data}))+'" alt="User type" />\n    </div>\n    <div class="box-tabs">\n        <ul class="tabs">\n            <li class="tab-link'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_jury",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" data-tab="user_type_jury">\n                '+alias3((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias2).call(alias1,"jury",10.7,14,{name:"icon-user",hash:{},data:data}))+'\n                JURY\n            </li>\n            <li class="tab-link'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_pro",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" data-tab="user_type_pro">\n                '+alias3((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias2).call(alias1,"pro",10.7,14,{name:"icon-user",hash:{},data:data}))+'\n                PRO\n            </li>\n            <li class="tab-link'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_chief",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" data-tab="user_type_chief">\n                '+alias3((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias2).call(alias1,"chief",9.8,14,{name:"icon-user",hash:{},data:data}))+'\n                CHIEF\n            </li>\n            <li class="tab-link'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_tribe",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" data-tab="user_type_tribe">\n                '+alias3((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias2).call(alias1,"tribe",10.47,14,{name:"icon-user",hash:{},data:data}))+'\n                TRIBE\n            </li>\n        </ul>\n        <div class="tab-content'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_jury",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" id="user_type_jury">\n            <p><strong>A group of experts selected annually by the Awwwards team, whose involvement and expertise is fundamental for Awwwards to function.</strong></p>\n            <p>Their vote determines the final score of SOTD, SOTM, HM & SOTY.</p>\n            <p>Every year the top 5 users are invited to join the following year’s Jury.</p>\n        </div>\n        <div class="tab-content'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_pro",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" id="user_type_pro">\n            <p><strong>A group of internationally recognised agencies and designers, who have invested in Awwwards and registered with a Professional Plan.</strong></p>\n            <p>Their votes count towards SOTD & HM.</p>\n            <p>Profile highlighted in the Directory search results.</p>\n        </div>\n        <div class="tab-content'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_chief",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" id="user_type_chief">\n            <p><strong>Talented users who through hard work and commitment have won 1 SOTD, 3 HMs or gained 5000 points.</strong></p>\n            <p>Their votes count towards SOTD & HM.</p>\n            <p>Profile included in the Directory.</p>\n        </div>\n        <div class="tab-content'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_tribe",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" id="user_type_tribe">\n            <p><strong>Basic user whose participation and contribution of knowledge helps to improve the Awwwards community.</strong></p>\n            <p>Their votes count towards the “Merit for Commendable Sites” certificate (but not towards SOTD or HM).</p>\n            <p>Profile not present in the Directory.</p>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["jury-dev"]=template({1:function(container,depth0,helpers,partials,data,blockParams){var alias1=container.lambda,alias2=container.escapeExpression;return'            <li>\n                <div class="box-left">\n                    '+alias2(alias1(blockParams[0][1],depth0))+'\n                </div>\n                <div class="box-right">\n                    '+alias2((helpers.color_for_note||depth0&&depth0.color_for_note||helpers.helperMissing).call(depth0!=null?depth0:{},blockParams[0][0],{name:"color_for_note",hash:{},data:data,blockParams:blockParams}))+"\n                    <strong>"+alias2(alias1(blockParams[0][0],depth0))+"</strong>\n                </div>\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,helper,alias1=depth0!=null?depth0:{};return'<div class="box-content-default size-small">\n    <ul class="list-jurydev-notes">\n'+((stack1=helpers.each.call(alias1,depth0!=null?depth0.scores:depth0,{name:"each",hash:{},fn:container.program(1,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        <li class="total">\n            <div class="box-left">\n                <strong>Final score</strong>\n            </div>\n            <div class="box-right">\n                <strong class="total-note">'+container.escapeExpression((helper=(helper=helpers.final_score||(depth0!=null?depth0.final_score:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(alias1,{name:"final_score",hash:{},data:data,blockParams:blockParams}):helper))+'</strong>\n            </div>\n        </li>\n    </ul>\n    <p class="horizontal-right"><a href="https://docs.google.com/document/d/1Gvmg6Z60UQ-4BOM3XyUcBKvq2shd4J-l_MoXT26JFEg/" class="link-1" target="_blank">More Info</a></p>\n</div>\n'},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["likes"]=template({1:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'        <li>\n            <figure>\n                <a href="'+alias3((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_user_homepage",{name:"path",hash:{username:(stack1=blockParams[0][0])!=null?stack1.username:stack1},data:data,blockParams:blockParams}))+'"><img src="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=blockParams[0][0])!=null?stack1.image:stack1,"thumb_user_70",{name:"asset_thumb",hash:{},data:data,blockParams:blockParams}))+'" width="50" height="50" alt="'+alias3(alias4((stack1=blockParams[0][0])!=null?stack1.displayName:stack1,depth0))+'"></a>\n            </figure>\n            <div class="data">\n                <div class="row">\n                    <a href="'+alias3((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_user_homepage",{name:"path",hash:{username:(stack1=blockParams[0][0])!=null?stack1.username:stack1},data:data,blockParams:blockParams}))+'"><strong>'+alias3(alias4((stack1=blockParams[0][0])!=null?stack1.displayName:stack1,depth0))+"</strong></a>\n                </div>\n"+((stack1=helpers["if"].call(alias1,(stack1=blockParams[0][0])!=null?stack1.country:stack1,{name:"if",hash:{},fn:container.program(2,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'            </div>\n            <div class="box-right">\n                <div class="tooltip">\n                    <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(alias1,(stack1=blockParams[0][0])!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(4,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'" data-username="'+alias3(alias4((stack1=blockParams[0][0])!=null?stack1.username:stack1,depth0))+'">\n                        <span class="bt-content"></span>\n                    </div>\n                    <div class="box-tooltip">\n                        <div class="tooltip-text" >Follow!</div>\n                    </div>\n                </div>\n            </div>\n        </li>\n'},2:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                    <div class="row">\n                        '+container.escapeExpression(container.lambda((stack1=blockParams[1][0])!=null?stack1.country:stack1,depth0))+"\n                    </div>\n"},4:function(container,depth0,helpers,partials,data){return" active"},6:function(container,depth0,helpers,partials,data){return'        <div class="button button-loadmore style3">\n            <span>Load More</span>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{};return'<div class="box-inside ">\n    <div class="info">\n        <div class="pull-left">\n            <strong>'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.count:stack1,depth0))+'</strong> users like this\n        </div>\n    </div>\n    <ul class="list-user-likes">\n'+((stack1=helpers.each.call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1,{name:"each",hash:{},fn:container.program(1,data,1,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"    </ul>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.count:stack1,">",6,{name:"compare",hash:{},fn:container.program(6,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"</div>"},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["tooltip"]=template({1:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'            <li class="awards">\n                '+alias1(container.lambda((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.totalAwards:stack1,depth0))+"\n                "+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"medal",12.39,14,{name:"icon",hash:{},data:data}))+"\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'<div class="row-user">\n    <div class="avatar-profile">\n        <a href="'+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.homepage:stack1,depth0))+'">\n            <img src="'+alias2((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias4).call(alias3,(stack1=depth0!=null?depth0.user:depth0)!=null?stack1.image:stack1,"thumb_user_70",{name:"asset_thumb",hash:{},data:data}))+'" width="70" height="70"  />\n            <div class="user-type">\n                '+alias2((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias4).call(alias3,(stack1=depth0!=null?depth0.user:depth0)!=null?stack1.status:stack1,11,14,{name:"icon-user",hash:{},data:data}))+'\n            </div>\n        </a>\n    </div>\n</div>\n<div class="row-user">\n    <strong><a href="'+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.homepage:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.displayName:stack1,depth0))+'</a></strong>\n</div>\n<div class="row-user">\n    <span class="text-gray">'+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.countryName:stack1,depth0))+'</span>\n</div>\n<div class="row-user">\n    <ul class="list-stats-icons">\n        <li class="favorites">\n            '+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.collectables:stack1,depth0))+"\n            "+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"heart",15,14,{name:"icon",hash:{},data:data}))+'\n        </li>\n        <li class="collections">\n            '+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.numberOfCollections:stack1,depth0))+"\n            "+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"books",15.57,14,{name:"icon",hash:{},data:data}))+"\n        </li>\n"+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.user:depth0)!=null?stack1.totalAwards:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"    </ul>\n</div>"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["login"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="box-login">\n    <div class="tab-form js-tab-form active" id="tab-login">\n        <div class="header">\n            <h2 class="heading-xx-medium">Log in with your account</h2>\n        </div>\n        <div class="bts">\n             <p>\n                <a href="/login/twitter?_destination='+alias4((helper=(helper=helpers.from_url||(depth0!=null?depth0.from_url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"from_url",hash:{},data:data}):helper))+'" class="bt-connect bt-twitter">\n                    <span>Connect with Twitter</span>\n                    '+alias4((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"twitter",17,14,{name:"icon",hash:{},data:data}))+'\n                </a>\n            </p>\n            <p>\n                <a href="/login/facebook?_destination='+alias4((helper=(helper=helpers.from_url||(depth0!=null?depth0.from_url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"from_url",hash:{},data:data}):helper))+'" class="bt-connect bt-facebook">\n                    <span>Connect with Facebook</span>\n                    '+alias4((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"facebook",6.5,14,{name:"icon",hash:{},data:data}))+'\n                </a>\n            </p>\n            <p>\n                <span class="bt-connect bt-email js-tab-login" data-tab="tab-login-form">\n                    <span>Log in with your e-mail</span>\n                    '+alias4((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"mail",19.6,14,{name:"icon",hash:{},data:data}))+'\n                </span>\n            </p>\n        </div>\n        <div class="footer">\n            <h4 class="heading-small">Not a member yet? <a class="js-register" href="'+alias4((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_register",{name:"path",hash:{},data:data}))+'">Register now</a></h4>\n        </div>\n    </div>\n    <div class="tab-form js-tab-form" id="tab-login-form" style="display:none">\n        <div class="header">\n            <h2 class="heading-xx-medium">Login with your e-mail</h2>\n        </div>\n        <div class="form">\n            <form action="'+alias4((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_login_check",{name:"path",hash:{},data:data}))+'" method="post" novalidate>\n                <p><label class="tip-form"><input name="_username" class="text-input" placeholder="Email or Username" type="text"></label></p>\n                <p><label class="tip-form"><input name="_password" class="text-input" placeholder="Password" type="password"></label></p>\n                <p class="check"><input id="remember_me" name="_remember_me" type="checkbox"> <label for="remember">Keep me logged in</label></p>\n                <p><button type="submit" class="button js-bt-loading" data-button="loading"><span class="bt-content">LOGIN NOW!</span></button></p>\n                <p><strong><a class="link-2 js-forgot-password" href="'+alias4((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_forgot_password",{name:"path",hash:{},data:data}))+'">Forgot your password?</a></strong></p>\n                <input type="hidden" name="_target_path" value="'+alias4((helper=(helper=helpers.from_url||(depth0!=null?depth0.from_url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"from_url",hash:{},data:data}):helper))+'" />\n            </form>\n        </div>\n        <div class="footer">\n            <h4 class="heading-small">Not a member yet? <a class="js-register" href="'+alias4((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_register",{name:"path",hash:{},data:data}))+'">Register now</a></h4>\n        </div>\n    </div>\n</div>\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["forgot_success"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="content">\n    <div class="header">\n        <h2 class="heading-xx-medium heading-underline">Congratulations!</h2>\n    </div>\n    <p><strong>We have sent you a verification e-mail.</strong></p>\n    <p>Please verify your account via the link in the e-mail and complete registration.</p>\n    <p>If you don\'t receive an email from us, please check your spam folder or <strong><a href="'+container.escapeExpression((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_contact_us",{name:"path",hash:{},data:data}))+'" class="link-2">contact customer support</a></strong>.</p>\n    <p><strong>Awwwards team</strong></p>\n    <p><span class="button js-lightbox-close">CLOSE</span></p>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["collection-footer"]=template({1:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'    <div class="bts">\n        <div class="bt-icon js-share">\n            <div class="tooltip">\n                <div class="bt-default">\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"user",12,14,{name:"icon",hash:{},data:data}))+'\n                </div>\n                <div class="box-tooltip">\n                    <div class="tooltip-text">Share with your team!</div>\n                </div>\n            </div>\n        </div>\n        <div class="bt-icon">\n            <div class="tooltip">\n                <div class="bt-default bt-edit-collection edit-collection">\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"settings",14,14,{name:"icon",hash:{},data:data}))+'\n                </div>\n                <div class="box-tooltip">\n                    <div class="tooltip-text">Edit Collection!</div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="box-users-likes">\n    <ul class="list-users">\n    </ul>\n'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.can_be_edited:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["upload_collection_cover"]=template({1:function(container,depth0,helpers,partials,data){return'                        <div class="remove-cover-container row">\n                            <div class="remove-cover button button-red">REMOVE COVER</div>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=depth0!=null?depth0:{};return'<div class="box-content-collections">\n    <div class="box-inside">\n        <div class="box-upload-cover">\n            <div class="box-add-image">\n                <div class="box-loading open" style="display: none">\n                    <svg class="loading">\n                        <circle cx="20" cy="20" r="18"></circle>\n                    </svg>\n                </div>\n                <div class="add-photo">\n                    <div class="info">\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.image_exists:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'                        <form id="uploadImageForm" action="'+container.escapeExpression((helper=(helper=helpers.route||(depth0!=null?depth0.route:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(alias1,{name:"route",hash:{},data:data}):helper))+'" method="post" enctype="multipart/form-data">\n                            <div class="box-input-file style2">\n                                <input type="file" name="file" id="file-1" class="input-file">\n                                <label for="file-1">\n                                    <strong>UPLOAD IMAGE, GIF</strong>\n                                    <span class="js-filename">Recommended size: 1900 x 225 px<br>3MB max</span>\n                                </label>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["loader"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-msg">\n    <div class="box-loading style3 open"><div class="spinner"></div></div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["confirmation"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="box-content-collections size-small">\n    <div class="tab-form" id="tab-delete-confirm" style="display: block;">\n        <div class="content style2">\n            <div class="txt">\n                <p>'+alias4((helper=(helper=helpers.msg||(depth0!=null?depth0.msg:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"msg",hash:{},data:data}):helper))+'</p>\n                <p></p>\n                <div class="button button-red width-full yes">'+alias4((helper=(helper=helpers.button||(depth0!=null?depth0.button:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"button",hash:{},data:data}):helper))+"</div>\n                <p></p>\n            </div>\n        </div>\n    </div>\n</div>"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_new_user"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>Your registration is complete!</strong></p>\n        <p>If you are a freelancer or work for an agency, add your profile to our exclusive directory aimed at web professionals. Meet new clients, recruit top talent, make important business connections. Now is the time!</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <a href="'+container.escapeExpression((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_user_plans_page",{name:"path",hash:{},data:data}))+'" class="button">UPGRADE YOUR PLAN</a>\n                <span class="bt-cancel link-2 js-lightbox-close">Not right now, thanks</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_directory"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>Welcome to the exclusive Awwwards directory!</strong></p>\n        <p>The directory place where the top web designers, graphic designers, art directors, illustrators, developers and marketers come to play and grow their business.</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button js-lightbox-close">FINISH</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_submit"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>Your site has now been submitted to Awwwards for review!</strong></p>\n        <p>Shortly, you’ll receive an email confirmation and in a few days, our team will send your project to our esteemed jury for their evaluation. Best of luck in the competition!</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button js-lightbox-close">FINISH</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_submit_professional"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>Your site has now been submitted to Awwwards for review!</strong></p>\n        <p>Shortly, you’ll receive an email confirmation and in a few days, our team will send your project to our esteemed jury for their evaluation. Best of luck in the competition!</p>\n        <p>Complete your profile in our exclusive directory which offers 360º business solutions for web professionals.</p>\n        <p>You can edit your profile at any time in your profile settings or just click <strong><a href="'+container.escapeExpression((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_user_settings_directory_without_username",{name:"path",hash:{},data:data}))+'" class="underline">here</a></strong></p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button js-lightbox-close">FINISH</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_job"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>We are pleased to confirm that we have received your job submission!</strong></p>\n        <p>We are checking the details, your offer will be posted soon.</p>\n        <p>Thanks!</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button js-lightbox-close">FINISH</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["submission_images"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default">\n    <div class="box-inside">\n        <h3 class="heading-x-medium">Our system will create the image</h3>\n        <p>You\'ll be able to view that image once your site has been approved and published as a nominee on Awwwards.</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button">I UNDERSTAND</span>\n                <span class="bt-cancel link-2 js-lightbox-close">Cancel</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["welcome_collections"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="box-content-default">\n    <div class="box-inside">\n        <h3 class="heading-small">Welcome to your collections!</h3>\n        <div class="fs-16">\n            <p>Now you can save as many of your favorite sites as you like in your collections. Create, organise and share your collections with your team, clients or other designers.</p>\n            <p><strong>What can I collect?</strong></p>\n            <p>By clicking the “Add to Collection” button you can store:</p>\n            <ul class="list-info-icos">\n                <li>\n                    <div class="bt-icon">\n                        <div class="bt-add-like">\n                            <span class="bt-content"></span>\n                        </div>\n                    </div>\n                    <p>All the websites published on <strong class="text-green">Awwwards</strong>.</p>\n                </li>\n                <li>\n                    <div class="bt-icon">\n                        '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"exit",21,14,"ico-18",{name:"icon",hash:{},data:data}))+'\n                    </div>\n                    <p>Other websites, articles, resources or your latest projects on Dribbble or Behance.</p>\n                </li>\n            </ul>\n        </div>\n        <p>\n            <span class="button button-ico width-full js-lightbox-add">\n                '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"exit",21,14,"ico-18",{name:"icon",hash:{},data:data}))+'\n                ADD A FAVORITE\n            </span>\n        </p>\n        <p align="center"><strong class="link-2 js-lightbox-skip">Don\'t show this again</strong></p>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["no_search_results"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="block flex-1 vertical-center">\n    <div class="box-noresults">\n        <div class="box-icon icon-no-snitching">\n            <svg width="144" height="144" viewBox="0 0 511.992 512">\n                <g>\n                    <path d="M188.506,184.987c0-15.417-12.508-27.918-27.927-27.918c-15.417,0-27.927,12.5-27.927,27.918 c0,15.418,12.509,27.927,27.927,27.927C175.998,212.914,188.506,200.406,188.506,184.987z" />\n                    <path d="M346.323,157.07c-15.4,0-27.927,12.509-27.927,27.927c0,15.418,12.527,27.927,27.927,27.927 c15.417,0,27.927-12.508,27.927-27.927C374.249,169.579,361.74,157.07,346.323,157.07z" />\n                    <path d="M255.996,0C114.616,0,0,114.616,0,256.004C0,397.384,114.616,512,255.996,512 c141.38,0,255.996-114.616,255.996-255.996C511.992,114.616,397.376,0,255.996,0z M255.996,493.382 c-130.888,0-237.378-106.489-237.378-237.378c0-130.898,106.49-237.386,237.378-237.386c130.89,0,237.378,106.489,237.378,237.386 C493.374,386.893,386.885,493.382,255.996,493.382z" />\n                    <path d="M346.323,117.052c-37.464,0-67.945,30.481-67.945,67.944s30.481,67.944,67.945,67.944 c37.463,0,67.944-30.481,67.944-67.944S383.785,117.052,346.323,117.052z M346.323,235.996c-28.119,0-51-22.877-51-50.999 s22.882-50.999,51-50.999c28.118,0,50.999,22.877,50.999,50.999S374.44,235.996,346.323,235.996z" />\n                    <path d="M228.524,184.997c0-37.468-30.482-67.953-67.945-67.953c-37.472,0-67.962,30.486-67.962,67.953 c0,37.463,30.49,67.944,67.962,67.944C198.042,252.941,228.524,222.459,228.524,184.997z M109.562,184.997 c0-28.127,22.89-51.008,51.017-51.008c28.118,0,50.999,22.881,50.999,51.008c0,28.122-22.881,50.999-50.999,50.999 C132.452,235.996,109.562,213.119,109.562,184.997z" />\n                    <polygon points="357.967,296.295 261.459,347.603 164.953,296.295 156.207,312.731 241.633,358.148 156.207,403.566 164.953,420.002 261.459,368.694 357.967,420.002 366.713,403.566 281.286,358.148 366.713,312.731" />\n                </g>\n            </svg>\n        </div>\n        <div class="text">\n            <h1>Your search was not succesful!</h1>\n            <p>Try some different keywords.</p>\n            <p>Use more general keywords.</p>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["lightbox_sotm_vote"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p><a href="'+alias4((helper=(helper=helpers.internal_url||(depth0!=null?depth0.internal_url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"internal_url",hash:{},data:data}):helper))+'"><img width="417" height="299" src="'+alias4((helper=(helper=helpers.image||(depth0!=null?depth0.image:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"image",hash:{},data:data}):helper))+'" class="img-block" /></a></p>\n        <p>'+((stack1=(helper=(helper=helpers.by||(depth0!=null?depth0.by:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"by",hash:{},data:data}):helper))!=null?stack1:"")+'</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span data-slug="'+alias4((helper=(helper=helpers.slug||(depth0!=null?depth0.slug:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"slug",hash:{},data:data}):helper))+'" class="button js-vote-tweet popup popup-no-return" data-link="http://twitter.com/share?text='+alias4((helper=(helper=helpers.share_text||(depth0!=null?depth0.share_text:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"share_text",hash:{},data:data}):helper))+"&amp;url="+alias4((helper=(helper=helpers.share_url||(depth0!=null?depth0.share_url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"share_url",hash:{},data:data}):helper))+'">VOTE AND TWEET</span>\n                <span class="bt-cancel link-2 js-lightbox-close">Cancel</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["users_collected"]=template({1:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'        <li>\n            <div class="item js-user" data-username="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.username:stack1,depth0))+'">\n                 <a href="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.homepage:stack1,depth0))+'"><img src="'+alias2((helpers.asset||depth0&&depth0.asset||alias4).call(alias3,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data,blockParams:blockParams}))+'" data-src="'+alias2((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias4).call(alias3,(stack1=blockParams[0][0])!=null?stack1.image:stack1,"thumb_user_70",{name:"asset_thumb",hash:{},data:data,blockParams:blockParams}))+'" width="32" height="32" alt="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.display_name:stack1,depth0))+'" /></a>\n            </div>\n        </li>\n'},3:function(container,depth0,helpers,partials,data){return'        <li class="js-more more">\n            <span>+'+container.escapeExpression((helpers.math||depth0&&depth0.math||helpers.helperMissing).call(depth0!=null?depth0:{},depth0!=null?depth0.collected_count:depth0,"-",4,{name:"math",hash:{},data:data}))+"</span>\n        </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<ul class="list-users '+alias4((helper=(helper=helpers.class_list||(depth0!=null?depth0.class_list:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"class_list",hash:{},data:data,blockParams:blockParams}):helper))+'" data-count="'+alias4((helper=(helper=helpers.collected_count||(depth0!=null?depth0.collected_count:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"collected_count",hash:{},data:data,blockParams:blockParams}):helper))+'">\n'+((stack1=helpers.each.call(alias1,depth0!=null?depth0.users_collected:depth0,{name:"each",hash:{},fn:container.program(1,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.collected_count:depth0,">",4,{name:"compare",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"</ul>"},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["vote_soty"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="box-content-default size-small no-style-dark">\n    <div class="box-inside">\n        <div class="box-vote-soty">\n            <p><strong>1. Confirm your vote!</strong><br>\n            '+alias4((helper=(helper=helpers.title||(depth0!=null?depth0.title:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"title",hash:{},data:data}):helper))+'</p>\n            <div class="photo js-vote-site">\n                <img width="417" height="299" src="'+alias4((helper=(helper=helpers.image||(depth0!=null?depth0.image:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"image",hash:{},data:data}):helper))+'" class="img-block" />\n                <div class="box-action">\n                    <div class="box-start">\n                        <div class="button">CONFIRM</div>\n                    </div>\n                    <div class="box-end">\n                        <div class="box-icon icon-success">\n                            <svg width="100" height="100" viewBox="0 0 144 144">\n                                <g fill="none" stroke-width="2">\n                                    <circle stroke-width="4" cx="72" cy="72" r="70" fill="none" />\n                                    <polyline fill="none" stroke-width="4" stroke-miterlimit="10" points="40.705,74.475 61.918,95.688 109.295,48.312  "/>\n                                </g>\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="step-end">\n                <p><strong>2. Win 2 tickets to Awwwards London</strong></p>\n                <p>To enter the competition to win 2 tickets to Awwwards London Conference Feb 2017 click and tweet!</p>\n                <div class="bts">\n                    <p><span class="button width-full popup popup-no-return js-vote-tweet" data-link="http://twitter.com/share?url=http://bit.ly/AWWWARDS-2016&amp;text=Voted for @AWWWARDS best sites 2016 - Next stop digital design talks, networking and after-party @AWWWARDSLDN&amp;hashtags=SOTY">TWEET TO WIN!</span></p>\n                    <p><strong class="link-2 js-lightbox-close">Finish and close</strong></p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["externalArticle"]=template({1:function(container,depth0,helpers,partials,data){return" no-hover"},3:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <video class="video-item js-video-hover lazy-video" height="417" width="299" poster="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' muted loop>\n                    <source src="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" type="video/mp4">\n                </video>\n'},4:function(container,depth0,helpers,partials,data){return" autoplay "},6:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <img src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'"  width="417" height="299">\n                <span class="img-crop">\n                    <img width="417" height="299" src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.program(9,data,0),data:data}))!=null?stack1:"")+'" class="lazy"/>\n                </span>\n'},7:function(container,depth0,helpers,partials,data){var stack1;return" "+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,{name:"asset_tv",hash:{},data:data}))},9:function(container,depth0,helpers,partials,data){var stack1;return" "+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+" "},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="box-item">\n    <figure class="rollover'+alias3((helpers.darkenIfVoteActivity||depth0&&depth0.darkenIfVoteActivity||alias2).call(alias1,depth0!=null?depth0.item:depth0,{name:"darkenIfVoteActivity",hash:{},data:data}))+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'">\n        <a href="'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" target="_blank">\n'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(6,data,0),data:data}))!=null?stack1:"")+'        </a>\n    </figure>\n    <div class="box-info">\n        <div class="content">\n            <div class="row">\n                <h3><a href="'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'"  target="_blank" class="">'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))+'</a></h3>\n            </div>\n            <div class="row">\n                '+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.description_inspire:stack1,depth0))+'\n            </div>\n        </div>\n        <div class="footer">\n            <div class="box-left"></div>\n            <div class="box-right">\n                    <div class="list-share-circles gray style2">\n                        <ul>\n                            <li>\n                                <div class="bt-circle bt-facebook popup" data-link="http://www.facebook.com/sharer.php?u='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+"&amp;t="+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))+'">\n                                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"facebook",6.5,14,{name:"icon",hash:{},data:data}))+'\n                                </div>\n                            </li>\n                            <li>\n                                <div class="bt-circle bt-twitter popup" data-link="http://twitter.com/share?text='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))+"&amp;url="+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n                                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"twitter",17,14,{name:"icon",hash:{},data:data}))+'\n                                </div>\n                            </li>\n                        </ul>\n                        <div class="bt-circle bt-share js-social">\n                            '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"share",14,14,{name:"icon",hash:{},data:data}))+"\n                         </div>\n                    </div>\n            </div>\n        </div>\n    </div>\n</div>"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["already_voted_soty"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small no-style-dark">\n    <div class="box-inside">\n        <div class="box-vote-soty">\n            <h3 class="heading-x-medium horizontal-center">Ooops!!</h3>\n            <p>Our system will not allow multiple votes from the same I.P address, sorry for the inconvenience!</p>\n            <div class="bts">\n                <p><span class="button width-full js-lightbox-close">ACCEPT AND CLOSE</span></p>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function($){function CircleProgress(config){this.init(config)}CircleProgress.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:false,lineCap:"butt",constructor:CircleProgress,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(config){$.extend(this,config);this.radius=this.size/2;this.initWidget();this.initFill();this.draw()},initWidget:function(){var canvas=this.canvas=this.canvas||$("<canvas>").prependTo(this.el)[0];canvas.width=this.size;canvas.height=this.size;this.ctx=canvas.getContext("2d")},initFill:function(){var self=this,fill=this.fill,ctx=this.ctx,size=this.size;if(!fill)throw Error("The fill is not specified!");if(fill.color)this.arcFill=fill.color;if(fill.gradient){var gr=fill.gradient;if(gr.length==1){this.arcFill=gr[0]}else if(gr.length>1){var ga=fill.gradientAngle||0,gd=fill.gradientDirection||[size/2*(1-Math.cos(ga)),size/2*(1+Math.sin(ga)),size/2*(1+Math.cos(ga)),size/2*(1-Math.sin(ga))];var lg=ctx.createLinearGradient.apply(ctx,gd);for(var i=0;i<gr.length;i++){var color=gr[i],pos=i/(gr.length-1);if($.isArray(color)){pos=color[1];color=color[0]}lg.addColorStop(pos,color)}this.arcFill=lg}}if(fill.image){var img;if(fill.image instanceof Image){img=fill.image}else{img=new Image;img.src=fill.image}if(img.complete)setImageFill();else img.onload=setImageFill}function setImageFill(){var bg=$("<canvas>")[0];bg.width=self.size;bg.height=self.size;bg.getContext("2d").drawImage(img,0,0,size,size);self.arcFill=self.ctx.createPattern(bg,"no-repeat");self.drawFrame(self.lastFrameValue)}},draw:function(){if(this.animation)this.drawAnimated(this.value);else this.drawFrame(this.value)},drawFrame:function(v){this.lastFrameValue=v;this.ctx.clearRect(0,0,this.size,this.size);this.drawEmptyArc(v);this.drawArc(v)},drawArc:function(v){var ctx=this.ctx,r=this.radius,t=this.getThickness(),a=this.startAngle;ctx.save();ctx.beginPath();if(!this.reverse){ctx.arc(r,r,r-t/2,a,a+Math.PI*2*v)}else{ctx.arc(r,r,r-t/2,a-Math.PI*2*v,a)}ctx.lineWidth=t;ctx.lineCap=this.lineCap;ctx.strokeStyle=this.arcFill;ctx.stroke();ctx.restore()},drawEmptyArc:function(v){var ctx=this.ctx,r=this.radius,t=this.getThickness(),a=this.startAngle;if(v<1){ctx.save();ctx.beginPath();if(v<=0){ctx.arc(r,r,r-t/2,0,Math.PI*2)}else{if(!this.reverse){ctx.arc(r,r,r-t/2,a+Math.PI*2*v,a)}else{ctx.arc(r,r,r-t/2,a,a-Math.PI*2*v)}}ctx.lineWidth=t;ctx.strokeStyle=this.emptyFill;ctx.stroke();ctx.restore()}},drawAnimated:function(v){var self=this,el=this.el,canvas=$(this.canvas);canvas.stop(true,false);el.trigger("circle-animation-start");canvas.css({animationProgress:0}).animate({animationProgress:1},$.extend({},this.animation,{step:function(animationProgress){var stepValue=self.animationStartValue*(1-animationProgress)+v*animationProgress;self.drawFrame(stepValue);el.trigger("circle-animation-progress",[animationProgress,stepValue])}})).promise().always(function(){el.trigger("circle-animation-end")})},getThickness:function(){return $.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function(){return this.value},setValue:function(newValue){if(this.animation)this.animationStartValue=this.lastFrameValue;this.value=newValue;this.draw()}};$.circleProgress={defaults:CircleProgress.prototype};$.easing.circleProgressEasing=function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b};$.fn.circleProgress=function(configOrCommand,commandArgument){var dataName="circle-progress",firstInstance=this.data(dataName);if(configOrCommand=="widget"){if(!firstInstance)throw Error('Calling "widget" method on not initialized instance is forbidden');return firstInstance.canvas}if(configOrCommand=="value"){if(!firstInstance)throw Error('Calling "value" method on not initialized instance is forbidden');if(typeof commandArgument=="undefined"){return firstInstance.getValue()}else{var newValue=arguments[1];return this.each(function(){$(this).data(dataName).setValue(newValue)})}}return this.each(function(){var el=$(this),instance=el.data(dataName),config=$.isPlainObject(configOrCommand)?configOrCommand:{};if(instance){instance.init(config)}else{var initialConfig=$.extend({},el.data());if(typeof initialConfig.fill=="string")initialConfig.fill=JSON.parse(initialConfig.fill);if(typeof initialConfig.animation=="string")initialConfig.animation=JSON.parse(initialConfig.animation);config=$.extend(initialConfig,config);config.el=el;instance=new CircleProgress(config);el.data(dataName,instance)}})}})(jQuery);
var app=app||{};app.loadCircleNotes=function(){$(".progressbar").each(function(){var $circle=$(this).find(".circle");var percent=$circle.data("note");var percentage=(parseFloat(percent)/10).toFixed(3);var red=$circle.data("red");var green=$circle.data("green");var blue=$circle.data("blue");var $int=$circle.find(".int");var $dec=$circle.find(".dec");$circle.circleProgress({startAngle:-Math.PI/2,value:percentage,thickness:4,size:83,fill:{color:"rgb("+red+", "+green+", "+blue+")"},emptyFill:"rgba("+red+", "+green+", "+blue+", .3)"}).on("circle-animation-progress",function(event,progress,stepValue){var intDec=(stepValue*10).toFixed(2).toString().split(".");var intPart=intDec[0];var dec=intDec[1];$int.text(intPart);$dec.text("."+dec)}).stop()})};app.loadCircleNotesInUsers=function(){$(".js-circle-notes li").each(function(){var item=$(this),note=item.data("note")*10,size=item.data("size"),border=1,radius=size/2-border,circle=2*Math.PI*radius,progress=circle-circle/100*note;item.append();item.find("svg").width(size).height(size);item.find("circle").attr({r:radius,cy:radius+border,cx:radius+border});item.find("circle").css({"stroke-dasharray":circle,"stroke-dashoffset":circle,"stroke-dashoffset":progress})})};
var app=app||{};(function(){"use strict";var LoaderFiltersView=Backbone.View.extend({tagName:"div",className:"overlay-content",isOpen:false,buttons:null,events:{"click .box-loading":"close",click:"triggerClose"},initialize:function(){this.$el.html(this.getTemplate());this.buttons=this.$(".bts");this.$el.hide();$(".wrapper").append(this.$el)},hidePreload:function(){this.$el.find(".spinner").hide()},preload:function(){this.open();this.$el.find(".spinner").show()},open:function(){var self=this;this.$el.show();this.isOpen=true;setTimeout(function(){self.$el.addClass("show");$(".box-loading").addClass("open")},100)},openForFilters:function(container){$(".box-filters").addClass("active");this.$el.addClass("box-loading style2");container.append(this.$el);this.open()},openForSearchText:function(){this.trigger("open_search_text");this.open();this.buttons.hide()},closeLoading:function(){this.$el.find(".spinner").hide()},showLoading:function(){this.$el.find(".spinner").show()},closeFilters:function(){this.close(false);setTimeout(function(){$(".box-filters").removeClass("active")},400)},closeSearchText:function(doTrigger){this.buttons.show();if(doTrigger){this.trigger("close_search_text")}this.close()},triggerClose:function(){this.trigger("close");this.close()},close:function(){var self=this;this.$el.removeClass("show");setTimeout(function(){self._close()},400)},_close:function(){this.$el.hide();$(".wrapper").append(this.$el);this.$el.removeClass("box-loading style2 open");this.isOpen=false},getTemplate:function(){return'<div class="bts"><div class="bt bt-close"></div></div><div class="spinner"></div>'}});app.loader=new LoaderFiltersView})();
var SeachText=Backbone.Model.extend({searching:false,suggesting:false,request:null,search:function(text){var self=this;this.searching=true;self.abortRequest();$.ajax({type:"GET",url:Routing.generate("tv_inspiration_search"),data:{text:text},cache:false,success:function(datas){self.trigger("search_load",datas);self.searching=false;self.abortRequest()}})},suggest:function(text){this.abortRequest();var self=this;this.suggesting=true;this.request=$.ajax({type:"GET",url:Routing.generate("tv_inspiration_suggest"),data:{text:text},success:function(datas){self.trigger("suggest_load",datas,text);self.suggesting=false}})},abortRequest:function(){if(this.request){this.request.abort()}},isSuggesting:function(){return this.suggesting}});
var app=app||{};var SearchTextView=Backbone.View.extend({el:"body",viewResults:null,searchBox:null,searchText:"",timer:null,isOpen:false,containerSearch:null,urlBeforeSearch:null,suggestionText:"",suggestions:"",events:{"click .bt-search":"_show","click .bt-close":"_hide","click .box-input":"_removeTagsAndShowInput","click .bt-remove-tag":"_removeTag","click .suggest":"_searchSuggest","keyup #search-text":"_search","focusin #search-text":"_openLoader"},template:Handlebars.templates.search,initialize:function(options){this.model=new SeachText;this.searchBox=$("<div class='box-search' id='box-search'></div>");this.urlBeforeSearch=window.location.href;$("header").append(this.searchBox);this._loadEvents()},_loadEvents:function(){var self=this;this.model.on("search_load",this._loadSearch,this);this.model.on("suggest_load",this._loadSuggestion,this);app.loader.on("close",this._close,this);app.history.on("go_back_history_filter",this._close,this);app.history.on("go_back_history_search",this._goBackHistory,this);$("body").keydown(function(ev){self._checkKeyPress(ev)})},_checkKeyPress:function(ev){if(!this.isOpen){return}if(ev.keyCode==27){if(this.searchText.length>0){this.abortRequest();this.render()}else{this._hide()}}},_goBackHistory:function(state){var history=state.datas;this._show();this.searchText=history.text;this._loadSearch(history.items)},_openLoader:function(){this.isOpen=true;app.loader.openForSearchText();this.searchBox.addClass("show")},_show:function(){var self=this;this._resetUrlBeforSearch();this._openLoader();this.render();setTimeout(function(){self.searchBox.find("#search-text").focus()},100)},_resetUrlBeforSearch:function(){var url=window.location.href;if(!url.includes("search")){this.urlBeforeSearch=window.location.href}},_hide:function(){this._close();window.history.pushState({href:this.urlBeforeSearch},"",this.urlBeforeSearch)},_close:function(){this.searchText="";this.isOpen=false;app.loader.closeSearchText(true);this.searchBox.removeClass("show");$(".results-container").remove();$("#content").show();this.resetView()},_search:function(ev){var self=this;var text=$(ev.currentTarget).val();if(ev.keyCode==13&&!this.model.searching){this.searchText=text;this.render();this._openLoadAndSearch()}else{if(this.timer){clearTimeout(this.timer)}this.timer=setTimeout(function(){self.model.suggest(text)},500)}},_searchSuggest:function(ev){ev.stopPropagation();var text=$(ev.currentTarget).text();this.suggestions="";this.searchText=text;this.render();this._openLoadAndSearch()},_loadSuggestion:function(results,text){this.searchBox.find(".box-search-autocomplete").html("");var suggests=results["suggestions"];var suggestions=[];text=text.toUpperCase();this.suggestionText=text;for(var i=0;i<suggests.length;i++){var suggestion=suggests[i]["key"].toUpperCase();suggestions[i]='<li class="suggest">'+suggestion.replace(text,"<strong>"+text+"</strong>")+"</li>"}if(suggests.length>0){this._addModule("SUGGESTIONS",suggestions)}if(results["results"].length>0){this._setResources(results["results"],text)}if(results["users"].length>0){this._setUsers(results["users"],text)}if(results["collections"].length>0){this._setCollections(results["collections"],text)}},_setCollections:function(collections,text){var collectionsList=[];for(var i=0;i<collections.length;i++){var url=Routing.generate("tv_user_collection",{username:collections[i]["user"]["username"],slug:collections[i]["slug"]});var name=collections[i]["name"].toUpperCase();var to=collections[i]["user"]["display_name"];var image=app.assetTv(collections[i]["images"][0]);collectionsList[i]='<li><a href="'+url+'"><img src="'+image+'" width="20" height="20"><strong>'+name+'</strong> BY <span class="text-bold">'+to+"</span></a></li>"}collectionsList[i]='<li class="more">(...) <strong>VIEW ALL</strong><a href="'+Routing.generate("tv_collection_search_text",{text:text})+'" class="link"></a></li>';this._addModule("COLLECTIONS",collectionsList)},_setResources:function(results,text){var resources=[];for(var i=0;i<results.length;i++){var url=type=="submission"?Routing.generate("tv_site_show",{slug:results[i]["slug"]}):Routing.generate("tv_blog_post",{slug:results[i]["slug"]});var type=results[i]["type"]=="post"?"MAGAZINE":results[i]["type"];var title=type=="submission"?results[i]["site_name"].toUpperCase():results[i]["title"].toUpperCase();resources[i]='<li><strong><a href="'+url+'">'+title+'</a></strong> in <span class="text-bold">'+type+"</span></li>"}this._addModule("RESOURCES",resources)},_setUsers:function(users,text){var usersList=[];for(var i=0;i<users.length;i++){var url=Routing.generate("tv_user_homepage",{username:users[i]["username"]});var name=users[i]["display_name"].toUpperCase();var from=users[i]["country"];var image=app.thumb(users[i]["image"],"thumb_user_70");usersList[i]='<li><a href="'+url+'"><img src="'+image+'" width="20" height="20" /><strong>'+name+'</strong> FROM <span class="text-bold">'+from+"</span></a></li>"}usersList[i]='<li class="more">(...) <strong>VIEW ALL</strong><a href="'+Routing.generate("tv_directory_search_text",{text:text})+'" class="link"></a></li>';this._addModule("AGENCIES AND USERS",usersList)},_addModule:function(title,results){var module=$('<div class="module"><h3>'+title+"</h3><ul>"+results.join("")+"</ul></div>");var autocomplete=this.searchBox.find(".box-search-autocomplete");autocomplete.addClass("open");autocomplete.append(module)},_loadSearch:function(models){$("#content").hide();this.resetView();this._showResults(models);app.loader.closeSearchText();this.render()},_showResults:function(models){$("body").scrollTop(0);var url=Routing.generate("tv_inspiration_search",{text:this.searchText});this.viewResults=new app.InspirationView({routeScroll:url,models:models});this._createResultsContainer(models);this.setHistory(this.searchText,models,url)},_createResultsContainer:function(models){$(".results-container").remove();this.containerSearch=$('<section id="#content" class="results-container"><div class="block" id="search-result"><div class="inner search-container"><div class="grid"></div></div></div></section>');if(models.length==0){this.containerSearch.html(Handlebars.templates.no_search_results({text_searched:this.searchText}));$("#footer").show()}else{this.containerSearch.find(".search-container > .grid").html(this.viewResults.el);$("#footer").hide()}this.$("#content").before(this.containerSearch);$(window).lazyLoadXT()},_removeTagsAndShowInput:function(){this.searchBox.find("#search-text").val(this.searchText).show();this.searchBox.find(".box-search-tags").html("");this.searchBox.find("#search-text").focus()},_removeTag:function(ev){ev.stopPropagation();var tagToRemove=$(ev.currentTarget).parent().text();this.render(tagToRemove);this._openLoadAndSearch()},_openLoadAndSearch:function(){this.suggestionText="";app.loader.openForSearchText();this.model.search(this.searchText)},setHistory:function(text,models,url){if(!url){url=window.location.href}var history={service:"search",url:url,datas:{text:text,items:models,href:url}};app.history.addHistoryPoint(history)},resetView:function(){if(this.viewResults){this.viewResults.undelegateEvents();this.viewResults.remove();this.viewResults=null;$("#search-result").remove()}},render:function(remove_word){this._cleanSearchText(remove_word);var parameters=this._getSearchDatas();this.searchBox.html(this.template({search:parameters}));if($(window).width()<700){this.$("#search-text").attr("placeholder",this.$("#search-text").data("placeholder-mobile"))}},_cleanSearchText:function(remove_word){if(remove_word){this.searchText=this.searchText.replace(remove_word,"")}this.searchText=this.searchText.replace(/\s\s+/g," ");this.searchText=this.searchText.trim()},_getSearchDatas:function(){var words=this.searchText.length>0?this.searchText.split(" "):[];var showWords=words.length>0?true:false;var filtersLinks=Routing.generate("tv_search_websites");var text=this.suggestionText.length>0?this.suggestionText:this.searchText;return{text:text,words:words,filtersLinks:filtersLinks,showWords:showWords}}});$(document).ready(function(){app.searchText=new SearchTextView});
var app=app||{};(function(){app.LightBox=Backbone.View.extend({className:"box-lightbox",events:{"click .js-lightbox-close":"close","click ":"_closeFromOutside","click .yes":"_confirmationOk","click .no":"close"},options:{close_callback:null,remove_after_close:false,extra_info:{}},isOpen:false,btnCloseLightbox:'<div class="bt-close js-lightbox-close"></div>',initialize:function(options){this.options=$.extend({},this.options,options);this.$el.append(this.btnCloseLightbox);$("body").append(this.$el)},openConfirmation:function(msg,button,callback){if(this.isOpen){return}this.isOpen=true;this.$el.html("");this.$el.append(this.btnCloseLightbox);var view=Handlebars.templates.confirmation({msg:msg,button:button});this.callback_confirmation=callback;this.show(view)},getExtraInfo:function(){return this.options.extra_info},_confirmationOk:function(){this.close();return this.callback_confirmation()},show:function(view,empty){app.block=true;app.lightboxes.add(this);$("body").addClass("hidden-y");if(empty){this.$el.empty()}this.$el.append(view);var self=this;setTimeout(function(){self.$el.addClass("open")},100)},close:function(){if(this.options.close_callback){this.options.close_callback()}app.block=false;$("body").removeClass("hidden-y");this.$el.removeClass("open");this.isOpen=false;this.$el.empty();app.lightboxes.remove();var self=this;if(this.options.remove_after_close){setTimeout(function(){self.remove()},500)}},destroy:function(){this.close();this.remove()},_closeFromOutside:function(e){if($(e.target).hasClass("box-lightbox")){this.close()}}})})();
var app=app||{};(function(){"use strict";app.TooltipModel=Backbone.Model.extend({defaults:{username:""},request:null,isLoaded:function(){return this.has("homepage")},fetchData:function(){var self=this;this.request=$.ajax({type:"GET",url:Routing.generate("tv_user_tooltip",{username:self.get("username")}),success:function(json){self.set({displayName:json.displayName,homepage:json.homepage,image:json.image,countryName:json.countryName,collectables:json.collectables,numberOfCollections:json.numberOfCollections,totalAwards:json.totalAwards,status:json.status});app.TooltipCollection.add(self);self.trigger("loaded")}})},abort:function(){if(this.request){this.request.abort();this.request=null}}})})();
var app=app||{};(function(){var TooltipCollection=Backbone.Collection.extend({model:app.TooltipModel,findOrCreateByUsername:function(username){var tooltip=this.findWhere({username:username});if(tooltip){return tooltip}return new app.TooltipModel({username:username})}});app.TooltipCollection=new TooltipCollection})();
var app=app||{};(function($){"use strict";app.Tooltip=Backbone.View.extend({tagName:"div",aborted:false,className:"tooltip-user",initialize:function(options){this.options=options;this.model.on("loaded",this._render,this)},abort:function(){this.aborted=true;var self=this;this.$el.removeClass("open");this.model.abort();setTimeout(function(){self.remove()},300)},render:function(){this._loading();var self=this;setTimeout(function(){self.$el.addClass("open")},100);if(this.model.isLoaded()){this._render()}else{this.model.fetchData()}return this},_loading:function(){this.$el.html('<div class="box-loading style3"><div class="spinner"></div></div>');if(this.options.classBottom){this.$el.addClass(this.options.classBottom)}this.options.target.append(this.$el)},_render:function(){if(this.aborted){return}var self=this;this.$el.find(".box-loading").fadeOut();this.$el.append(Handlebars.templates.tooltip({user:this.model.toJSON()}));this.$el.find("img").on("load",function(){self.options.target.append(self.$el)})}})})(jQuery);
var app=app||{};(function(){"use strict";app.UserTypeView=Backbone.View.extend({el:"body",events:{"click .js-usertype":"_show","click .box-content-usertype ul.tabs li":"_changeTab"},lightbox:null,_show:function(e){var lightbox=new app.LightBox({remove_after_close:true});this.$el.css("margin","0");this.$el.addClass("hidden-y");var type=$(e.currentTarget).data("type");lightbox.show(Handlebars.templates["user-type"]({selected:type}));var self=this;setTimeout(function(){self.$el.css("margin","auto")},10)},_changeTab:function(e){var selectedTab=$(e.currentTarget);var tab_id=selectedTab.attr("data-tab");$(".box-content-usertype .tabs li, .tab-content").removeClass("active");$(".box-content-usertype .tab-content").hide();selectedTab.addClass("active");$("#"+tab_id).fadeIn()}})})();
var app=app||{};(function(){"use strict";app.JuryDevView=Backbone.View.extend({el:"#content",events:{"click .js-jurydev":"_show"},lightbox:null,_show:function(e){if(!this.lightbox){this.lightbox=new app.LightBox;this.template=Handlebars.templates["jury-dev"]}var scores=$(e.currentTarget).data("scores");var final_score=$(e.currentTarget).data("final");this.lightbox.show(this.template({url_more_info:"#",scores:scores,final_score:final_score}))}})})();
var app=app||{};(function(){"use strict";app.InfiniteScroll=Backbone.Model.extend({page:1,isLoading:false,nextResults:{},endOfList:false,options:{items_per_page:24},defaults:{contentRoute:null,nodeRoute:null},initialize:function(options){this.options=$.extend({},this.options,options)},loadContent:function(){if(this.nextResults.length>0){this.trigger("loadData",this.nextResults);this.getNextResults()}},setEndOfList:function(){this.endOfList=true;this.trigger("remove_loading")},setNextPage:function(models){if(!models){this.endOfList=true;this.trigger("remove_loading");return}this.nextResults=models;this.addPage()},getNextResults:function(){if(!this.endOfList){this.isLoading=true;var self=this;this.trigger("is_loading");$.ajax({type:"GET",url:self.getRoute(),success:function(datas){if(datas.length===0){self.endOfList=true;self.nextResults={};self.trigger("remove_loading");return}self.nextResults=datas;self.isLoading=false}})}else{this.nextResults={}}},addPage:function(){this.page++},getRoute:function(){this.addPage();var separator=this.get("contentRoute").indexOf("?")!==-1?"&":"?";return this.get("contentRoute")+separator+"page="+this.page+"&scroll=true"},resetAndChangeUrl:function(href){this.page=1;this.endOfList=false;this.set("contentRoute",href);this.nextResults=null}})})();
var app=app||{};(function($){"use strict";app.InfiniteScrollView=Backbone.View.extend({heightOffset:100,target:$(window),initialize:function(){$("footer").hide();var self=this;this.target.bind("scroll",function(ev){self.scrolling(ev)});this.model.on("remove_loading",this.showFooter,this)},scrolling:function(ev){var mayLoadContent=this.target.scrollTop()+this.heightOffset>=$(document).height()-this.target.height();if(mayLoadContent&&!this.model.isLoading){this.loadContent()}else{ev.stopPropagation()}},loadContent:function(){this.model.loadContent()},showFooter:function(){if(!$("#footer").is(":visible")){$("#footer").show()}},resetUrl:function(href){this.model.resetAndChangeUrl(href)}})})(jQuery);
var app=app||{};(function(){"use strict";app.Collectable=Backbone.Model.extend({defaults:{id:"",site_name:"",type:"",image:"",user:{url:"",username:""},nominee_date:"",design_by:"",sotd_date:"",is_site_of_the_day:"",is_honorable_mention:"",country:"",slug:"",users_collection:{},is_already_collected:false,collected_user_id:null},getUserDatas:function(){var user=this.get("user");if(!user){return{display_name:"",username:"",url:"",country:""}}return{display_name:user.hasOwnProperty("displayName")?user.displayName:user.display_name,username:user.username,url:Routing.generate("tv_user_homepage",{username:user.username}),country:user.country}},getCategoryUrl:function(category){return Routing.generate("tv_blog_category",{slug:category.slug})},getUserUrl:function(user){return Routing.generate("tv_user_homepage",{username:user.username})},getUrl:function(){return Routing.generate("tv_nominees_show",{slug:this.get("slug")})},getUrlClean:function(){return this.get("url").replace("http://","")},getUsersCollectedCount:function(){if(!this.has("users_collection")){return 0}return this.get("users_collection").length},getUsersCollected:function(){var users=[];if(this.has("users_collection")){var users_collected=this.get("users_collection");if(!Array.isArray(users_collected)){var new_collected=[];_.forEach(users_collected,function(value,key){new_collected.push(value)});users_collected=new_collected}var collected=users_collected.reverse();for(var i=0;i<4&&i<collected.length;i++){users.push(this._parseUser(collected[i]))}}return users},_parseUser:function(user){return{display_name:user.displayName,homepage:Routing.generate("tv_user_homepage",{username:user.username}),url:user.url,image:user.image,username:user.username}},nomineeDaydiff:function(){return moment(this.get("nominee_date")).fromNow()},getNomineeOrAwardDay:function(selected_type){if(this.get("is_site_of_the_month")){return moment(this.get("sotd_date")).format("MMMM")+" in <strong><a href='"+Routing.generate("tv_sotms_gallery")+"'  class='text-black'>SOTM</a></strong>"}else if(this.get("is_site_of_the_day")&&(!selected_type||selected_type!=="honorable")){return moment(this.get("sotd_date")).format("LL")+" in <strong><a href='"+Routing.generate("tv_sotds_gallery")+"'  class='text-black'>SOTD</a></strong>"}else if(this.get("is_honorable_mention")){return moment(this.get("nominee_date")).format("LL")+" in <strong><a href='"+Routing.generate("tv_honorable_mention_list")+"' class='text-black'>H.M</a></strong>"}return moment(this.get("nominee_date")).format("LL")+" in <strong><a href='"+Routing.generate("tv_nominees")+"' class='text-black'>Nominees</a></strong>"},_formatNumber:function(num,size){var str=""+num;var pad=new Array(size+1).join("0");return pad.substring(0,pad.length-str.length)+str},dateToFinishVoting:function(){if(!this.get("finish_voting_date")){return}var date=moment(this.get("finish_voting_date"));var now=moment();var duration=moment.duration(date.diff(now));if(this._formatNumber(duration.days(),2)<0||this._formatNumber(duration.hours(),2)<0||this._formatNumber(duration.minutes(),2)<0){return}return{days:this._formatNumber(duration.days(),2),hours:this._formatNumber(duration.hours(),2),minutes:this._formatNumber(duration.minutes(),2)}},isVotingOpen:function(){return this.get("is_voting_open")},getUrlToSaveInCollection:function(idCollection){return Routing.generate("tv_favourites_create_submission_collectable",{slug:this.get("slug"),idCollection:idCollection})},getDataToSaveInCollection:function(){return{title:this.get("site_name")}},saveInCollection:function(idCollection){var self=this;this.set("is_already_collected",true);$.ajax({type:"POST",url:self.getUrlToSaveInCollection(idCollection),data:self.getDataToSaveInCollection(),success:function(){},error:function(){}})},removeFromCollection:function(){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_collection_remove_collectable",{idCollection:app.profile.options.id_collection,idCollectable:self.get("_id")})}).success(function(){self.trigger("removed_me")})}})})();
var app=app||{};(function(){"use strict";app.Country=Backbone.Model.extend({defaults:{name:"",countryId:"",count:0,type:"country",selected:false},filter_key:"countries",getUrlShow:function(){return Routing.generate("tv_search_websites_by_tag",{parameter:this.get("name")})},getFilterParam:function(){return this.get("name")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.Taxonomy=Backbone.Model.extend({defaults:{name:"",popular:false,slug:"",count:0,type:"",selected:false},filter_key:"categories",getUrlShow:function(){return Routing.generate("tv_search_websites_by_tag",{parameter:this.get("slug")})},getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.UserType=Backbone.Model.extend({defaults:{key:"",name:"",count:0,type:"type",selected:false},filter_key:"type",getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.UserQuote=Backbone.Model.extend({defaults:{key:"",name:"",count:0,type:"quote",selected:false},filter_key:"budget",getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.Job=Backbone.Model.extend({defaults:{key:"",name:"",count:0,type:"type",selected:false},filter_key:"type",getFilterParam:function(){return this.get("key")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.Awards=Backbone.Model.extend({defaults:{name:"",slug:"",count:0,type:"",selected:false},filter_key:"type",getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.Year=Backbone.Model.extend({defaults:{name:"",slug:"",count:0,type:"",selected:false},filter_key:"year",getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var FilterView=Backbone.View.extend({tagName:"li",events:{click:"filter"},options:{redirect:false},initialize:function(options){this.options=$.extend({},this.options,options)},removeFilter:function(){this.unbind();this.undelegateEvents();this.remove()},filter:function(e){e.preventDefault();e.stopPropagation();var currentTarget=$(e.currentTarget);this.model.href=currentTarget.find(".nav-item").attr("href");if(this.options.redirect){window.location=this.model.href;$("body").removeClass("nav-sidebar-open");return}if(this.model.isSelected()){this.trigger("filter_remove",this.model,currentTarget)}else{this.trigger("filter",this.model,currentTarget)}app.dispatcher.trigger(app.EVENTS.MENU_FILTER)},render:function(href){var printed='<strong><a class="nav-item" data-count="'+this.model.get("count")+'" href="'+href+'">'+this.model.get("name")+"</a></strong>";this.$el.html(printed);if(this.model.isSelected()){this.$el.addClass("active-close")}return this}});
var Filters=Backbone.Model.extend({defaults:{filters:{}},selectedByType:{},filterActive:{section:"",title:"",view:null},loadFilters:function(){var filters_array={};var filters=this.get("filters");for(var key in filters){filters_array[key]=this.createCollection(key,filters[key])}this.trigger("filters_loaded",filters_array)},createCollection:function(key,models){var modelTypes={tag:app.Taxonomy,category:app.Taxonomy,color:app.Taxonomy,country:app.Country,quote:app.UserQuote,type:app.UserType,award:app.Awards,job_types:app.Job,year:app.Year};var Collection=Backbone.Collection.extend({model:modelTypes[key]});return new Collection(models)},setActiveView:function(section,view){this.filterActive.section=section;this.filterActive.view=view},filterByTaxon:function(model){var self=this;$.ajax({type:"GET",url:model.href,cache:false,success:function(data){self.trigger("results_loaded",data,model.href)}})},resetFilters:function(href){var self=this;$.ajax({type:"GET",url:href,cache:false,success:function(data){self.trigger("results_loaded",data,href)}})},resetSelected:function(){this.selectedByType={}},pushInSelected:function(model){this.selectedByType[model.get("type")]=model},generateUrlWithoutFilter:function(model){var selectedByType=_.clone(this.selectedByType);delete selectedByType[model.get("type")];return this._getParameters(selectedByType)},getFilterParameters:function(model){var selectedByType=_.clone(this.selectedByType);selectedByType[model.get("type")]=model;return this._getParameters(selectedByType)},_getParameters:function(selectedByType){var filters=[];for(var type in selectedByType){if(typeof filters[selectedByType[type].filter_key]==="undefined"){filters[selectedByType[type].filter_key]=[]}filters[selectedByType[type].filter_key].push(selectedByType[type].getFilterParam())}var parameters={};var parameter=null;for(var key in filters){if(filters[key].length>0){parameters[key]=filters[key].join(",");parameter=filters[key][0]}}if(Object.keys(parameters).length==1){parameters=parameter}return parameters},setAndLoadFilters:function(filters){this.selectedByType={};this.set("filters",filters);this.loadFilters()}});
var FiltersView=Backbone.View.extend({className:"box-filters fixed",sections:{submission:"Websites",collections:"Collections",blog:"Magazine",job:"Jobs",judge:"Judges",winner:"Most Awarded Profiles",directory:"Directory"},filtersView:[],options:{current_view:"",navigation:"",navigation_section:"",first_state_models:"",show_filters:false,first_time:false,filter_options:{},total:0,redirect:false,template:"filter",show_view_options:true},isNewView:false,resetIsLoad:false,events:{"click .item-looking a":"_loadFilters","click .dropdown":"_showLoader","click .change_grid":"_changeGrid","click #reset-btn":"_resetFilters"},urls:{submission:"tv_search_websites",collections:"tv_collection_search",blog:"tv_search_articles",jobs:"tv_job_search",judge:"tv_judge_search",directory:"tv_directory_search",winner:"tv_user_winner_list"},initialize:function(options){this.options=$.extend({},this.options,options);this.template=Handlebars.templates[this.options.template];this._loadEvents();this.render();this._pushInHistory(this.options.models,null,"first_state")},_loadEvents:function(){var self=this;app.loader.on("open_search_text",this._hide,this);app.loader.on("close_search_text",this._show,this);app.loader.on("close",this._show,this);this.model.on("filters_loaded",this._createItems,this);this.model.on("results_loaded",this._showResults,this);app.history.on("go_back_history_filter",this._goBackHistory,this)},_goBackHistory:function(state){var history=state.datas;if(!history.items){window.location.href=history.href}if(history.section!==this.options.navigation_section){this._setNavigationsAndGenerateNewView(history.section,history.section_text,history.href)}this.model.resetSelected();this.model.setAndLoadFilters(history.navigation);this.options.current_view.collection.reset(history.items)},_resetFilters:function(){var url=Routing.generate(this.urls[this.options.navigation_section]);this.resetIsLoad=false;this.$el.find("#reset-btn").remove();app.loader.openForFilters(this.$el);app.loader.showLoading();this.model.resetFilters(url)},_changeGrid:function(ev){ev.stopPropagation();var cols=$(ev.currentTarget).data("cols");var value=cols==4?"mini":"default";Cookies.set("current_element_view",value,{expires:365});$(".list-items > li").removeClass("col-3 col-4");$(".list-items > li").addClass("col-"+cols);this._changeGridIcon(cols);this._closeFilters()},_changeGridIcon:function(cols){var icon="grid-2cols";if(cols!=4){icon="grid"}$(".grid-icon").html('<svg id="cols-view" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" class="ico-svg ico-13"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#'+icon+'"></use></svg>')},_loadFilters:function(el){el.stopPropagation();var element=$(el.currentTarget).clone();var type=element.data("type");var url=Routing.generate(this.urls[type]);if(type=="winner"){window.location=url;return}this._setNavigationsAndGenerateNewView(type,element.text(),url)},_setNavigationsAndGenerateNewView:function(type,text,url){this.options.navigation_section=type;this.options.navigation_text=text;this._generateCurrentView(url);this.model.filterByTaxon({href:url})},_hide:function(){this.$el.hide()},_show:function(){this._closeFilters();this.$el.show()},_showLoader:function(ev){ev.stopPropagation();app.loader.openForFilters(this.$el);app.loader.closeLoading();this.dropDown=$(ev.currentTarget);this.dropDown.toggleClass("open")},_showFilters:function(){this.$(".box-left").find(".item.dropdown:not(.item-looking)").remove();this.$("#looking").html(this.options.navigation_text);this.$el.find("#filters-section").after(this.itemsView);this._setMainFilterName()},_setMainFilterName:function(){var name=this.sections[this.options.navigation_section];this.$(".item-looking > span.name-filter").html(name);this.options.navigation_section!="submission"?this.$(".options-view").hide():this.$(".options-view").show()},_capitalizeFirstLetter:function(string){if(typeof string=="string"){string=string.replace("_"," ");return string.charAt(0).toUpperCase()+string.slice(1)}return string},_createItems:function(filters_loaded){this.itemsView=[];this._pushSelectedFilters(filters_loaded);for(var key in filters_loaded){var filters_taxon=filters_loaded[key];var filter_name=this._getSelectedFilter(filters_taxon,key);var className=filter_name===key?"item dropdown":"item dropdown selected";var classNameDiv=filters_taxon.models.length<8?" style2":"";var li=$('<li class="'+className+'">'+'<span class="name-filter" id="'+key+'">'+this._capitalizeFirstLetter(filter_name)+"</span>"+'<div class="menu-dropdown'+classNameDiv+'"></div></li>');var ul=$("<ul></ul>");for(var i=0;i<filters_taxon.models.length;i++){var taxon=filters_taxon.models[i];var filterView=new FilterView({redirect:this.options.redirect,model:taxon});var route_root=this.urls[this.options.navigation_section];var route_params=taxon.isSelected()?this.model.generateUrlWithoutFilter(taxon):this.model.getFilterParameters(taxon);if(typeof route_params!="object"){route_root=route_root+"_by_tag";route_params={parameter:route_params}}var href=Routing.generate(route_root,route_params);ul.append(filterView.render(href).el);filterView.on("filter",this.model.filterByTaxon,this.model);filterView.on("filter",this._addResetFilter,this);filterView.on("filter_remove",this.model.filterByTaxon,this.model);this.filtersView.push(filterView)}li.find(".menu-dropdown").append(ul);this.itemsView.push(li)}this._showFilters()},_addResetFilter:function(){if(!this.resetIsLoad){this.$el.find(".box-left .menu-filters").append('<li class="item not-hover" id="reset-btn"><div class="bt bt-reset"><div class="ico"><svg viewBox="0 0 14 14" class="ico-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#reload"></use></svg></div>RESET FILTERS</div></li>');this.resetIsLoad=true}},_removeFilter:function(){this._closeFilters()},_showResults:function(data,url){if(this.isNewView){$(".grid").html(this.options.current_view.el);this.isNewView=false}window.scrollTo(0,0);this.options.current_view.resetInfiniteScroll(url);this.options.navigation=data.navigation;this.options.current_view._resetCollection(data.items);if(data.selected_type){this.options.current_view.setSelectedType(data.selected_type)}this.options.current_view.updateExtraFields(data);this.model.setAndLoadFilters(data.navigation);this._pushInHistory(data.items,url);this._closeFilters()},_generateCurrentView:function(scrollInfiniteUrl){var sections={submission:app.SubmissionsView,collections:app.CollectionsView,blog:app.PostsView,directory:app.UsersView,winner:app.UsersView};var view=sections[this.options.navigation_section];if(this.options.current_view!=null){this.options.current_view.undelegateEvents()}this.options.current_view=new view({routeScroll:scrollInfiniteUrl});this.isNewView=true},_closeFilters:function(){app.loader.closeFilters();$(".dropdown").removeClass("open")},_getSelectedFilter:function(filters_loaded,key){var filter=filters_loaded.findWhere({selected:true});return typeof filter==="undefined"?key:filter.get("name")},_pushSelectedFilters:function(filters_loaded){for(var key in filters_loaded){var taxon=filters_loaded[key].findWhere({selected:true});if(typeof taxon!=="undefined"){this.model.pushInSelected(taxon)}}},_pushInHistory:function(items,url,service){if(!url){url=window.location.href}var history={service:"filter",url:url,datas:{navigation:this.options.navigation,items:items,point:service,section:this.options.navigation_section,href:url}};app.history.addHistoryPoint(history)},render:function(){$(".seo").remove();this.$el.html(this.template({show_view_options:this.options.show_view_options,filter_options:this.options.filter_options}));this.model.setAndLoadFilters(this.options.navigation,this.options.navigation_section);this.options.container.append(this.$el)}});
var app=app||{};(function(){"use strict";app.Submission=app.Collectable.extend({getUrlToSaveInCollection:function(idCollection){return Routing.generate("tv_favourites_create_submission_collectable",{slug:this.get("slug"),idCollection:idCollection})},getDataToSaveInCollection:function(){return{title:this.get("site_name")}},getAbsoluteUrl:function(){return Routing.generate("tv_site_show",{slug:this.get("slug")},true)}})})();
var app=app||{};(function(){app.SubmissionCollection=Backbone.Collection.extend({model:app.Submission})})();
var app=app||{};(function($){"use strict";app.SubmissionView=Backbone.View.extend({tagName:"li",className:"col-3",options:{fixed_class:null,extraClass:"",template_name:"submission",class_footer:"",canBeRemoved:false,simple_view:false,lazy_load:true,is_grid:false,isHome:false,selected_type:null},showingTooltip:null,addToCollectionContainer:null,events:function(){return _.extend({},this.originalEvents,this.additionalEvents)},additionalEvents:{},originalEvents:{"click .open-folder":"openFolder","click .follow-collection":"_followCollection","click .add-collection":"addCollection","click .remove_collectable":"_openRemoveModal","click .js-more":"_showUsersCollected","mouseover .js-video-hover":"_playVideo","mouseout .js-video-hover":"_pauseVideo"},_followCollection:null,addCollection:function(ev){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}var id_collection=$(ev.currentTarget).data("collection");this.model.saveInCollection(id_collection);location.reload()},initialize:function(options){this.options=$.extend({},this.options,options);this._changeClassViewCookie();this._loadEvents()},_showUsersCollected:function(){var likesView=new app.UsersCollaboratorView;likesView.show(this.model.get("users_collection"))},_changeClassViewCookie:function(){if(!this.options.is_grid){return}this.gridView=Cookies.get("current_element_view")===undefined?"default":Cookies.get("current_element_view");if(this.gridView!="default"){this.$el.removeClass("col-3");this.$el.addClass("col-4")}},setSimpleView:function(simple_view){this.options.simple_view=simple_view},_loadEvents:function(){this.model.on("removed_me",this.removeMe,this);this.model.on("change:is_already_collected",this._closeAndActiveButton,this)},_closeAndActiveButton:function(){this.addToCollectionContainer.closeLightBox();app.buttons.load(this.$(".bt-add-like.js-bt-load"))},removeMe:function(){this.trigger("remove_me",this)},renderFromExisting:function(){var isLoggedIn=app.user.isLoggedIn();var itemParsed=this._parseToTemplate();this.$(".footer").html(Handlebars.templates[this.options.template_name]({item:itemParsed}));if(isLoggedIn){this.$el.find(".open_login").removeClass("open_login")}return this},_openRemoveModal:function(){var self=this;var lightBox=new app.LightBox;lightBox.openConfirmation("Are you sure?","DELETE!",function(){self._removeFromCollection()})},_removeFromCollection:function(){this.$el.fadeOut();this.model.removeFromCollection()},_parseToTemplate:function(){return{name:this.model.get("site_name"),image:this._getImageDatas(),url:this.model.getUrl(),show_url:this.model.getAbsoluteUrl(),external_url:this.model.get("url"),users_collected:this.model.getUsersCollected(),collected_count:this.model.getUsersCollectedCount(),day_diff:this.model.nomineeDaydiff(),time_to_finish_vote:this.model.dateToFinishVoting(),mobile_view:this.model.get("mobile_view"),is_voting_process_open:this.model.isVotingOpen(),title:this._getSubmissionName(),isHome:this.options.isHome,date:this.model.getNomineeOrAwardDay(this.options.selected_type),class_footer:this.options.class_footer,type:"submission"}},_getImageDatas:function(image,defaultImage){var image_to_process=image==null?this.model.get("image"):image;return app.getImageInfo(image_to_process,defaultImage)},_getSubmissionName:function(){var user=this.model.getUserDatas();if(user.username=="awwwards-team"||user.username=="awwwards"){user.display_name=this.model.get("design_by");user.url=this.model.getUrl()}var title="By <strong><a href='"+user.url+"'>"+user.display_name+"</a></strong> from "+this.model.get("country").name;return title},openFolder:function(){this.addToCollectionContainer=new AddToCollectionContainerView;this.addToCollectionContainer.openFolder(this.model)},_playVideo:function(ev){$(ev.currentTarget).get(0).play()},_pauseVideo:function(ev){$(ev.currentTarget).get(0).pause()},render:function(){var itemParsed=this._parseToTemplate();itemParsed.delete_available=itemParsed.type!=="activity"&&(this.options.canBeRemoved||app.user.isSameUserLoggedIn(this.model.get("collected_user_id")));itemParsed.simple_view=this.options.simple_view;itemParsed.lazy_load=itemParsed.lazyload==false?false:this.options.lazy_load;this.$el.html(Handlebars.templates[this.options.template_name]({item:itemParsed}));if(this.options.extraClass){this.$el.addClass(this.options.extraClass)}return this}})})(jQuery);
var app=app||{};(function($){"use strict";app.SubmissionsView=Backbone.View.extend({id:"grid_list",className:"list-items list-flex",tagName:"ul",views:[],options:{itemClassName:"",extraItemClassName:"",items_per_page:24,default_class:false,itemTemplate:"",routeScroll:"",models:[],el:null,isHome:false,canBeRemoved:false,simple_view:false,lazy_load:true,isUserlist:false,template_name:null,selected_type:null,is_grid:false},collection:null,updateExtraFields:function(data){},_createChildView:function(parameters){return new app.SubmissionView(parameters)},initialize:function(options){this.options=$.extend({},this.options,options);this._createCollection();if(this.options.routeScroll){this._loadNewScroll(this.options.routeScroll)}var self=this;if(this.options.el){this._resetCollection();this._loadEvents();if(!this.options.isUserList){var children=self.options.extraItemClassName?this.$el.children("."+this.options.extraItemClassName):this.$el.children();_.each(children,function(item,i){var params={el:item,template_name:self.options.itemTemplate?self.options.itemTemplate:"footer",is_grid:self.options.is_grid};var view=self._getItemView(self.collection.at(i),params);self.animateItem(view);self.views.push(view);view.renderFromExisting()})}}else{this._loadEvents();this._resetCollection();this.$(".popup").popupWindow()}},_resetCollection:function(models){if(models){this.options.models=models}var length=this.options.models.length;var next_page=null;if(length==0){return}var half=length-this.options.items_per_page;var models_to_reset=this.options.models.slice(0,this.options.items_per_page);if(half>0){var next_page=this.options.models.slice(this.options.items_per_page,length);if(half<this.options.items_per_page){this.loadFromScroll.model.setEndOfList()}}if(this.options.routeScroll){this.loadFromScroll.model.setNextPage(next_page)}this.collection.reset(models_to_reset)},_createCollection:function(){this.collection=new app.SubmissionCollection},_loadScroll:function(href){if(typeof this.loadFromScroll!=="undefined"){this.loadFromScroll.resetUrl(href);return}this._loadNewScroll(this.options.inifiniteScrollRoute)},_loadNewScroll:function(route){this.loadFromScroll=new app.InfiniteScrollView({el:this.el,model:new app.InfiniteScroll({contentRoute:route,models:this.options.models,items_per_page:this.options.items_per_page})});this.loadFromScroll.model.on("loadData",this.collection.add,this.collection);this.loadFromScroll.model.on("loadData",this.updateNewItems,this);this.loadFromScroll.model.on("loadData",this._loadViewScripts,this);this.loadFromScroll.model.on("is_loading",this._addLoadingDiv,this);this.loadFromScroll.model.on("remove_loading",this._loadViewScripts,this)},_addLoadingDiv:function(){this.$el.append('<div class="box-loading loading-scroll"><div class="spinner"></div></div>')},updateNewItems:function(elements){},_loadEvents:function(){this.collection.on("add",this._addItemView,this);this.collection.on("reset",this._renderCollection,this)},animateItem:function(view){},_getItemView:function(model,params){var params=params||{};var parameters={model:model,lazy_load:this.options.lazy_load,canBeRemoved:this.options.canBeRemoved,isHome:this.options.isHome,selected_type:this.options.selected_type};for(var param in params){parameters[param]=params[param]}if(!this.options.default_class){parameters.className=this._getColsCookie()}if(this.options.extraItemClassName){parameters.extraClass=this.options.extraItemClassName}if(this.options.itemClassName){parameters.className=this.options.itemClassName}return this._createChildView(parameters)},_getColsCookie:function(parameters){var cols="col-3";var gridView=Cookies.get("current_element_view")===undefined?"default":Cookies.get("current_element_view");if(gridView!="default"){cols="col-4"}return cols},setSelectedType:function(selected_type){this.options.selected_type=selected_type},resetInfiniteScroll:function(url){if(this.options.routeScroll){this.loadFromScroll.resetUrl(url)}},_loadViewScripts:function(){$(window).lazyLoadXT();app.user.removeLoginIfLogged();this.$(".loading-scroll").remove();this.$(".popup").popupWindow()},_addItemView:function(model){var view=this._getItemView(model);view.on("remove_me",this.removeView,this);this.views.push(view);this._render(view)},removeView:function(view){this.collection.remove(view.model);view.$el.remove()},_renderCollection:function(){this.$el.html("");this.collection.each(function(item_model){this._addItemView(item_model)},this);this._loadViewScripts();this.updateNewItems(this.collection.toJSON())},_render:function(view){view.setSimpleView(this.options.simple_view);this.animateItem(view);this.$el.append(view.render().el);this.index++}})})(jQuery);
var app=app||{};(function(){"use strict";app.NomineeView=app.SubmissionView.extend({})})();
var app=app||{};(function(){"use strict";app.ExternalElement=app.Collectable.extend({defaults:{id:"",slug:"",title:"",taxons:"",url:"",images:""},getUserUrlShow:function(){return Routing.generate("tv_user_homepage",{username:this.get("user").username})},getCategoryUrl:function(category){return Routing.generate("tv_blog_category",{slug:category.slug})},getUrl:function(){return Routing.generate("tv_nominees_show",{slug:this.get("id")})},getUrlToSaveInCollection:function(idCollection){return Routing.generate("tv_favourites_add_external_to_collection",{id:this.get("id"),idCollection:idCollection})},getDataToSaveInCollection:function(){return{title:this.get("site_name")}}})})();
var app=app||{};(function(){"use strict";app.ExternalElementView=app.SubmissionView.extend({_parseToTemplate:function(){var external_article=this.model.get("is_external_article");var url=external_article?this.model.get("url"):Routing.generate("tv_collection_collectable",{idCollectable:this.model.get("id")});var cover=this.model.get("cover");cover=this._getImageDatas(cover,app.asset("bundles/tvweb/images/nophoto.png"));return{name:this.model.get("title"),image:this.options.isHome?cover:this._getImageDatas(),isHome:this.options.isHome,title_inspire:this.model.get("title_inspire"),description_inspire:this.model.get("description_inspire"),is_external_article:external_article,url:url,slug:this.model.get("slug"),external_url:this.model.get("url"),user:this.model.getUserDatas(),users_collected:this.model.getUsersCollected(),collected_count:this.model.getUsersCollectedCount(),first_collection:this.model.get("first_collection"),type:"external"}}})})();
var app=app||{};(function(){"use strict";app.Post=app.Collectable.extend({defaults:{slug:"",title:"",user:{url:"",username:"",displayName:""},users_collection:"",categories:"",image:"",type:"post"},getUserUrlShow:function(){return Routing.generate("tv_blog_post",{slug:this.get("slug")})},getUrl:function(){if(this.get("is_external")){return this.get("url")}return Routing.generate("tv_blog_post",{slug:this.get("slug")})},getUrlToSaveInCollection:function(idCollection){return Routing.generate("tv_favourites_create_post_collectable",{slug:this.get("slug"),idCollection:idCollection})},getDataToSaveInCollection:function(){return{title:this.get("title")}}})})();
var app=app||{};(function(){app.PostCollection=Backbone.Collection.extend({model:app.Post})})();
var app=app||{};(function(){"use strict";app.PostView=app.SubmissionView.extend({_parseToTemplate:function(){var taxons=this._parseTaxonsUrl();var cover=this.model.get("cover");cover=this._getImageDatas(cover,app.asset("bundles/tvweb/images/nophoto.png"));return{name:this.model.get("title"),title_inspire:this.model.get("title_inspire"),image:this.options.isHome?cover:this._getImageDatas(),url:this.model.getUrl(),is_external:this.model.get("is_external"),isHome:this.options.isHome,external_url:this.model.getUrl(),user:this.model.getUserDatas(),users_collected:this.model.getUsersCollected(),collected_count:this.model.getUsersCollectedCount(),taxon:taxons[0],type:"post",class_footer:this.options.class_footer}},_parseTaxonsUrl:function(){var taxons=[];_.each(this.model.get("taxons"),function(taxon){var taxonParsed={name:taxon.name,url:Routing.generate("tv_blog_category",{slug:taxon.slug})};taxons.push(taxonParsed)});return taxons},_getColsCookie:function(parameters){return parameters}})})();
var app=app||{};(function(){"use strict";app.PostsView=app.SubmissionsView.extend({_createCollection:function(){this.collection=new app.PostCollection},_createChildView:function(parameters){return new app.PostView(parameters)}})})();
var app=app||{};(function(){app.InspirationCollection=Backbone.Collection.extend({model:function(attrs,options){if(attrs.type==="submission"){return new app.Submission(attrs,options)}else if(attrs.type==="external_element"){return new app.ExternalElement(attrs,options)}else if(attrs.type==="post"){return new app.Post(attrs,options)}else if(attrs.type==="collection"){return new app.CollectionModel(attrs,options)}}})})();
var app=app||{};(function(){app.InspirationView=app.SubmissionsView.extend({_createCollection:function(){this.collection=new app.InspirationCollection},_createChildView:function(parameters){var view=app.SubmissionView;if(app.is_its_own_profile){parameters.attributes=function(){return{"data-sort-id":this.model.get("key")}}}var model=parameters.model;if(this.options.isHome){parameters.isHome=true}if(model instanceof app.Submission){view=new app.SubmissionView(parameters)}else if(model instanceof app.ExternalElement){if(this.options.isHome){if(model.get("cover")){parameters.template_name="post"}if(model.get("is_external_article")){parameters.template_name="externalArticle"}}view=new app.ExternalElementView(parameters)}else if(model instanceof app.Post){if(this.options.isHome&&model.get("cover")){parameters.template_name="post"}view=new app.PostView(parameters)}else if(model instanceof app.CollectionModel){parameters.template_name="post";view=new app.CollectionView(parameters)}return view},updateNewItems:function(elements){var ids=[];var followers_ids=[];for(var i=0;i<elements.length;i++){if(elements[i].type=="collection"){ids.push(elements[i].id);followers_ids.push(elements[i].followers)}}this.updateFollows(ids,followers_ids)},updateFollows:function(ids,user_ids){var self=this;if(user_ids.length==0){return}$.ajax({type:"POST",data:{user_ids:user_ids},url:Routing.generate("tv_collection_check_followers"),success:function(response){self.fillFollowers(response,ids)},error:function(response){}})},fillFollowers:function(users,ids){_.each(ids,function(id){var followers=this.collection.get(id).get("followers");var hidrated_followers=[];for(var i=0;i<followers.length;i++){hidrated_followers.push(users[followers[i]])}if(hidrated_followers.length==0){return}this.collection.get(id).set("users_collected_hidrated",hidrated_followers)},this)}})})();
var app=app||{};(function(){"use strict";app.User=Backbone.Model.extend({defaults:{id:"",display_name:"",user_plan:"",username:"",url:"",country:"",last_submissions:{},awards_count:{},social_media:{},image:{},background:"https://www.awwwards.com",followed:false},getUserUrlShow:function(){return Routing.generate("tv_user_homepage",{username:this.get("username")})},getUrl:function(){return this.get("url")},hasFacebook:function(){return typeof this.get("social_media")["facebook"]!=="undefined"&&this.get("social_media")["facebook"]!==null},hasTwitter:function(){return typeof this.get("social_media")["twitter"]!=="undefined"&&this.get("social_media")["twitter"]!==null},hasGooglePlus:function(){return typeof this.get("social_media")["googleplus"]!=="undefined"&&this.get("social_media")["googleplus"]!==null},getCountProjects:function(){return this.get("awards_count").submissions},getStatus:function(){return this.get("status")==null||this.get("status")==""?"tribe":this.get("status")},getAwardsByType:function(){var awards=this.get("awards_count");var total=parseInt(awards["soty"])+parseInt(awards["sotm"])+parseInt(awards["sotdds"])+parseInt(awards["sotds"])+parseInt(awards["honorable"]);return awards["submissions"]+" PROJECTS - "+total+" AWWWARDS"},followOrUnfollow:function(){var self=this;var isFollowing=this.get("followed");var href=isFollowing?"tv_user_unfollow":"tv_user_follow";self.set("followed",!isFollowing);$.ajax({type:"POST",url:Routing.generate(href,{username:this.get("username")}),success:function(response){if(!response){self.set("followed",isFollowing)}}})}})})();
var app=app||{};(function(){app.UserCollection=Backbone.Collection.extend({model:app.User,followById:function(ids){_.each(ids,function(id){this.get(id).set("followed",true)},this)},updateFollows:function(elements){var self=this;var ids=_.pluck(elements,"id");if(!app.user.isLoggedIn()){return}$.ajax({type:"POST",data:{ids:ids},url:Routing.generate("tv_user_check_followers"),success:function(response){self.followById(response)},error:function(response){}})}})})();
var app=app||{};(function(){"use strict";app.UserView=app.SubmissionView.extend({additionalEvents:{"click .bt-check":"followOrUnfollow"},_parseToTemplate:function(){return{display_name:this.model.get("display_name"),image:this.model.get("image"),background:this.model.get("background"),url:this.model.getUrl(),country:this.model.get("country"),show_url:this.model.getUserUrlShow(),has_facebook:this.model.hasFacebook(),has_twitter:this.model.hasTwitter(),has_google_plus:this.model.hasGooglePlus(),last_submissions:this.model.get("last_submissions"),social_media:this.model.get("social_media"),awards:this._createAwardsList(),status:this.model.getStatus(),awards_count:this.model.get("awards_count"),following_count:this.model.get("following_count"),is_directory:!this.options.is_winner_list,is_winner_list:this.options.is_winner_list,colletions_count:this.model.get("colletions_count"),number:this.options.number,following:this._isFollowing()}},_isFollowing:function(){return true},_changeClassViewCookie:function(){},_createAwardsList:function(){var awards=this.model.get("awards_count");var awards_title={sotds:{title:"Sites Of The Day",let:"SOTD"},sotm:{title:"Sites Of The Month",let:"SOTM"},soty:{title:"Sites Of The Year",let:"SOTY"}};if(!this.options.is_winner_list){awards_title["honorable"]={title:"Horable Mentions",let:"H.M"}}var total=0;var results=[];for(var key in awards_title){var totalAwards=key=="sotds"?parseInt(awards["sotds"])+parseInt(awards["sotdds"]):parseInt(awards[key]);if(totalAwards>0){total=total+totalAwards;awards_title[key].count=this._formatNumber(totalAwards,2);results.push(awards_title[key])}}if(this.options.is_winner_list){results.push({title:"Total",let:"TOTAL",count:total})}return results},_formatNumber:function(num,size){var str=""+num;var pad=new Array(size+1).join("0");return pad.substring(0,pad.length-str.length)+str},followOrUnfollow:function(el){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}el.preventDefault();app.buttons.load($(el.currentTarget));this.model.followOrUnfollow()},_loadEvents:function(){}})})();
var app=app||{};(function(){"use strict";app.UsersView=app.SubmissionsView.extend({options:{itemClassName:"",itemTemplate:"",routeScroll:"",models:[],el:null,canBeRemoved:false,simple_view:false,is_winner_list:false,lazy_load:true,isUserlist:false,template_name:"user"},number:20,_createCollection:function(){this.collection=new app.UserCollection},updateNewItems:function(elements){this.collection.updateFollows(elements)},updateExtraFields:function(data){$(".total_users").text(this._numberWithCommas(data.total_users))},_numberWithCommas:function(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},_createChildView:function(parameters){this.number++;parameters.className="cols-5";parameters.template_name=this.options.template_name;parameters.is_winner_list=this.options.is_winner_list;parameters.number=this.number;return new app.UserView(parameters)}})})();
var app=app||{};(function(){"use strict";app.UsersCollaboratorView=Backbone.View.extend({events:{"click .bt-check":"_followOrUnfollowUser","click .button-loadmore":"_loadMore"},className:"box-content-likes",template_datas:{count:0,users_collected:[]},initialize:function(){var self=this;this.template=Handlebars.templates.likes;this.lightBox=new app.LightBox({close_callback:function(){self.remove()},remove_after_close:true})},show:function(users_collected){this.template_datas.users_collected=users_collected;this.template_datas.count=this.template_datas.users_collected.length;this.updateFollows();this.lightBox.show(this.el)},_render:function(){this.$el.html(this.template({item:this.template_datas}));this.$el.find(".list-user-likes li:gt(6)").hide()},_loadMore:function(){this.$el.find(".list-user-likes li:gt(6)").show();this.$el.find(".button-loadmore").hide()},_followOrUnfollowUser:function(ev){if(!app.user.isLoggedIn()){return}var $button=$(ev.currentTarget);var username=$button.data("username");var self=this;var isFollowing=this._isFollowing(username);var href=isFollowing?"tv_user_unfollow":"tv_user_follow";app.buttons.load($button);self.setFollowUser(username,!isFollowing);$.ajax({type:"POST",url:Routing.generate(href,{username:username}),success:function(response){if(!response){}}})},_isFollowing:function(username){var user=this._searchUser(username);if(!user){return false}return user.following},setFollowUser:function(username,isFollowing){var user=this._searchUser(username);if(!user){return false}user.following=isFollowing},_searchUser:function(username){var count=this.template_datas.users_collected.length;for(var i=count-1;i>=0;i--){if(this.template_datas.users_collected[i].username==username){return this.template_datas.users_collected[i]}}return false},_parseParameters:function(ids){var collaborators=[];var count=this.template_datas.users_collected.length;for(var i=count-1;i>=0;i--){collaborators[i]=this.template_datas.users_collected[i];collaborators[i].url=Routing.generate("tv_user_homepage",{username:collaborators[i].username});collaborators[i].following=this.inArray(collaborators[i].id,ids)}this._render()},followById:function(ids){_.each(ids,function(id){this.get(id).set("followed",true)},this)},inArray:function(needle,haystack){var length=haystack.length;for(var i=0;i<length;i++){if(haystack[i]==needle)return true}return false},updateFollows:function(){var self=this;var ids=_.pluck(this.template_datas.users_collected,"id");if(!app.user.isLoggedIn()){this._parseParameters([]);return}$.ajax({type:"POST",data:{ids:ids},url:Routing.generate("tv_user_check_followers"),success:function(response){self._parseParameters(response)},error:function(response){}})}})})();
var app=app||{};(function(){"use strict";app.Vote=Backbone.Model.extend({defaults:{total_steps:0,grade:0,step:0,key:"",title:""},setGrade:function(grade){this.set("grade",grade)},getGrade:function(){return this.get("grade")},getStep:function(){return this.get("step")+"/"+this.get("total_steps")},getKey:function(){return this.get("key")},getTitle:function(){return this.get("title")}})})();
var app=app||{};(function($){"use strict";app.VoteView=Backbone.View.extend({className:"slide",events:{"click li":"vote"},template:Handlebars.templates.vote,render:function(){var vote={step:this.model.getStep(),title:this.model.getTitle(),key:this.model.getKey()};this.$el.addClass("slide-"+this.model.getKey());this.$el.html(this.template({vote_process:vote}));return this},vote:function(e){var grade=parseInt($(e.currentTarget).text());this._closeView();this.model.setGrade(grade);this.trigger("voted",this.model.get("step"))},show:function(){this.$el.addClass("active")},_closeView:function(){this.$el.removeClass("active")}})})(jQuery);
var app=app||{};(function($){"use strict";app.VoteProcess=Backbone.View.extend({el:".box-vote-site",isVoting:false,submission_url:"",votes:[],events:{"click .js-votenow":"startVoting","click .js-sendvote":"sendVote","click .js-editvote":"editVote"},initialize:function(options){this.votes=this._getStepConfiguration();this.render();this.submission_url=options.submission_url;this.checkIfItsJustVoted()},_getStepConfiguration:function(){return[]},checkIfItsJustVoted:function(){var $voteInfo=$(".box-vote-info");if(0===$voteInfo.length){return}var self=this;setTimeout(function(){self.showScorePoints($voteInfo)},1e3)},editVote:function(){this.$(".slide-result").removeClass("active");this.step=0;this.$(".chartnote").empty();this.votes[0].view.show()},startVoting:function(el){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}this.step=0;this.$(el.currentTarget).hide();this.$(".slides").fadeIn();$(".box-screenshot").addClass("style2");$(".box-vote-site").addClass("voting");this.votes[0].view.show()},render:function(){var step=1;var self=this;var totalSteps=this.votes.length;_.each(this.votes,function(voteModel){var vote=new app.VoteView({model:new app.Vote({key:voteModel.key,title:voteModel.title,step:step,total_steps:totalSteps})});vote.on("voted",self._nextStep,self);voteModel.view=vote;self.$(".slides").append(vote.render().$el);step++})},_nextStep:function(step){var isLastStep=step===this.votes.length;if(isLastStep){this._showTotal()}else{this.votes[step].view.show()}},_showTotal:function(){this.$(".slide-result").show();this.$(".slide-result").addClass("active");$(".box-screenshot").addClass("style3");var resultContainer=this.$(".js-result-grades");resultContainer.empty();_.each(this.votes,function(vote){var itemResult="<li>"+vote.view.model.getTitle().toUpperCase()+" <strong>"+vote.view.model.getGrade()+"</strong></li>";resultContainer.append(itemResult)});var options={useEasing:true,useGrouping:true,separator:",",decimal:".",prefix:"",suffix:""};var noteCountUp=new CountUp("total-note",0,this._calculateAverage(),2,2.5,options);setTimeout(function(){noteCountUp.start()},500)},_calculateAverage:function(){var average=0;_.each(this.votes,function(vote){average+=vote.view.model.getGrade()*vote.percent});return average},sendVote:function(ev){if(this.isVoting){return}this._showLoading();this.isVoting=true;ev.preventDefault();_.each(this.votes,function(vote){$("input.vote-"+vote.view.model.getKey()).val(vote.view.model.getGrade())});var self=this;var form=this.$(".vote_bundle_new_vote");$.ajax({type:"POST",url:form.attr("action"),data:form.serialize(),success:function(){$(".js-sendvote").fadeOut();setTimeout(function(){location.reload()},500)},error:function(msg){self._resetVoting();var lightbox=new app.LightBox({remove_after_close:true});lightbox.openConfirmation(msg.responseText,"OK",function(){})},complete:function(){self.isVoting=false}})},_resetVoting:function(){this.$(".slide-result").removeClass("active");this.step=0;this.$(".chartnote").empty();this.votes[0].view.show();this._hideLoading()},_showLoading:function(){var loading='<div class="box-loading style2 open"><div class="spinner"></div></div>';$(".box-screenshot").append(loading);$(".slide").removeClass("active");$(".box-screenshot").removeClass("style2")},_hideLoading:function(){$(".box-screenshot .box-loading").remove();$(".box-screenshot").addClass("style2")},showScorePoints:function($voteInfo){$voteInfo.removeClass("off");var currentNum=1;var timer=setInterval(function(){if(currentNum==6){clearInterval(timer);setTimeout(function(){$voteInfo.addClass("off")},500)}else{currentNum++;var updateNum=currentNum-1;$(".js-scorepoints").text("+"+updateNum)}},120);$(".js-bar").animate({width:"100%"},720)}})})(jQuery);
var app=app||{};(function($){"use strict";app.VoteDesignProcess=app.VoteProcess.extend({_getStepConfiguration:function(){return[{key:"design",title:"Design",color:"#FF9A3D",percent:.4},{key:"usability",title:"Usability",color:"#FFCF81",percent:.3},{key:"creativity",title:"Creativity",color:"#01AF9D",percent:.2},{key:"content",title:"Content",color:"#12A5C8",percent:.1}]}})})(jQuery);
var app=app||{};(function($){"use strict";app.VoteCodeProcess=app.VoteProcess.extend({_getStepConfiguration:function(){return[{key:"wpo",title:"WPO",color:"#017eff",percent:.2},{key:"responsive_design",title:"Responsive Design",color:"##017eff",percent:.2},{key:"semantics",title:"Semantics",color:"#017eff",percent:.2},{key:"markup",title:"Markup / Meta-Data",color:"#017eff",percent:.15},{key:"animations",title:"Animation",color:"#017eff",percent:.15},{key:"accessibility",title:"Accessibility",color:"#017eff",percent:.1}]}})})(jQuery);
var AddToCollectionContainerView=Backbone.View.extend({tagName:"div",className:"box-content-collections",views:null,currentView:null,events:{"click .bt-create-collection":"_showCreateCollection"},template:Handlebars.templates.add_to_collection_container,lightbox:null,initialize:function(){if(!app.user.isLoggedIn()){this.undelegateEvents();return}this.lightbox=new app.LightBox({remove_after_close:true})},openFolder:function(elementModel){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}app.block=true;this.elementModel=elementModel;this._render();this._showAddToFolder()},editCollection:function(collection){app.block=true;this._showEmptyLightBox();this._showEditCollection(collection)},createNewCollection:function(){this._showEmptyLightBox();this._showJustCreateCollection()},closeLightBox:function(){app.block=false;this.lightbox.close()},_reload:function(){window.location.reload()},_destroyActualView:function(){if(this.currentView){this.currentView.destroy();this.currentView=null}},_render:function(){this._showLightBox({image:app.getImageInfo(this.elementModel.get("image"),null)},false)},_showEmptyLightBox:function(){this._showLightBox({},true)},_showLightBox:function(parameters,empty){this.$el.html(this.template(parameters));this.lightbox.show(this.$el,empty)},_showCreateCollection:function(){var view=this._createCreateCollectionView();view.on("close",this._showAddToFolder,this);this._changeCurrentView(view)},_showEditCollection:function(collection){var view=this._createCreateCollectionView(collection);this._attachEventsToSingleView(view);this._changeCurrentView(view)},_showJustCreateCollection:function(){var view=this._createCreateCollectionView();this._attachEventsToSingleView(view);this._changeCurrentView(view)},_attachEventsToSingleView:function(view){view.on("close",this.closeLightBox,this);view.on("collection_created",this._reload,this);view.model.on("edit",this._reload,this)},_createCreateCollectionView:function(collection){var parameters={model:new CreateCollectionModel};if(collection){parameters.collection=collection}return new CreateCollectionView(parameters)},_showAddToFolder:function(){var view=new AddToCollectionView({model:new AddToCollectionModel,itemModel:this.elementModel});view.on("close",this.closeLightBox,this);this._changeCurrentView(view)},_changeCurrentView:function(view){this._destroyActualView();this.currentView=view;this.$(".box-categories").html(this.currentView.render().$el)}});
var CreateCollectionView=Backbone.View.extend({isActiveToSend:true,template:null,className:"tab-form active",tagName:"div",options:[],actions:{create:{categories:{},action:"CREATE"},edit:{categories:{},collection:{},action:"SAVE",delete:true}},management:"create",events:{"click .new-folder":"_send","click .link-delete":"_delete","click .bt-cancel":"hideForm"},template:Handlebars.templates.create_collection,initialize:function(options){this.model.getCategories();this.options=options;if(options.collection){this.management="edit";this.actions.edit.collection=options.collection;this.model.setCollection(options.collection)}this.loadEvents()},_delete:function(){var confirmationLightbox=new app.LightBox;var self=this;confirmationLightbox.openConfirmation("Are you sure?","DELETE COLLECTION!",function(){self.model.removeCollection(self.options.collection.id)})},hideForm:function(){this.trigger("close")},close:function(){this.model.resetCollaborators();this.$("#tab-form").hide()},showError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},hideError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},_send:function(){this.$(".form-group").removeClass("has-error");this.$(".alert").hide();this.model.setFolderName(this.$el.find("#folder-name").val());this.model.setCategory(this.$el.find("#collection_category").val());this.model.setDescription(this.$el.find("#folder-description").val());this.model.setPrivate(this.$el.find("#private").is(":checked"));var is_valid=this.model.isValid();if(is_valid!==true){for(var i=0,len=is_valid.length;i<len;i++){this.showError(is_valid[i])}return}if(!this.isActiveToSend){return}this.isActiveToSend=false;this.model._send(this.management,this.actions[this.management])},render:function(){var data=this.actions[this.management];data.categories=this.model.get("categories");this.$el.html(this.template({data:data}));this.$("#collection_category").chosen();return this},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)},activeButtonToSend:function(){this.isActiveToSend=true;this.trigger("collection_created");this.hideForm()},loadCollectionDatas:function(collection){this.actions.edit.collection=collection;this.render()},getResponse:function(){return this.model.getResponse()},_reload:function(){location.reload()},loadEvents:function(){this.model.on("send",this.activeButtonToSend,this);this.model.on("categories_loaded",this.render,this);this.model.on("collection_removed",this._reload,this)}});
var AddToCollectionModel=Backbone.Model.extend({defaults:{collections_loaded:false,collections:[]},initialize:function(){},getCollections:function(model){var self=this;var route=typeof app.Activity!=="undefined"&&model instanceof app.Activity?Routing.generate("tv_favourites_collections_by_id",{collectableId:model.get("collectable").id}):Routing.generate("tv_favourites_collections",{type:model.get("type"),id:model.get("id")});$.ajax({type:"GET",url:route}).success(function(collections){self._setCollections(collections)})},addToCollection:function(collection){var collections=this.get("collections");collections.unshift(collection);this.set("collections",collections)},_setCollections:function(collections){this.set("collections",collections);this.set("collections_loaded",true);this.trigger("collections_loaded")},_getCollections:function(){return _.map(this.get("collections"),function(collection){collection.images=_.map(collection.images,function(image){return app.getImageInfo(image,null)});return collection})}});
var CreateCollectionModel=Backbone.Model.extend({defaults:{route:"tv_favourites_create_folder",categories:[]},collection:null,categories_loaded:false,form_datas:{name:null,categoryId:null,isPrivate:false},removeCollection:function(id){if(!id){return}var self=this;$.ajax({type:"DELETE",url:Routing.generate("tv_collection_remove",{id:id})}).success(function(data){self.trigger("collection_removed")})},getCategories:function(){if(this.get("categories").length>0){this.trigger("categories_loaded");return}var route=Routing.generate("tv_collection_collection_categories");var self=this;$.ajax({type:"GET",url:route}).success(function(categories){self.set("categories",categories);self.categories_loaded=true;self.trigger("categories_loaded")})},setCollection:function(collection){this.collection=collection},setDescription:function(description){this.form_datas["description"]=description},setFolderName:function(folderName){this.form_datas["name"]=folderName},setPrivate:function(checked){this.form_datas["isPrivate"]=checked},setCategory:function(categoryId){this.form_datas["categoryId"]=categoryId},_send:function(management,actions){var self=this;if(management=="create"){var route=Routing.generate("tv_favourites_create_folder");var trigger="send"}else{var route=Routing.generate("tv_favourites_edit_folder");self.form_datas["collection_id"]=actions.collection.id;var trigger="edit"}$.ajax({type:"POST",url:route,data:self.form_datas}).success(function(datas){self.set("response",datas);self.trigger(trigger,self)})},isValid:function(){var errors=[];if(!this.form_datas["categoryId"].length){errors.push("category")}if(!this.form_datas["name"]){errors.push("name")}return errors.length>0?errors:true},getResponse:function(){return this.get("response")}});
var AddToCollectionView=Backbone.View.extend({className:"tab-form active",itemModel:null,events:{"click .add-to-collection":"_addToCollection","click .create_folder":"_triggerCreateFolder"},template:Handlebars.templates.add_collection,initialize:function(options){this.model.on("collections_loaded",this.render,this);this.itemModel=options.itemModel;this.model.getCollections(this.itemModel)},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)},_triggerCreateFolder:function(){this.trigger("create_folder")},render:function(){var collections=this.model._getCollections();this.$el.html(this.template({collections:collections,empty_collections_loaded:this.model.get("collections_loaded")&&collections.length===0,loading_collections:this.model.get("collections_loaded")===false}));return this},_setCollectionAndSend:function(e){this.model.setIdCollection($(e.currentTarget).data("id"));this._send()},addInNewCollection:function(collection){this.model.addToCollection(collection)},_send:function(){this.model._send()},_addToCollection:function(e){this.itemModel.saveInCollection($(e.currentTarget).data("id"))}});
var app=app||{};(function(){"use strict";app.CollectionCollaborators=Backbone.Model.extend({currentCollection:null,currentCollaborators:[],fetchCollaborators:function(collection){var self=this;this.currentCollection=collection;$.ajax({type:"GET",url:Routing.generate("tv_collection_get_collaborators",{id:collection.id}),success:function(collaborators){if(collaborators.length>0){self.currentCollaborators=collaborators;self.trigger("collaborators_loaded",collaborators)}}})},searchUserByUsernameOrEmail:function(username){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_directory_suggest"),data:{text:username},success:function(users){if(users.length>0){self.trigger("show_users_found",users)}}})},existCollaborator:function(collaborator){for(var i=0;i<this.currentCollaborators.length;i++){if(this.currentCollaborators[i].id===collaborator.id){return true}}return false},addCollaborator:function(collaborator){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_collection_add_collaborator",{id:this.currentCollection.id}),data:{collaborator:collaborator.id},success:function(){}})},removeCollaborator:function(collaborator){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_collection_remove_collaborator",{id:this.currentCollection.id}),data:{collaborator:collaborator.id},success:function(){}})}})})();
var app=app||{};(function(){"use strict";app.CollectionCollaboratorView=Backbone.View.extend({events:{"keyup #username":"searchUser","click .add-colaborator":"addCollaborator"},initialize:function(){this.template=Handlebars.templates.collaborators_in;this.lightBox=new app.LightBox({el:"#lightbox-share"});this.model.on("collaborators_loaded",this.showCollaborators,this);this.model.on("show_users_found",this.showUsersFound,this)},show:function(collection){this.$el.html(this.template({collection:collection}));this.lightBox.show(this.el);this.model.fetchCollaborators(collection)},showCollaborators:function(collaborators){var self=this;var items=[];for(var i=0;i<collaborators.length;i++){var collaborator=collaborators[i];var item=this._createCollaboratorItem(collaborator);items.push(item)}this.$(".list-users").html(items)},_createCollaboratorItem:function(collaborator){var self=this;var image=$('<img width="32" height="32"/>').prop("src",app.assetTv(collaborator.photo)).prop("alt",collaborator.display_name);var deleteBtn=$('<div class="bt-delete"></div>');var li=$("<li/>");deleteBtn.click(function(){li.remove();self.model.removeCollaborator(collaborator)});var itemDiv=$('<div class="js-user" data-username="'+collaborator.username+'"></div>');itemDiv.append(image).append(deleteBtn);return li.append(itemDiv)},searchUser:function(e){var term=$(e.currentTarget).val();if(term.length<3){return}this.model.searchUserByUsernameOrEmail(term);this.$(".box-users-autocomplete").show()},completeEmail:function(text){this.$("#complete_email").text('Invite to "'+text+'"');if(this.isValidEmail(text)){this.$(".warning-email").hide()}else{this.$(".warning-email").show()}},isValidEmail:function(email){var re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)},addCollaborator:function(el){var currentTarget=$(el.currentTarget);var collaborator=currentTarget.data("user");if(!this.model.existCollaborator(collaborator)){this.$(".box-users-autocomplete").hide();this.$("#username").val("");var item=this._createCollaboratorItem(collaborator);this.$(".list-users").append(item);this.model.addCollaborator(collaborator)}},showUsersFound:function(users){var list=this.$("#suggest-list");var items=[];for(var i=0;i<users.length;i++){var item=$('<li class="add-colaborator"></li>');var text='<img src="'+app.thumb(users[i].photo,"thumb_user_70")+'" width="32" height="32"><span>'+users[i].display_name+"</span>";item.html(text);item.data("user",users[i]);items.push(item)}list.html(items)}})})();
(function(factory){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(typeof jQuery!="undefined"?jQuery:window.Zepto)}})(function($){"use strict";var feature={};feature.fileapi=$("<input type='file'/>").get(0).files!==undefined;feature.formdata=window.FormData!==undefined;var hasProp=!!$.fn.prop;$.fn.attr2=function(){if(!hasProp){return this.attr.apply(this,arguments)}var val=this.prop.apply(this,arguments);if(val&&val.jquery||typeof val==="string"){return val}return this.attr.apply(this,arguments)};$.fn.ajaxSubmit=function(options){if(!this.length){log("ajaxSubmit: skipping submit process - no element selected");return this}var method,action,url,$form=this;if(typeof options=="function"){options={success:options}}else if(options===undefined){options={}}method=options.type||this.attr2("method");action=options.url||this.attr2("action");url=typeof action==="string"?$.trim(action):"";url=url||window.location.href||"";if(url){url=(url.match(/^([^#]+)/)||[])[1]}options=$.extend(true,{url:url,success:$.ajaxSettings.success,type:method||$.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options);var veto={};this.trigger("form-pre-serialize",[this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var traditional=options.traditional;if(traditional===undefined){traditional=$.ajaxSettings.traditional}var elements=[];var qx,a=this.formToArray(options.semantic,elements);if(options.data){options.extraData=options.data;qx=$.param(options.data,traditional)}if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[a,this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var q=$.param(a,traditional);if(qx){q=q?q+"&"+qx:qx}if(options.type.toUpperCase()=="GET"){options.url+=(options.url.indexOf("?")>=0?"&":"?")+q;options.data=null}else{options.data=q}var callbacks=[];if(options.resetForm){callbacks.push(function(){$form.resetForm()})}if(options.clearForm){callbacks.push(function(){$form.clearForm(options.includeHidden)})}if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)})}else if(options.success){callbacks.push(options.success)}options.success=function(data,status,xhr){var context=options.context||this;for(var i=0,max=callbacks.length;i<max;i++){callbacks[i].apply(context,[data,status,xhr||$form,$form])}};if(options.error){var oldError=options.error;options.error=function(xhr,status,error){var context=options.context||this;oldError.apply(context,[xhr,status,error,$form])}}if(options.complete){var oldComplete=options.complete;options.complete=function(xhr,status){var context=options.context||this;oldComplete.apply(context,[xhr,status,$form])}}var fileInputs=$("input[type=file]:enabled",this).filter(function(){return $(this).val()!==""});var hasFileInputs=fileInputs.length>0;var mp="multipart/form-data";var multipart=$form.attr("enctype")==mp||$form.attr("encoding")==mp;var fileAPI=feature.fileapi&&feature.formdata;log("fileAPI :"+fileAPI);var shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI;var jqxhr;if(options.iframe!==false&&(options.iframe||shouldUseFrame)){if(options.closeKeepAlive){$.get(options.closeKeepAlive,function(){jqxhr=fileUploadIframe(a)})}else{jqxhr=fileUploadIframe(a)}}else if((hasFileInputs||multipart)&&fileAPI){jqxhr=fileUploadXhr(a)}else{jqxhr=$.ajax(options)}$form.removeData("jqxhr").data("jqxhr",jqxhr);for(var k=0;k<elements.length;k++){elements[k]=null}this.trigger("form-submit-notify",[this,options]);return this;function deepSerialize(extraData){var serialized=$.param(extraData,options.traditional).split("&");var len=serialized.length;var result=[];var i,part;for(i=0;i<len;i++){serialized[i]=serialized[i].replace(/\+/g," ");part=serialized[i].split("=");result.push([decodeURIComponent(part[0]),decodeURIComponent(part[1])])}return result}function fileUploadXhr(a){var formdata=new FormData;for(var i=0;i<a.length;i++){formdata.append(a[i].name,a[i].value)}if(options.extraData){var serializedData=deepSerialize(options.extraData);for(i=0;i<serializedData.length;i++){if(serializedData[i]){formdata.append(serializedData[i][0],serializedData[i][1])}}}options.data=null;var s=$.extend(true,{},$.ajaxSettings,options,{contentType:false,processData:false,cache:false,type:method||"POST"});if(options.uploadProgress){s.xhr=function(){var xhr=$.ajaxSettings.xhr();if(xhr.upload){xhr.upload.addEventListener("progress",function(event){var percent=0;var position=event.loaded||event.position;var total=event.total;if(event.lengthComputable){percent=Math.ceil(position/total*100)}options.uploadProgress(event,position,total,percent)},false)}return xhr}}s.data=null;var beforeSend=s.beforeSend;s.beforeSend=function(xhr,o){if(options.formData){o.data=options.formData}else{o.data=formdata}if(beforeSend){beforeSend.call(this,xhr,o)}};return $.ajax(s)}function fileUploadIframe(a){var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle;var deferred=$.Deferred();deferred.abort=function(status){xhr.abort(status)};if(a){for(i=0;i<elements.length;i++){el=$(elements[i]);if(hasProp){el.prop("disabled",false)}else{el.removeAttr("disabled")}}}s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;id="jqFormIO"+(new Date).getTime();if(s.iframeTarget){$io=$(s.iframeTarget);n=$io.attr2("name");if(!n){$io.attr2("name",id)}else{id=n}}else{$io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />');$io.css({position:"absolute",top:"-1000px",left:"-1000px"})}io=$io[0];xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=status==="timeout"?"timeout":"aborted";log("aborting upload... "+e);this.aborted=1;try{if(io.contentWindow.document.execCommand){io.contentWindow.document.execCommand("Stop")}}catch(ignore){}$io.attr("src",s.iframeSrc);xhr.error=e;if(s.error){s.error.call(s.context,xhr,e,status)}if(g){$.event.trigger("ajaxError",[xhr,s,e])}if(s.complete){s.complete.call(s.context,xhr,e)}}};g=s.global;if(g&&0===$.active++){$.event.trigger("ajaxStart")}if(g){$.event.trigger("ajaxSend",[xhr,s])}if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global){$.active--}deferred.reject();return deferred}if(xhr.aborted){deferred.reject();return deferred}sub=form.clk;if(sub){n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type=="image"){s.extraData[n+".x"]=form.clk_x;s.extraData[n+".y"]=form.clk_y}}}var CLIENT_TIMEOUT_ABORT=1;var SERVER_ABORT=2;function getDoc(frame){var doc=null;try{if(frame.contentWindow){doc=frame.contentWindow.document}}catch(err){log("cannot get iframe.contentWindow document: "+err)}if(doc){return doc}try{doc=frame.contentDocument?frame.contentDocument:frame.document}catch(err){log("cannot get iframe.contentDocument: "+err);doc=frame.document}return doc}var csrf_token=$("meta[name=csrf-token]").attr("content");var csrf_param=$("meta[name=csrf-param]").attr("content");if(csrf_param&&csrf_token){s.extraData=s.extraData||{};s.extraData[csrf_param]=csrf_token}function doSubmit(){var t=$form.attr2("target"),a=$form.attr2("action"),mp="multipart/form-data",et=$form.attr("enctype")||$form.attr("encoding")||mp;form.setAttribute("target",id);if(!method||/post/i.test(method)){form.setAttribute("method","POST")}if(a!=s.url){form.setAttribute("action",s.url)}if(!s.skipEncodingOverride&&(!method||/post/i.test(method))){$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(s.timeout){timeoutHandle=setTimeout(function(){timedOut=true;cb(CLIENT_TIMEOUT_ABORT)},s.timeout)}function checkState(){try{var state=getDoc(io).readyState;log("state = "+state);if(state&&state.toLowerCase()=="uninitialized"){setTimeout(checkState,50)}}catch(e){log("Server abort: ",e," (",e.name,")");cb(SERVER_ABORT);if(timeoutHandle){clearTimeout(timeoutHandle)}timeoutHandle=undefined}}var extraInputs=[];try{if(s.extraData){for(var n in s.extraData){if(s.extraData.hasOwnProperty(n)){if($.isPlainObject(s.extraData[n])&&s.extraData[n].hasOwnProperty("name")&&s.extraData[n].hasOwnProperty("value")){extraInputs.push($('<input type="hidden" name="'+s.extraData[n].name+'">').val(s.extraData[n].value).appendTo(form)[0])}else{extraInputs.push($('<input type="hidden" name="'+n+'">').val(s.extraData[n]).appendTo(form)[0])}}}}if(!s.iframeTarget){$io.appendTo("body")}if(io.attachEvent){io.attachEvent("onload",cb)}else{io.addEventListener("load",cb,false)}setTimeout(checkState,15);try{form.submit()}catch(err){var submitFn=document.createElement("form").submit;submitFn.apply(form)}}finally{form.setAttribute("action",a);form.setAttribute("enctype",et);if(t){form.setAttribute("target",t)}else{$form.removeAttr("target")}$(extraInputs).remove()}}if(s.forceSync){doSubmit()}else{setTimeout(doSubmit,10)}var data,doc,domCheckCount=50,callbackProcessed;function cb(e){if(xhr.aborted||callbackProcessed){return}doc=getDoc(io);if(!doc){log("cannot access response document");e=SERVER_ABORT}if(e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort("timeout");deferred.reject(xhr,"timeout");return}else if(e==SERVER_ABORT&&xhr){xhr.abort("server abort");deferred.reject(xhr,"error","server abort");return}if(!doc||doc.location.href==s.iframeSrc){if(!timedOut){return}}if(io.detachEvent){io.detachEvent("onload",cb)}else{io.removeEventListener("load",cb,false)}var status="success",errMsg;try{if(timedOut){throw"timeout"}var isXml=s.dataType=="xml"||doc.XMLDocument||$.isXMLDoc(doc);log("isXml="+isXml);if(!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML)){if(--domCheckCount){log("requeing onLoad callback, DOM not available");setTimeout(cb,250);return}}var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(isXml){s.dataType="xml"}xhr.getResponseHeader=function(header){var headers={"content-type":s.dataType};return headers[header.toLowerCase()]};if(docRoot){xhr.status=Number(docRoot.getAttribute("status"))||xhr.status;xhr.statusText=docRoot.getAttribute("statusText")||xhr.statusText}var dt=(s.dataType||"").toLowerCase();var scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName("textarea")[0];if(ta){xhr.responseText=ta.value;xhr.status=Number(ta.getAttribute("status"))||xhr.status;xhr.statusText=ta.getAttribute("statusText")||xhr.statusText}else if(scr){var pre=doc.getElementsByTagName("pre")[0];var b=doc.getElementsByTagName("body")[0];if(pre){xhr.responseText=pre.textContent?pre.textContent:pre.innerText}else if(b){xhr.responseText=b.textContent?b.textContent:b.innerText}}}else if(dt=="xml"&&!xhr.responseXML&&xhr.responseText){xhr.responseXML=toXml(xhr.responseText)}try{data=httpData(xhr,dt,s)}catch(err){status="parsererror";xhr.error=errMsg=err||status}}catch(err){log("error caught: ",err);status="error";xhr.error=errMsg=err||status}if(xhr.aborted){log("upload aborted");status=null}if(xhr.status){status=xhr.status>=200&&xhr.status<300||xhr.status===304?"success":"error"}if(status==="success"){if(s.success){s.success.call(s.context,data,"success",xhr)}deferred.resolve(xhr.responseText,"success",xhr);if(g){$.event.trigger("ajaxSuccess",[xhr,s])}}else if(status){if(errMsg===undefined){errMsg=xhr.statusText}if(s.error){s.error.call(s.context,xhr,status,errMsg)}deferred.reject(xhr,"error",errMsg);if(g){$.event.trigger("ajaxError",[xhr,s,errMsg])}}if(g){$.event.trigger("ajaxComplete",[xhr,s])}if(g&&!--$.active){$.event.trigger("ajaxStop")}if(s.complete){s.complete.call(s.context,xhr,status)}callbackProcessed=true;if(s.timeout){clearTimeout(timeoutHandle)}setTimeout(function(){if(!s.iframeTarget){$io.remove()}else{$io.attr("src",s.iframeSrc)}xhr.responseXML=null},100)}var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject("Microsoft.XMLDOM");doc.async="false";doc.loadXML(s)}else{doc=(new DOMParser).parseFromString(s,"text/xml")}return doc&&doc.documentElement&&doc.documentElement.nodeName!="parsererror"?doc:null};var parseJSON=$.parseJSON||function(s){return window["eval"]("("+s+")")};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){if($.error){$.error("parsererror")}}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="json"||!type&&ct.indexOf("json")>=0){data=parseJSON(data)}else if(type==="script"||!type&&ct.indexOf("javascript")>=0){$.globalEval(data)}}return data};return deferred}};$.fn.ajaxForm=function(options){options=options||{};options.delegation=options.delegation&&$.isFunction($.fn.on);if(!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log("DOM not ready, queuing ajaxForm");$(function(){$(o.s,o.c).ajaxForm(options)});return this}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this}if(options.delegation){$(document).off("submit.form-plugin",this.selector,doAjaxSubmit).off("click.form-plugin",this.selector,captureSubmittingElement).on("submit.form-plugin",this.selector,options,doAjaxSubmit).on("click.form-plugin",this.selector,options,captureSubmittingElement);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",options,doAjaxSubmit).bind("click.form-plugin",options,captureSubmittingElement)};function doAjaxSubmit(e){var options=e.data;if(!e.isDefaultPrevented()){e.preventDefault();$(e.target).ajaxSubmit(options)}}function captureSubmittingElement(e){var target=e.target;var $el=$(target);if(!$el.is("[type=submit],[type=image]")){var t=$el.closest("[type=submit]");if(t.length===0){return}target=t[0]}var form=this;form.clk=target;if(target.type=="image"){if(e.offsetX!==undefined){form.clk_x=e.offsetX;form.clk_y=e.offsetY}else if(typeof $.fn.offset=="function"){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop}}setTimeout(function(){form.clk=form.clk_x=form.clk_y=null},100)}$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};$.fn.formToArray=function(semantic,elements){var a=[];if(this.length===0){return a}var form=this[0];var formId=this.attr("id");var els=semantic?form.getElementsByTagName("*"):form.elements;var els2;if(els&&!/MSIE [678]/.test(navigator.userAgent)){els=$(els).get()}if(formId){els2=$(':input[form="'+formId+'"]').get();if(els2.length){els=(els||[]).concat(els2)}}if(!els||!els.length){return a}var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n||el.disabled){continue}if(semantic&&form.clk&&el.type=="image"){if(form.clk==el){a.push({name:n,value:$(el).val(),type:el.type});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}continue}v=$.fieldValue(el,true);if(v&&v.constructor==Array){if(elements){elements.push(el)}for(j=0,jmax=v.length;j<jmax;j++){a.push({name:n,value:v[j]})}}else if(feature.fileapi&&el.type=="file"){if(elements){elements.push(el)}var files=el.files;if(files.length){for(j=0;j<files.length;j++){a.push({name:n,value:files[j],type:el.type})}}else{a.push({name:n,value:"",type:el.type})}}else if(v!==null&&typeof v!="undefined"){if(elements){elements.push(el)}a.push({name:n,value:v,type:el.type,required:el.required})}}if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type=="image"){a.push({name:n,value:$input.val()});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}}return a};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n){return}var v=$.fieldValue(this,successful);if(v&&v.constructor==Array){for(var i=0,max=v.length;i<max;i++){a.push({name:n,value:v[i]})}}else if(v!==null&&typeof v!="undefined"){a.push({name:this.name,value:v})}});return $.param(a)};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v=="undefined"||v.constructor==Array&&!v.length){continue}if(v.constructor==Array){$.merge(val,v)}else{val.push(v)}}return val};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(successful===undefined){successful=true}if(successful&&(!n||el.disabled||t=="reset"||t=="button"||(t=="checkbox"||t=="radio")&&!el.checked||(t=="submit"||t=="image")&&el.form&&el.form.clk!=el||tag=="select"&&el.selectedIndex==-1)){return null}if(tag=="select"){var index=el.selectedIndex;if(index<0){return null}var a=[],ops=el.options;var one=t=="select-one";var max=one?index+1:ops.length;for(var i=one?index:0;i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(!v){v=op.attributes&&op.attributes.value&&!op.attributes.value.specified?op.text:op.value}if(one){return v}a.push(v)}}return a}return $(el).val()};$.fn.clearForm=function(includeHidden){return this.each(function(){$("input,select,textarea",this).clearFields(includeHidden)})};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(re.test(t)||tag=="textarea"){this.value=""}else if(t=="checkbox"||t=="radio"){this.checked=false}else if(tag=="select"){this.selectedIndex=-1}else if(t=="file"){if(/MSIE/.test(navigator.userAgent)){$(this).replaceWith($(this).clone(true))}else{$(this).val("")}}else if(includeHidden){if(includeHidden===true&&/hidden/.test(t)||typeof includeHidden=="string"&&$(this).is(includeHidden)){this.value=""}}})};$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType){this.reset()}})};$.fn.enable=function(b){if(b===undefined){b=true}return this.each(function(){this.disabled=!b})};$.fn.selected=function(select){if(select===undefined){select=true}return this.each(function(){var t=this.type;if(t=="checkbox"||t=="radio"){this.checked=select}else if(this.tagName.toLowerCase()=="option"){var $sel=$(this).parent("select");if(select&&$sel[0]&&$sel[0].type=="select-one"){$sel.find("option").selected(false)}this.selected=select}})};$.fn.ajaxSubmit.debug=false;function log(){if(!$.fn.ajaxSubmit.debug){return}var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(msg)}else if(window.opera&&window.opera.postError){window.opera.postError(msg)}}});
(function(){"use strict";var $;var Swiper=function(container,params){if(!(this instanceof Swiper))return new Swiper(container,params);var defaults={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,autoplayStopOnLast:false,iOSEdgeSwipeDetection:false,iOSEdgeSwipeThreshold:20,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeSticky:false,freeModeMinimumVelocity:.02,autoHeight:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},flip:{slideShadows:true,limitRotation:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,scrollbarDraggable:false,scrollbarSnapOnRelease:false,keyboardControl:false,mousewheelControl:false,mousewheelReleaseOnEdges:false,mousewheelInvert:false,mousewheelForceToAxis:false,mousewheelSensitivity:1,hashnav:false,breakpoints:undefined,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,uniqueNavElements:true,pagination:null,paginationElement:"span",paginationClickable:false,paginationHide:false,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:true,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,controlBy:"slide",allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:true};var initialVirtualTranslate=params&&params.virtualTranslate;params=params||{};var originalParams={};for(var param in params){if(typeof params[param]==="object"&&params[param]!==null&&!(params[param].nodeType||params[param]===window||params[param]===document||typeof Dom7!=="undefined"&&params[param]instanceof Dom7||typeof jQuery!=="undefined"&&params[param]instanceof jQuery)){originalParams[param]={};for(var deepParam in params[param]){originalParams[param][deepParam]=params[param][deepParam]}}else{originalParams[param]=params[param]}}for(var def in defaults){if(typeof params[def]==="undefined"){params[def]=defaults[def]}else if(typeof params[def]==="object"){for(var deepDef in defaults[def]){if(typeof params[def][deepDef]==="undefined"){params[def][deepDef]=defaults[def][deepDef]}}}}var s=this;s.params=params;s.originalParams=originalParams;s.classNames=[];if(typeof $!=="undefined"&&typeof Dom7!=="undefined"){$=Dom7}if(typeof $==="undefined"){if(typeof Dom7==="undefined"){$=window.Dom7||window.Zepto||window.jQuery}else{$=Dom7}if(!$)return}s.$=$;s.currentBreakpoint=undefined;s.getActiveBreakpoint=function(){if(!s.params.breakpoints)return false;var breakpoint=false;var points=[],point;for(point in s.params.breakpoints){if(s.params.breakpoints.hasOwnProperty(point)){points.push(point)}}points.sort(function(a,b){return parseInt(a,10)>parseInt(b,10)});for(var i=0;i<points.length;i++){point=points[i];if(point>=window.innerWidth&&!breakpoint){breakpoint=point}}return breakpoint||"max"};s.setBreakpoint=function(){var breakpoint=s.getActiveBreakpoint();if(breakpoint&&s.currentBreakpoint!==breakpoint){var breakPointsParams=breakpoint in s.params.breakpoints?s.params.breakpoints[breakpoint]:s.originalParams;var needsReLoop=s.params.loop&&breakPointsParams.slidesPerView!==s.params.slidesPerView;for(var param in breakPointsParams){s.params[param]=breakPointsParams[param]}s.currentBreakpoint=breakpoint;if(needsReLoop&&s.destroyLoop){s.reLoop(true)}}};if(s.params.breakpoints){s.setBreakpoint()}s.container=$(container);if(s.container.length===0)return;if(s.container.length>1){var swipers=[];s.container.each(function(){var container=this;swipers.push(new Swiper(this,params))});return swipers}s.container[0].swiper=s;s.container.data("swiper",s);s.classNames.push("swiper-container-"+s.params.direction);if(s.params.freeMode){s.classNames.push("swiper-container-free-mode")}if(!s.support.flexbox){s.classNames.push("swiper-container-no-flexbox");s.params.slidesPerColumn=1}if(s.params.autoHeight){s.classNames.push("swiper-container-autoheight")}if(s.params.parallax||s.params.watchSlidesVisibility){s.params.watchSlidesProgress=true}if(["cube","coverflow","flip"].indexOf(s.params.effect)>=0){if(s.support.transforms3d){s.params.watchSlidesProgress=true;s.classNames.push("swiper-container-3d")}else{s.params.effect="slide"}}if(s.params.effect!=="slide"){s.classNames.push("swiper-container-"+s.params.effect)}if(s.params.effect==="cube"){s.params.resistanceRatio=0;s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.centeredSlides=false;s.params.spaceBetween=0;s.params.virtualTranslate=true;s.params.setWrapperSize=false}if(s.params.effect==="fade"||s.params.effect==="flip"){s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.watchSlidesProgress=true;s.params.spaceBetween=0;s.params.setWrapperSize=false;if(typeof initialVirtualTranslate==="undefined"){s.params.virtualTranslate=true}}if(s.params.grabCursor&&s.support.touch){s.params.grabCursor=false}s.wrapper=s.container.children("."+s.params.wrapperClass);if(s.params.pagination){s.paginationContainer=$(s.params.pagination);if(s.params.uniqueNavElements&&typeof s.params.pagination==="string"&&s.paginationContainer.length>1&&s.container.find(s.params.pagination).length===1){s.paginationContainer=s.container.find(s.params.pagination)}if(s.params.paginationType==="bullets"&&s.params.paginationClickable){s.paginationContainer.addClass("swiper-pagination-clickable")}else{s.params.paginationClickable=false}s.paginationContainer.addClass("swiper-pagination-"+s.params.paginationType)}if(s.params.nextButton||s.params.prevButton){if(s.params.nextButton){s.nextButton=$(s.params.nextButton);if(s.params.uniqueNavElements&&typeof s.params.nextButton==="string"&&s.nextButton.length>1&&s.container.find(s.params.nextButton).length===1){s.nextButton=s.container.find(s.params.nextButton)}}if(s.params.prevButton){s.prevButton=$(s.params.prevButton);if(s.params.uniqueNavElements&&typeof s.params.prevButton==="string"&&s.prevButton.length>1&&s.container.find(s.params.prevButton).length===1){s.prevButton=s.container.find(s.params.prevButton)}}}s.isHorizontal=function(){return s.params.direction==="horizontal"};s.rtl=s.isHorizontal()&&(s.container[0].dir.toLowerCase()==="rtl"||s.container.css("direction")==="rtl");if(s.rtl){s.classNames.push("swiper-container-rtl")}if(s.rtl){s.wrongRTL=s.wrapper.css("display")==="-webkit-box"}if(s.params.slidesPerColumn>1){s.classNames.push("swiper-container-multirow")}if(s.device.android){s.classNames.push("swiper-container-android")}s.container.addClass(s.classNames.join(" "));s.translate=0;s.progress=0;s.velocity=0;s.lockSwipeToNext=function(){s.params.allowSwipeToNext=false};s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=false};s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=false};s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=true};s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=true};s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=true};function round(a){return Math.floor(a)}if(s.params.grabCursor){s.container[0].style.cursor="move";s.container[0].style.cursor="-webkit-grab";s.container[0].style.cursor="-moz-grab";s.container[0].style.cursor="grab"}s.imagesToLoad=[];s.imagesLoaded=0;s.loadImage=function(imgElement,src,srcset,checkForComplete,callback){var image;function onReady(){if(callback)callback()}if(!imgElement.complete||!checkForComplete){if(src){image=new window.Image;image.onload=onReady;image.onerror=onReady;if(srcset){image.srcset=srcset}if(src){image.src=src}}else{onReady()}}else{onReady()}};s.preloadImages=function(){s.imagesToLoad=s.container.find("img");function _onReady(){if(typeof s==="undefined"||s===null)return;if(s.imagesLoaded!==undefined)s.imagesLoaded++;if(s.imagesLoaded===s.imagesToLoad.length){if(s.params.updateOnImagesReady)s.update();s.emit("onImagesReady",s)}}for(var i=0;i<s.imagesToLoad.length;i++){s.loadImage(s.imagesToLoad[i],s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute("src"),s.imagesToLoad[i].srcset||s.imagesToLoad[i].getAttribute("srcset"),true,_onReady)}};s.autoplayTimeoutId=undefined;s.autoplaying=false;s.autoplayPaused=false;function autoplay(){s.autoplayTimeoutId=setTimeout(function(){if(s.params.loop){s.fixLoop();s._slideNext();s.emit("onAutoplay",s)}else{if(!s.isEnd){s._slideNext();s.emit("onAutoplay",s)}else{if(!params.autoplayStopOnLast){s._slideTo(0);s.emit("onAutoplay",s)}else{s.stopAutoplay()}}}},s.params.autoplay)}s.startAutoplay=function(){if(typeof s.autoplayTimeoutId!=="undefined")return false;if(!s.params.autoplay)return false;if(s.autoplaying)return false;s.autoplaying=true;s.emit("onAutoplayStart",s);autoplay()};s.stopAutoplay=function(internal){if(!s.autoplayTimeoutId)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplaying=false;s.autoplayTimeoutId=undefined;s.emit("onAutoplayStop",s)};s.pauseAutoplay=function(speed){if(s.autoplayPaused)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplayPaused=true;if(speed===0){s.autoplayPaused=false;autoplay()}else{s.wrapper.transitionEnd(function(){if(!s)return;s.autoplayPaused=false;if(!s.autoplaying){s.stopAutoplay()}else{autoplay()}})}};s.minTranslate=function(){return-s.snapGrid[0]};s.maxTranslate=function(){return-s.snapGrid[s.snapGrid.length-1]};s.updateAutoHeight=function(){var slide=s.slides.eq(s.activeIndex)[0];if(typeof slide!=="undefined"){var newHeight=slide.offsetHeight;if(newHeight)s.wrapper.css("height",newHeight+"px")}};s.updateContainerSize=function(){var width,height;if(typeof s.params.width!=="undefined"){width=s.params.width}else{width=s.container[0].clientWidth}if(typeof s.params.height!=="undefined"){height=s.params.height}else{height=s.container[0].clientHeight}if(width===0&&s.isHorizontal()||height===0&&!s.isHorizontal()){return}width=width-parseInt(s.container.css("padding-left"),10)-parseInt(s.container.css("padding-right"),10);height=height-parseInt(s.container.css("padding-top"),10)-parseInt(s.container.css("padding-bottom"),10);s.width=width;s.height=height;s.size=s.isHorizontal()?s.width:s.height};s.updateSlidesSize=function(){s.slides=s.wrapper.children("."+s.params.slideClass);s.snapGrid=[];s.slidesGrid=[];s.slidesSizesGrid=[];var spaceBetween=s.params.spaceBetween,slidePosition=-s.params.slidesOffsetBefore,i,prevSlideSize=0,index=0;if(typeof s.size==="undefined")return;if(typeof spaceBetween==="string"&&spaceBetween.indexOf("%")>=0){spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*s.size}s.virtualSize=-spaceBetween;if(s.rtl)s.slides.css({marginLeft:"",marginTop:""});else s.slides.css({marginRight:"",marginBottom:""});var slidesNumberEvenToRows;if(s.params.slidesPerColumn>1){if(Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn){slidesNumberEvenToRows=s.slides.length}else{slidesNumberEvenToRows=Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn}if(s.params.slidesPerView!=="auto"&&s.params.slidesPerColumnFill==="row"){slidesNumberEvenToRows=Math.max(slidesNumberEvenToRows,s.params.slidesPerView*s.params.slidesPerColumn)}}var slideSize;var slidesPerColumn=s.params.slidesPerColumn;var slidesPerRow=slidesNumberEvenToRows/slidesPerColumn;var numFullColumns=slidesPerRow-(s.params.slidesPerColumn*slidesPerRow-s.slides.length);for(i=0;i<s.slides.length;i++){slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){var newSlideOrderIndex;var column,row;if(s.params.slidesPerColumnFill==="column"){column=Math.floor(i/slidesPerColumn);row=i-column*slidesPerColumn;if(column>numFullColumns||column===numFullColumns&&row===slidesPerColumn-1){if(++row>=slidesPerColumn){row=0;column++}}newSlideOrderIndex=column+row*slidesNumberEvenToRows/slidesPerColumn;slide.css({"-webkit-box-ordinal-group":newSlideOrderIndex,"-moz-box-ordinal-group":newSlideOrderIndex,"-ms-flex-order":newSlideOrderIndex,"-webkit-order":newSlideOrderIndex,order:newSlideOrderIndex})}else{row=Math.floor(i/slidesPerRow);column=i-row*slidesPerRow}slide.css({"margin-top":row!==0&&s.params.spaceBetween&&s.params.spaceBetween+"px"}).attr("data-swiper-column",column).attr("data-swiper-row",row)}if(slide.css("display")==="none")continue;if(s.params.slidesPerView==="auto"){slideSize=s.isHorizontal()?slide.outerWidth(true):slide.outerHeight(true);if(s.params.roundLengths)slideSize=round(slideSize)}else{slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView;if(s.params.roundLengths)slideSize=round(slideSize);if(s.isHorizontal()){s.slides[i].style.width=slideSize+"px"}else{s.slides[i].style.height=slideSize+"px"}}s.slides[i].swiperSlideSize=slideSize;s.slidesSizesGrid.push(slideSize);if(s.params.centeredSlides){slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween;if(i===0)slidePosition=slidePosition-s.size/2-spaceBetween;if(Math.abs(slidePosition)<1/1e3)slidePosition=0;if(index%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition)}else{if(index%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition);slidePosition=slidePosition+slideSize+spaceBetween}s.virtualSize+=slideSize+spaceBetween;prevSlideSize=slideSize;index++}s.virtualSize=Math.max(s.virtualSize,s.size)+s.params.slidesOffsetAfter;var newSlidesGrid;if(s.rtl&&s.wrongRTL&&(s.params.effect==="slide"||s.params.effect==="coverflow")){s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"})}if(!s.support.flexbox||s.params.setWrapperSize){if(s.isHorizontal())s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"});else s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+"px"})}if(s.params.slidesPerColumn>1){s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows;s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween;s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"});if(s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++){if(s.snapGrid[i]<s.virtualSize+s.snapGrid[0])newSlidesGrid.push(s.snapGrid[i])}s.snapGrid=newSlidesGrid}}if(!s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++){if(s.snapGrid[i]<=s.virtualSize-s.size){newSlidesGrid.push(s.snapGrid[i])}}s.snapGrid=newSlidesGrid;if(Math.floor(s.virtualSize-s.size)-Math.floor(s.snapGrid[s.snapGrid.length-1])>1){s.snapGrid.push(s.virtualSize-s.size)}}if(s.snapGrid.length===0)s.snapGrid=[0];if(s.params.spaceBetween!==0){if(s.isHorizontal()){if(s.rtl)s.slides.css({marginLeft:spaceBetween+"px"});else s.slides.css({marginRight:spaceBetween+"px"})}else s.slides.css({marginBottom:spaceBetween+"px"})}if(s.params.watchSlidesProgress){s.updateSlidesOffset()}};s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++){s.slides[i].swiperSlideOffset=s.isHorizontal()?s.slides[i].offsetLeft:s.slides[i].offsetTop}};s.updateSlidesProgress=function(translate){if(typeof translate==="undefined"){translate=s.translate||0}if(s.slides.length===0)return;if(typeof s.slides[0].swiperSlideOffset==="undefined")s.updateSlidesOffset();var offsetCenter=-translate;if(s.rtl)offsetCenter=translate;s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i];var slideProgress=(offsetCenter-slide.swiperSlideOffset)/(slide.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset);var slideAfter=slideBefore+s.slidesSizesGrid[i];var isVisible=slideBefore>=0&&slideBefore<s.size||slideAfter>0&&slideAfter<=s.size||slideBefore<=0&&slideAfter>=s.size;if(isVisible){s.slides.eq(i).addClass(s.params.slideVisibleClass)}}slide.progress=s.rtl?-slideProgress:slideProgress}};s.updateProgress=function(translate){if(typeof translate==="undefined"){translate=s.translate||0}var translatesDiff=s.maxTranslate()-s.minTranslate();var wasBeginning=s.isBeginning;var wasEnd=s.isEnd;if(translatesDiff===0){s.progress=0;s.isBeginning=s.isEnd=true}else{s.progress=(translate-s.minTranslate())/translatesDiff;s.isBeginning=s.progress<=0;s.isEnd=s.progress>=1}if(s.isBeginning&&!wasBeginning)s.emit("onReachBeginning",s);if(s.isEnd&&!wasEnd)s.emit("onReachEnd",s);if(s.params.watchSlidesProgress)s.updateSlidesProgress(translate);s.emit("onProgress",s,s.progress)};s.updateActiveIndex=function(){var translate=s.rtl?s.translate:-s.translate;var newActiveIndex,i,snapIndex;for(i=0;i<s.slidesGrid.length;i++){if(typeof s.slidesGrid[i+1]!=="undefined"){if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2){newActiveIndex=i}else if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]){newActiveIndex=i+1}}else{if(translate>=s.slidesGrid[i]){newActiveIndex=i}}}if(newActiveIndex<0||typeof newActiveIndex==="undefined")newActiveIndex=0;snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup);if(snapIndex>=s.snapGrid.length)snapIndex=s.snapGrid.length-1;if(newActiveIndex===s.activeIndex){return}s.snapIndex=snapIndex;s.previousIndex=s.activeIndex;s.activeIndex=newActiveIndex;s.updateClasses()};s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);activeSlide.addClass(s.params.slideActiveClass);var nextSlide=activeSlide.next("."+s.params.slideClass).addClass(s.params.slideNextClass);if(s.params.loop&&nextSlide.length===0){s.slides.eq(0).addClass(s.params.slideNextClass)}var prevSlide=activeSlide.prev("."+s.params.slideClass).addClass(s.params.slidePrevClass);if(s.params.loop&&prevSlide.length===0){s.slides.eq(-1).addClass(s.params.slidePrevClass)}if(s.paginationContainer&&s.paginationContainer.length>0){var current,total=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;if(s.params.loop){current=Math.ceil((s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup);if(current>s.slides.length-1-s.loopedSlides*2){current=current-(s.slides.length-s.loopedSlides*2)}if(current>total-1)current=current-total;if(current<0&&s.params.paginationType!=="bullets")current=total+current}else{if(typeof s.snapIndex!=="undefined"){current=s.snapIndex}else{current=s.activeIndex||0}}if(s.params.paginationType==="bullets"&&s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);if(s.paginationContainer.length>1){s.bullets.each(function(){if($(this).index()===current)$(this).addClass(s.params.bulletActiveClass)})}else{s.bullets.eq(current).addClass(s.params.bulletActiveClass)}}if(s.params.paginationType==="fraction"){s.paginationContainer.find("."+s.params.paginationCurrentClass).text(current+1);s.paginationContainer.find("."+s.params.paginationTotalClass).text(total)}if(s.params.paginationType==="progress"){var scale=(current+1)/total,scaleX=scale,scaleY=1;if(!s.isHorizontal()){scaleY=scale;scaleX=1}s.paginationContainer.find("."+s.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+scaleX+") scaleY("+scaleY+")").transition(s.params.speed)}if(s.params.paginationType==="custom"&&s.params.paginationCustomRender){s.paginationContainer.html(s.params.paginationCustomRender(s,current+1,total));s.emit("onPaginationRendered",s,s.paginationContainer[0])}}if(!s.params.loop){if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){if(s.isBeginning){s.prevButton.addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable(s.prevButton)}else{s.prevButton.removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable(s.prevButton)}}if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){if(s.isEnd){s.nextButton.addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable(s.nextButton)}else{s.nextButton.removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable(s.nextButton)}}}};s.updatePagination=function(){if(!s.params.pagination)return;if(s.paginationContainer&&s.paginationContainer.length>0){var paginationHTML="";if(s.params.paginationType==="bullets"){var numberOfBullets=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;for(var i=0;i<numberOfBullets;i++){if(s.params.paginationBulletRender){paginationHTML+=s.params.paginationBulletRender(i,s.params.bulletClass)}else{paginationHTML+="<"+s.params.paginationElement+' class="'+s.params.bulletClass+'"></'+s.params.paginationElement+">"}}s.paginationContainer.html(paginationHTML);s.bullets=s.paginationContainer.find("."+s.params.bulletClass);if(s.params.paginationClickable&&s.params.a11y&&s.a11y){s.a11y.initPagination()}}if(s.params.paginationType==="fraction"){if(s.params.paginationFractionRender){paginationHTML=s.params.paginationFractionRender(s,s.params.paginationCurrentClass,s.params.paginationTotalClass)}else{paginationHTML='<span class="'+s.params.paginationCurrentClass+'"></span>'+" / "+'<span class="'+s.params.paginationTotalClass+'"></span>'}s.paginationContainer.html(paginationHTML)}if(s.params.paginationType==="progress"){if(s.params.paginationProgressRender){paginationHTML=s.params.paginationProgressRender(s,s.params.paginationProgressbarClass)}else{paginationHTML='<span class="'+s.params.paginationProgressbarClass+'"></span>'}s.paginationContainer.html(paginationHTML)}if(s.params.paginationType!=="custom"){s.emit("onPaginationRendered",s,s.paginationContainer[0])}}};s.update=function(updateTranslate){s.updateContainerSize();s.updateSlidesSize();s.updateProgress();s.updatePagination();s.updateClasses();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set()}function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses()}if(updateTranslate){var translated,newTranslate;if(s.controller&&s.controller.spline){s.controller.spline=undefined}if(s.params.freeMode){forceSetTranslate();if(s.params.autoHeight){s.updateAutoHeight()}}else{if((s.params.slidesPerView==="auto"||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides){translated=s.slideTo(s.slides.length-1,0,false,true)}else{translated=s.slideTo(s.activeIndex,0,false,true)}if(!translated){forceSetTranslate()}}}else if(s.params.autoHeight){s.updateAutoHeight()}};s.onResize=function(forceUpdatePagination){if(s.params.breakpoints){s.setBreakpoint()}var allowSwipeToPrev=s.params.allowSwipeToPrev;var allowSwipeToNext=s.params.allowSwipeToNext;s.params.allowSwipeToPrev=s.params.allowSwipeToNext=true;s.updateContainerSize();s.updateSlidesSize();if(s.params.slidesPerView==="auto"||s.params.freeMode||forceUpdatePagination)s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set()}if(s.controller&&s.controller.spline){s.controller.spline=undefined}var slideChangedBySlideTo=false;if(s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses();if(s.params.autoHeight){s.updateAutoHeight()}}else{s.updateClasses();if((s.params.slidesPerView==="auto"||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides){slideChangedBySlideTo=s.slideTo(s.slides.length-1,0,false,true)}else{slideChangedBySlideTo=s.slideTo(s.activeIndex,0,false,true)}}if(s.params.lazyLoading&&!slideChangedBySlideTo&&s.lazy){s.lazy.load()}s.params.allowSwipeToPrev=allowSwipeToPrev;s.params.allowSwipeToNext=allowSwipeToNext};var desktopEvents=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled)desktopEvents=["pointerdown","pointermove","pointerup"];else if(window.navigator.msPointerEnabled)desktopEvents=["MSPointerDown","MSPointerMove","MSPointerUp"];s.touchEvents={start:s.support.touch||!s.params.simulateTouch?"touchstart":desktopEvents[0],move:s.support.touch||!s.params.simulateTouch?"touchmove":desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?"touchend":desktopEvents[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(s.params.touchEventsTarget==="container"?s.container:s.wrapper).addClass("swiper-wp8-"+s.params.direction)}s.initEvents=function(detach){var actionDom=detach?"off":"on";var action=detach?"removeEventListener":"addEventListener";var touchEventsTarget=s.params.touchEventsTarget==="container"?s.container[0]:s.wrapper[0];var target=s.support.touch?touchEventsTarget:document;var moveCapture=s.params.nested?true:false;if(s.browser.ie){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);target[action](s.touchEvents.move,s.onTouchMove,moveCapture);target[action](s.touchEvents.end,s.onTouchEnd,false)}else{if(s.support.touch){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture);touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,false)}if(params.simulateTouch&&!s.device.ios&&!s.device.android){touchEventsTarget[action]("mousedown",s.onTouchStart,false);document[action]("mousemove",s.onTouchMove,moveCapture);document[action]("mouseup",s.onTouchEnd,false)}}window[action]("resize",s.onResize);if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){s.nextButton[actionDom]("click",s.onClickNext);if(s.params.a11y&&s.a11y)s.nextButton[actionDom]("keydown",s.a11y.onEnterKey)}if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){s.prevButton[actionDom]("click",s.onClickPrev);if(s.params.a11y&&s.a11y)s.prevButton[actionDom]("keydown",s.a11y.onEnterKey)}if(s.params.pagination&&s.params.paginationClickable){s.paginationContainer[actionDom]("click","."+s.params.bulletClass,s.onClickIndex);if(s.params.a11y&&s.a11y)s.paginationContainer[actionDom]("keydown","."+s.params.bulletClass,s.a11y.onEnterKey)}if(s.params.preventClicks||s.params.preventClicksPropagation)touchEventsTarget[action]("click",s.preventClicks,true)};s.attachEvents=function(){s.initEvents()};s.detachEvents=function(){s.initEvents(true)};s.allowClick=true;s.preventClicks=function(e){if(!s.allowClick){if(s.params.preventClicks)e.preventDefault();if(s.params.preventClicksPropagation&&s.animating){e.stopPropagation();e.stopImmediatePropagation()}}};s.onClickNext=function(e){e.preventDefault();if(s.isEnd&&!s.params.loop)return;s.slideNext()};s.onClickPrev=function(e){e.preventDefault();if(s.isBeginning&&!s.params.loop)return;s.slidePrev()};s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;if(s.params.loop)index=index+s.loopedSlides;s.slideTo(index)};function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector)){if(typeof selector==="string"){el=el.parents(selector)}else if(selector.nodeType){var found;el.parents().each(function(index,_el){if(_el===selector)found=selector});if(!found)return undefined;else return selector}}if(el.length===0){return undefined}return el[0]}s.updateClickedSlide=function(e){var slide=findElementInEvent(e,"."+s.params.slideClass);var slideFound=false;if(slide){for(var i=0;i<s.slides.length;i++){if(s.slides[i]===slide)slideFound=true}}if(slide&&slideFound){s.clickedSlide=slide;s.clickedIndex=$(slide).index()}else{s.clickedSlide=undefined;s.clickedIndex=undefined;return}if(s.params.slideToClickedSlide&&s.clickedIndex!==undefined&&s.clickedIndex!==s.activeIndex){var slideToIndex=s.clickedIndex,realIndex,duplicatedSlides;if(s.params.loop){if(s.animating)return;realIndex=$(s.clickedSlide).attr("data-swiper-slide-index");if(s.params.centeredSlides){if(slideToIndex<s.loopedSlides-s.params.slidesPerView/2||slideToIndex>s.slides.length-s.loopedSlides+s.params.slidesPerView/2){s.fixLoop();slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]:not(.swiper-slide-duplicate)').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex)},0)}else{s.slideTo(slideToIndex)}}else{if(slideToIndex>s.slides.length-s.params.slidesPerView){s.fixLoop();slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]:not(.swiper-slide-duplicate)').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex)},0)}else{s.slideTo(slideToIndex)}}}else{s.slideTo(slideToIndex)}}};var isTouched,isMoved,allowTouchCallbacks,touchStartTime,isScrolling,currentTranslate,startTranslate,allowThresholdMove,formElements="input, select, textarea, button",lastClickTime=Date.now(),clickTimeout,velocities=[],allowMomentumBounce;s.animating=false;s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent,startMoving;s.onTouchStart=function(e){if(e.originalEvent)e=e.originalEvent;isTouchEvent=e.type==="touchstart";if(!isTouchEvent&&"which"in e&&e.which===3)return;if(s.params.noSwiping&&findElementInEvent(e,"."+s.params.noSwipingClass)){s.allowClick=true;return}if(s.params.swipeHandler){if(!findElementInEvent(e,s.params.swipeHandler))return}var startX=s.touches.currentX=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX;var startY=s.touches.currentY=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY;if(s.device.ios&&s.params.iOSEdgeSwipeDetection&&startX<=s.params.iOSEdgeSwipeThreshold){return}isTouched=true;isMoved=false;allowTouchCallbacks=true;isScrolling=undefined;startMoving=undefined;s.touches.startX=startX;s.touches.startY=startY;touchStartTime=Date.now();s.allowClick=true;s.updateContainerSize();s.swipeDirection=undefined;if(s.params.threshold>0)allowThresholdMove=false;if(e.type!=="touchstart"){var preventDefault=true;if($(e.target).is(formElements))preventDefault=false;if(document.activeElement&&$(document.activeElement).is(formElements)){document.activeElement.blur()}if(preventDefault){e.preventDefault()}}s.emit("onTouchStart",s,e)};s.onTouchMove=function(e){if(e.originalEvent)e=e.originalEvent;if(isTouchEvent&&e.type==="mousemove")return;if(e.preventedByNestedSwiper){s.touches.startX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.startY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;return}if(s.params.onlyExternal){s.allowClick=false;if(isTouched){s.touches.startX=s.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.startY=s.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY
;touchStartTime=Date.now()}return}if(isTouchEvent&&document.activeElement){if(e.target===document.activeElement&&$(e.target).is(formElements)){isMoved=true;s.allowClick=false;return}}if(allowTouchCallbacks){s.emit("onTouchMove",s,e)}if(e.targetTouches&&e.targetTouches.length>1)return;s.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(typeof isScrolling==="undefined"){var touchAngle=Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))*180/Math.PI;isScrolling=s.isHorizontal()?touchAngle>s.params.touchAngle:90-touchAngle>s.params.touchAngle}if(isScrolling){s.emit("onTouchMoveOpposite",s,e)}if(typeof startMoving==="undefined"&&s.browser.ieTouch){if(s.touches.currentX!==s.touches.startX||s.touches.currentY!==s.touches.startY){startMoving=true}}if(!isTouched)return;if(isScrolling){isTouched=false;return}if(!startMoving&&s.browser.ieTouch){return}s.allowClick=false;s.emit("onSliderMove",s,e);e.preventDefault();if(s.params.touchMoveStopPropagation&&!s.params.nested){e.stopPropagation()}if(!isMoved){if(params.loop){s.fixLoop()}startTranslate=s.getWrapperTranslate();s.setWrapperTransition(0);if(s.animating){s.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd")}if(s.params.autoplay&&s.autoplaying){if(s.params.autoplayDisableOnInteraction){s.stopAutoplay()}else{s.pauseAutoplay()}}allowMomentumBounce=false;if(s.params.grabCursor){s.container[0].style.cursor="move";s.container[0].style.cursor="-webkit-grabbing";s.container[0].style.cursor="-moz-grabbin";s.container[0].style.cursor="grabbing"}}isMoved=true;var diff=s.touches.diff=s.isHorizontal()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff=diff*s.params.touchRatio;if(s.rtl)diff=-diff;s.swipeDirection=diff>0?"prev":"next";currentTranslate=diff+startTranslate;var disableParentSwiper=true;if(diff>0&&currentTranslate>s.minTranslate()){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio)}else if(diff<0&&currentTranslate<s.maxTranslate()){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio)}if(disableParentSwiper){e.preventedByNestedSwiper=true}if(!s.params.allowSwipeToNext&&s.swipeDirection==="next"&&currentTranslate<startTranslate){currentTranslate=startTranslate}if(!s.params.allowSwipeToPrev&&s.swipeDirection==="prev"&&currentTranslate>startTranslate){currentTranslate=startTranslate}if(!s.params.followFinger)return;if(s.params.threshold>0){if(Math.abs(diff)>s.params.threshold||allowThresholdMove){if(!allowThresholdMove){allowThresholdMove=true;s.touches.startX=s.touches.currentX;s.touches.startY=s.touches.currentY;currentTranslate=startTranslate;s.touches.diff=s.isHorizontal()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;return}}else{currentTranslate=startTranslate;return}}if(s.params.freeMode||s.params.watchSlidesProgress){s.updateActiveIndex()}if(s.params.freeMode){if(velocities.length===0){velocities.push({position:s.touches[s.isHorizontal()?"startX":"startY"],time:touchStartTime})}velocities.push({position:s.touches[s.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})}s.updateProgress(currentTranslate);s.setWrapperTranslate(currentTranslate)};s.onTouchEnd=function(e){if(e.originalEvent)e=e.originalEvent;if(allowTouchCallbacks){s.emit("onTouchEnd",s,e)}allowTouchCallbacks=false;if(!isTouched)return;if(s.params.grabCursor&&isMoved&&isTouched){s.container[0].style.cursor="move";s.container[0].style.cursor="-webkit-grab";s.container[0].style.cursor="-moz-grab";s.container[0].style.cursor="grab"}var touchEndTime=Date.now();var timeDiff=touchEndTime-touchStartTime;if(s.allowClick){s.updateClickedSlide(e);s.emit("onTap",s,e);if(timeDiff<300&&touchEndTime-lastClickTime>300){if(clickTimeout)clearTimeout(clickTimeout);clickTimeout=setTimeout(function(){if(!s)return;if(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass)){s.paginationContainer.toggleClass(s.params.paginationHiddenClass)}s.emit("onClick",s,e)},300)}if(timeDiff<300&&touchEndTime-lastClickTime<300){if(clickTimeout)clearTimeout(clickTimeout);s.emit("onDoubleTap",s,e)}}lastClickTime=Date.now();setTimeout(function(){if(s)s.allowClick=true},0);if(!isTouched||!isMoved||!s.swipeDirection||s.touches.diff===0||currentTranslate===startTranslate){isTouched=isMoved=false;return}isTouched=isMoved=false;var currentPos;if(s.params.followFinger){currentPos=s.rtl?s.translate:-s.translate}else{currentPos=-currentTranslate}if(s.params.freeMode){if(currentPos<-s.minTranslate()){s.slideTo(s.activeIndex);return}else if(currentPos>-s.maxTranslate()){if(s.slides.length<s.snapGrid.length){s.slideTo(s.snapGrid.length-1)}else{s.slideTo(s.slides.length-1)}return}if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop(),velocityEvent=velocities.pop();var distance=lastMoveEvent.position-velocityEvent.position;var time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time;s.velocity=s.velocity/2;if(Math.abs(s.velocity)<s.params.freeModeMinimumVelocity){s.velocity=0}if(time>150||(new window.Date).getTime()-lastMoveEvent.time>300){s.velocity=0}}else{s.velocity=0}velocities.length=0;var momentumDuration=1e3*s.params.freeModeMomentumRatio;var momentumDistance=s.velocity*momentumDuration;var newPosition=s.translate+momentumDistance;if(s.rtl)newPosition=-newPosition;var doBounce=false;var afterBouncePosition;var bounceAmount=Math.abs(s.velocity)*20*s.params.freeModeMomentumBounceRatio;if(newPosition<s.maxTranslate()){if(s.params.freeModeMomentumBounce){if(newPosition+s.maxTranslate()<-bounceAmount){newPosition=s.maxTranslate()-bounceAmount}afterBouncePosition=s.maxTranslate();doBounce=true;allowMomentumBounce=true}else{newPosition=s.maxTranslate()}}else if(newPosition>s.minTranslate()){if(s.params.freeModeMomentumBounce){if(newPosition-s.minTranslate()>bounceAmount){newPosition=s.minTranslate()+bounceAmount}afterBouncePosition=s.minTranslate();doBounce=true;allowMomentumBounce=true}else{newPosition=s.minTranslate()}}else if(s.params.freeModeSticky){var j=0,nextSlide;for(j=0;j<s.snapGrid.length;j+=1){if(s.snapGrid[j]>-newPosition){nextSlide=j;break}}if(Math.abs(s.snapGrid[nextSlide]-newPosition)<Math.abs(s.snapGrid[nextSlide-1]-newPosition)||s.swipeDirection==="next"){newPosition=s.snapGrid[nextSlide]}else{newPosition=s.snapGrid[nextSlide-1]}if(!s.rtl)newPosition=-newPosition}if(s.velocity!==0){if(s.rtl){momentumDuration=Math.abs((-newPosition-s.translate)/s.velocity)}else{momentumDuration=Math.abs((newPosition-s.translate)/s.velocity)}}else if(s.params.freeModeSticky){s.slideReset();return}if(s.params.freeModeMomentumBounce&&doBounce){s.updateProgress(afterBouncePosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();s.animating=true;s.wrapper.transitionEnd(function(){if(!s||!allowMomentumBounce)return;s.emit("onMomentumBounce",s);s.setWrapperTransition(s.params.speed);s.setWrapperTranslate(afterBouncePosition);s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd()})})}else if(s.velocity){s.updateProgress(newPosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd()})}}else{s.updateProgress(newPosition)}s.updateActiveIndex()}if(!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs){s.updateProgress();s.updateActiveIndex()}return}var i,stopIndex=0,groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup){if(typeof s.slidesGrid[i+s.params.slidesPerGroup]!=="undefined"){if(currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]){stopIndex=i;groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i]}}else{if(currentPos>=s.slidesGrid[i]){stopIndex=i;groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2]}}}var ratio=(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes){s.slideTo(s.activeIndex);return}if(s.swipeDirection==="next"){if(ratio>=s.params.longSwipesRatio)s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex)}if(s.swipeDirection==="prev"){if(ratio>1-s.params.longSwipesRatio)s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex)}}else{if(!s.params.shortSwipes){s.slideTo(s.activeIndex);return}if(s.swipeDirection==="next"){s.slideTo(stopIndex+s.params.slidesPerGroup)}if(s.swipeDirection==="prev"){s.slideTo(stopIndex)}}};s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,true,true)};s.slideTo=function(slideIndex,speed,runCallbacks,internal){if(typeof runCallbacks==="undefined")runCallbacks=true;if(typeof slideIndex==="undefined")slideIndex=0;if(slideIndex<0)slideIndex=0;s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup);if(s.snapIndex>=s.snapGrid.length)s.snapIndex=s.snapGrid.length-1;var translate=-s.snapGrid[s.snapIndex];if(s.params.autoplay&&s.autoplaying){if(internal||!s.params.autoplayDisableOnInteraction){s.pauseAutoplay(speed)}else{s.stopAutoplay()}}s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++){if(-Math.floor(translate*100)>=Math.floor(s.slidesGrid[i]*100)){slideIndex=i}}if(!s.params.allowSwipeToNext&&translate<s.translate&&translate<s.minTranslate()){return false}if(!s.params.allowSwipeToPrev&&translate>s.translate&&translate>s.maxTranslate()){if((s.activeIndex||0)!==slideIndex)return false}if(typeof speed==="undefined")speed=s.params.speed;s.previousIndex=s.activeIndex||0;s.activeIndex=slideIndex;if(s.rtl&&-translate===s.translate||!s.rtl&&translate===s.translate){if(s.params.autoHeight){s.updateAutoHeight()}s.updateClasses();if(s.params.effect!=="slide"){s.setWrapperTranslate(translate)}return false}s.updateClasses();s.onTransitionStart(runCallbacks);if(speed===0){s.setWrapperTranslate(translate);s.setWrapperTransition(0);s.onTransitionEnd(runCallbacks)}else{s.setWrapperTranslate(translate);s.setWrapperTransition(speed);if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd(runCallbacks)})}}return true};s.onTransitionStart=function(runCallbacks){if(typeof runCallbacks==="undefined")runCallbacks=true;if(s.params.autoHeight){s.updateAutoHeight()}if(s.lazy)s.lazy.onTransitionStart();if(runCallbacks){s.emit("onTransitionStart",s);if(s.activeIndex!==s.previousIndex){s.emit("onSlideChangeStart",s);if(s.activeIndex>s.previousIndex){s.emit("onSlideNextStart",s)}else{s.emit("onSlidePrevStart",s)}}}};s.onTransitionEnd=function(runCallbacks){s.animating=false;s.setWrapperTransition(0);if(typeof runCallbacks==="undefined")runCallbacks=true;if(s.lazy)s.lazy.onTransitionEnd();if(runCallbacks){s.emit("onTransitionEnd",s);if(s.activeIndex!==s.previousIndex){s.emit("onSlideChangeEnd",s);if(s.activeIndex>s.previousIndex){s.emit("onSlideNextEnd",s)}else{s.emit("onSlidePrevEnd",s)}}}if(s.params.hashnav&&s.hashnav){s.hashnav.setHash()}};s.slideNext=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)}else return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)};s._slideNext=function(speed){return s.slideNext(true,speed,true)};s.slidePrev=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)}else return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)};s._slidePrev=function(speed){return s.slidePrev(true,speed,true)};s.slideReset=function(runCallbacks,speed,internal){return s.slideTo(s.activeIndex,speed,runCallbacks)};s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration);if(s.params.effect!=="slide"&&s.effects[s.params.effect]){s.effects[s.params.effect].setTransition(duration)}if(s.params.parallax&&s.parallax){s.parallax.setTransition(duration)}if(s.params.scrollbar&&s.scrollbar){s.scrollbar.setTransition(duration)}if(s.params.control&&s.controller){s.controller.setTransition(duration,byController)}s.emit("onSetTransition",s,duration)};s.setWrapperTranslate=function(translate,updateActiveIndex,byController){var x=0,y=0,z=0;if(s.isHorizontal()){x=s.rtl?-translate:translate}else{y=translate}if(s.params.roundLengths){x=round(x);y=round(y)}if(!s.params.virtualTranslate){if(s.support.transforms3d)s.wrapper.transform("translate3d("+x+"px, "+y+"px, "+z+"px)");else s.wrapper.transform("translate("+x+"px, "+y+"px)")}s.translate=s.isHorizontal()?x:y;var progress;var translatesDiff=s.maxTranslate()-s.minTranslate();if(translatesDiff===0){progress=0}else{progress=(translate-s.minTranslate())/translatesDiff}if(progress!==s.progress){s.updateProgress(translate)}if(updateActiveIndex)s.updateActiveIndex();if(s.params.effect!=="slide"&&s.effects[s.params.effect]){s.effects[s.params.effect].setTranslate(s.translate)}if(s.params.parallax&&s.parallax){s.parallax.setTranslate(s.translate)}if(s.params.scrollbar&&s.scrollbar){s.scrollbar.setTranslate(s.translate)}if(s.params.control&&s.controller){s.controller.setTranslate(s.translate,byController)}s.emit("onSetTranslate",s,s.translate)};s.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;if(typeof axis==="undefined"){axis="x"}if(s.params.virtualTranslate){return s.rtl?-s.translate:s.translate}curStyle=window.getComputedStyle(el,null);if(window.WebKitCSSMatrix){curTransform=curStyle.transform||curStyle.webkitTransform;if(curTransform.split(",").length>6){curTransform=curTransform.split(", ").map(function(a){return a.replace(",",".")}).join(", ")}transformMatrix=new window.WebKitCSSMatrix(curTransform==="none"?"":curTransform)}else{transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");matrix=transformMatrix.toString().split(",")}if(axis==="x"){if(window.WebKitCSSMatrix)curTransform=transformMatrix.m41;else if(matrix.length===16)curTransform=parseFloat(matrix[12]);else curTransform=parseFloat(matrix[4])}if(axis==="y"){if(window.WebKitCSSMatrix)curTransform=transformMatrix.m42;else if(matrix.length===16)curTransform=parseFloat(matrix[13]);else curTransform=parseFloat(matrix[5])}if(s.rtl&&curTransform)curTransform=-curTransform;return curTransform||0};s.getWrapperTranslate=function(axis){if(typeof axis==="undefined"){axis=s.isHorizontal()?"x":"y"}return s.getTranslate(s.wrapper[0],axis)};s.observers=[];function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||window.WebkitMutationObserver;var observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(true);s.emit("onObserverUpdate",s,mutation)})});observer.observe(target,{attributes:typeof options.attributes==="undefined"?true:options.attributes,childList:typeof options.childList==="undefined"?true:options.childList,characterData:typeof options.characterData==="undefined"?true:options.characterData});s.observers.push(observer)}s.initObservers=function(){if(s.params.observeParents){var containerParents=s.container.parents();for(var i=0;i<containerParents.length;i++){initObserver(containerParents[i])}}initObserver(s.container[0],{childList:false});initObserver(s.wrapper[0],{attributes:false})};s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++){s.observers[i].disconnect()}s.observers=[]};s.createLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();var slides=s.wrapper.children("."+s.params.slideClass);if(s.params.slidesPerView==="auto"&&!s.params.loopedSlides)s.params.loopedSlides=slides.length;s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10);s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides;if(s.loopedSlides>slides.length){s.loopedSlides=slides.length}var prependSlides=[],appendSlides=[],i;slides.each(function(index,el){var slide=$(this);if(index<s.loopedSlides)appendSlides.push(el);if(index<slides.length&&index>=slides.length-s.loopedSlides)prependSlides.push(el);slide.attr("data-swiper-slide-index",index)});for(i=0;i<appendSlides.length;i++){s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass))}for(i=prependSlides.length-1;i>=0;i--){s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass))}};s.destroyLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();s.slides.removeAttr("data-swiper-slide-index")};s.reLoop=function(updatePosition){var oldIndex=s.activeIndex-s.loopedSlides;s.destroyLoop();s.createLoop();s.updateSlidesSize();if(updatePosition){s.slideTo(oldIndex+s.loopedSlides,0,false)}};s.fixLoop=function(){var newIndex;if(s.activeIndex<s.loopedSlides){newIndex=s.slides.length-s.loopedSlides*3+s.activeIndex;newIndex=newIndex+s.loopedSlides;s.slideTo(newIndex,0,false,true)}else if(s.params.slidesPerView==="auto"&&s.activeIndex>=s.loopedSlides*2||s.activeIndex>s.slides.length-s.params.slidesPerView*2){newIndex=-s.slides.length+s.activeIndex+s.loopedSlides;newIndex=newIndex+s.loopedSlides;s.slideTo(newIndex,0,false,true)}};s.appendSlide=function(slides){if(s.params.loop){s.destroyLoop()}if(typeof slides==="object"&&slides.length){for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.append(slides[i])}}else{s.wrapper.append(slides)}if(s.params.loop){s.createLoop()}if(!(s.params.observer&&s.support.observer)){s.update(true)}};s.prependSlide=function(slides){if(s.params.loop){s.destroyLoop()}var newActiveIndex=s.activeIndex+1;if(typeof slides==="object"&&slides.length){for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.prepend(slides[i])}newActiveIndex=s.activeIndex+slides.length}else{s.wrapper.prepend(slides)}if(s.params.loop){s.createLoop()}if(!(s.params.observer&&s.support.observer)){s.update(true)}s.slideTo(newActiveIndex,0,false)};s.removeSlide=function(slidesIndexes){if(s.params.loop){s.destroyLoop();s.slides=s.wrapper.children("."+s.params.slideClass)}var newActiveIndex=s.activeIndex,indexToRemove;if(typeof slidesIndexes==="object"&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++){indexToRemove=slidesIndexes[i];if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--}newActiveIndex=Math.max(newActiveIndex,0)}else{indexToRemove=slidesIndexes;if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0)}if(s.params.loop){s.createLoop()}if(!(s.params.observer&&s.support.observer)){s.update(true)}if(s.params.loop){s.slideTo(newActiveIndex+s.loopedSlides,0,false)}else{s.slideTo(newActiveIndex,0,false)}};s.removeAllSlides=function(){var slidesIndexes=[];for(var i=0;i<s.slides.length;i++){slidesIndexes.push(i)}s.removeSlide(slidesIndexes)};s.effects={fade:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var offset=slide[0].swiperSlideOffset;var tx=-offset;if(!s.params.virtualTranslate)tx=tx-s.translate;var ty=0;if(!s.isHorizontal()){ty=tx;tx=0}var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slide.css({opacity:slideOpacity}).transform("translate3d("+tx+"px, "+ty+"px, 0px)")}},setTransition:function(duration){s.slides.transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.transitionEnd(function(){if(eventTriggered)return;if(!s)return;eventTriggered=true;s.animating=false;var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var i=0;i<triggerEvents.length;i++){s.wrapper.trigger(triggerEvents[i])}})}}},flip:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var progress=slide[0].progress;if(s.params.flip.limitRotation){progress=Math.max(Math.min(slide[0].progress,1),-1)}var offset=slide[0].swiperSlideOffset;var rotate=-180*progress,rotateY=rotate,rotateX=0,tx=-offset,ty=0;if(!s.isHorizontal()){ty=tx;tx=0;rotateX=-rotateY;rotateY=0}else if(s.rtl){rotateY=-rotateY}slide[0].style.zIndex=-Math.abs(Math.round(progress))+s.slides.length;if(s.params.flip.slideShadows){var shadowBefore=s.isHorizontal()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"></div>');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"right":"bottom")+'"></div>');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=Math.max(-progress,0);if(shadowAfter.length)shadowAfter[0].style.opacity=Math.max(progress,0)}slide.transform("translate3d("+tx+"px, "+ty+"px, 0px) rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)")}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.eq(s.activeIndex).transitionEnd(function(){if(eventTriggered)return;if(!s)return;if(!$(this).hasClass(s.params.slideActiveClass))return;eventTriggered=true;s.animating=false;var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var i=0;i<triggerEvents.length;i++){s.wrapper.trigger(triggerEvents[i])}})}}},cube:{setTranslate:function(){var wrapperRotate=0,cubeShadow;if(s.params.cube.shadow){if(s.isHorizontal()){cubeShadow=s.wrapper.find(".swiper-cube-shadow");if(cubeShadow.length===0){cubeShadow=$('<div class="swiper-cube-shadow"></div>');s.wrapper.append(cubeShadow)}cubeShadow.css({height:s.width+"px"})}else{cubeShadow=s.container.find(".swiper-cube-shadow");if(cubeShadow.length===0){cubeShadow=$('<div class="swiper-cube-shadow"></div>');s.container.append(cubeShadow)}}}for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var slideAngle=i*90;var round=Math.floor(slideAngle/360);if(s.rtl){slideAngle=-slideAngle;round=Math.floor(-slideAngle/360)}var progress=Math.max(Math.min(slide[0].progress,1),-1);var tx=0,ty=0,tz=0;if(i%4===0){tx=-round*4*s.size;tz=0}else if((i-1)%4===0){tx=0;tz=-round*4*s.size}else if((i-2)%4===0){tx=s.size+round*4*s.size;tz=s.size}else if((i-3)%4===0){tx=-s.size;tz=3*s.size+s.size*4*round}if(s.rtl){tx=-tx}if(!s.isHorizontal()){ty=tx;tx=0}var transform="rotateX("+(s.isHorizontal()?0:-slideAngle)+"deg) rotateY("+(s.isHorizontal()?slideAngle:0)+"deg) translate3d("+tx+"px, "+ty+"px, "+tz+"px)";if(progress<=1&&progress>-1){wrapperRotate=i*90+progress*90;if(s.rtl)wrapperRotate=-i*90-progress*90}slide.transform(transform);if(s.params.cube.slideShadows){var shadowBefore=s.isHorizontal()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"></div>');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"right":"bottom")+'"></div>');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=Math.max(-progress,0);if(shadowAfter.length)shadowAfter[0].style.opacity=Math.max(progress,0)}}s.wrapper.css({"-webkit-transform-origin":"50% 50% -"+s.size/2+"px","-moz-transform-origin":"50% 50% -"+s.size/2+"px","-ms-transform-origin":"50% 50% -"+s.size/2+"px","transform-origin":"50% 50% -"+s.size/2+"px"});if(s.params.cube.shadow){if(s.isHorizontal()){cubeShadow.transform("translate3d(0px, "+(s.width/2+s.params.cube.shadowOffset)+"px, "+-s.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.params.cube.shadowScale+")")}else{var shadowAngle=Math.abs(wrapperRotate)-Math.floor(Math.abs(wrapperRotate)/90)*90;var multiplier=1.5-(Math.sin(shadowAngle*2*Math.PI/360)/2+Math.cos(shadowAngle*2*Math.PI/360)/2);var scale1=s.params.cube.shadowScale,scale2=s.params.cube.shadowScale/multiplier,offset=s.params.cube.shadowOffset;cubeShadow.transform("scale3d("+scale1+", 1, "+scale2+") translate3d(0px, "+(s.height/2+offset)+"px, "+-s.height/2/scale2+"px) rotateX(-90deg)")}}var zFactor=s.isSafari||s.isUiWebView?-s.size/2:0;s.wrapper.transform("translate3d(0px,0,"+zFactor+"px) rotateX("+(s.isHorizontal()?0:wrapperRotate)+"deg) rotateY("+(s.isHorizontal()?-wrapperRotate:0)+"deg)")},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration);if(s.params.cube.shadow&&!s.isHorizontal()){s.container.find(".swiper-cube-shadow").transition(duration)}}},coverflow:{setTranslate:function(){var transform=s.translate;var center=s.isHorizontal()?-transform+s.width/2:-transform+s.height/2;var rotate=s.isHorizontal()?s.params.coverflow.rotate:-s.params.coverflow.rotate;var translate=s.params.coverflow.depth;for(var i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideSize=s.slidesSizesGrid[i];var slideOffset=slide[0].swiperSlideOffset;var offsetMultiplier=(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier;var rotateY=s.isHorizontal()?rotate*offsetMultiplier:0;var rotateX=s.isHorizontal()?0:rotate*offsetMultiplier;var translateZ=-translate*Math.abs(offsetMultiplier);var translateY=s.isHorizontal()?0:s.params.coverflow.stretch*offsetMultiplier;var translateX=s.isHorizontal()?s.params.coverflow.stretch*offsetMultiplier:0;if(Math.abs(translateX)<.001)translateX=0;if(Math.abs(translateY)<.001)translateY=0;if(Math.abs(translateZ)<.001)translateZ=0;if(Math.abs(rotateY)<.001)rotateY=0;if(Math.abs(rotateX)<.001)rotateX=0;var slideTransform="translate3d("+translateX+"px,"+translateY+"px,"+translateZ+"px)  rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)";slide.transform(slideTransform);slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1;if(s.params.coverflow.slideShadows){var shadowBefore=s.isHorizontal()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"></div>');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"right":"bottom")+'"></div>');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0;if(shadowAfter.length)shadowAfter[0].style.opacity=-offsetMultiplier>0?-offsetMultiplier:0}}if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+"px 50%"}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration)}}};s.lazy={initialImageLoaded:false,loadImageInSlide:function(index,loadInDuplicate){if(typeof index==="undefined")return;if(typeof loadInDuplicate==="undefined")loadInDuplicate=true;if(s.slides.length===0)return;var slide=s.slides.eq(index);var img=slide.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(slide.hasClass("swiper-lazy")&&!slide.hasClass("swiper-lazy-loaded")&&!slide.hasClass("swiper-lazy-loading")){img=img.add(slide[0])}if(img.length===0)return;img.each(function(){var _img=$(this);_img.addClass("swiper-lazy-loading");var background=_img.attr("data-background");var src=_img.attr("data-src"),srcset=_img.attr("data-srcset");s.loadImage(_img[0],src||background,srcset,false,function(){if(background){_img.css("background-image",'url("'+background+'")');_img.removeAttr("data-background")}else{if(srcset){_img.attr("srcset",srcset);_img.removeAttr("data-srcset")}if(src){_img.attr("src",src);_img.removeAttr("data-src")}}_img.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");slide.find(".swiper-lazy-preloader, .preloader").remove();if(s.params.loop&&loadInDuplicate){var slideOriginalIndex=slide.attr("data-swiper-slide-index");if(slide.hasClass(s.params.slideDuplicateClass)){var originalSlide=s.wrapper.children('[data-swiper-slide-index="'+slideOriginalIndex+'"]:not(.'+s.params.slideDuplicateClass+")");s.lazy.loadImageInSlide(originalSlide.index(),false)}else{var duplicatedSlide=s.wrapper.children("."+s.params.slideDuplicateClass+'[data-swiper-slide-index="'+slideOriginalIndex+'"]');s.lazy.loadImageInSlide(duplicatedSlide.index(),false)}}s.emit("onLazyImageReady",s,slide[0],_img[0])});s.emit("onLazyImageLoad",s,slide[0],_img[0])})},load:function(){var i;if(s.params.watchSlidesVisibility){s.wrapper.children("."+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index())})}else{if(s.params.slidesPerView>1){for(i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++){if(s.slides[i])s.lazy.loadImageInSlide(i)}}else{s.lazy.loadImageInSlide(s.activeIndex)}}if(s.params.lazyLoadingInPrevNext){if(s.params.slidesPerView>1||s.params.lazyLoadingInPrevNextAmount&&s.params.lazyLoadingInPrevNextAmount>1){var amount=s.params.lazyLoadingInPrevNextAmount;var spv=s.params.slidesPerView;var maxIndex=Math.min(s.activeIndex+spv+Math.max(amount,spv),s.slides.length);var minIndex=Math.max(s.activeIndex-Math.max(spv,amount),0);for(i=s.activeIndex+s.params.slidesPerView;i<maxIndex;i++){if(s.slides[i])s.lazy.loadImageInSlide(i)}for(i=minIndex;i<s.activeIndex;i++){if(s.slides[i])s.lazy.loadImageInSlide(i)}}else{var nextSlide=s.wrapper.children("."+s.params.slideNextClass);if(nextSlide.length>0)s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children("."+s.params.slidePrevClass);if(prevSlide.length>0)s.lazy.loadImageInSlide(prevSlide.index())}}},onTransitionStart:function(){if(s.params.lazyLoading){if(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded){s.lazy.load()}}},onTransitionEnd:function(){if(s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart){s.lazy.load()}}};s.scrollbar={isTouched:false,setDragPosition:function(e){var sb=s.scrollbar;var x=0,y=0;var translate;var pointerPosition=s.isHorizontal()?e.type==="touchstart"||e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX||e.clientX:e.type==="touchstart"||e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY||e.clientY;var position=pointerPosition-sb.track.offset()[s.isHorizontal()?"left":"top"]-sb.dragSize/2;var positionMin=-s.minTranslate()*sb.moveDivider;var positionMax=-s.maxTranslate()*sb.moveDivider;if(position<positionMin){position=positionMin}else if(position>positionMax){position=positionMax}position=-position/sb.moveDivider;s.updateProgress(position);s.setWrapperTranslate(position,true)},dragStart:function(e){var sb=s.scrollbar;sb.isTouched=true;e.preventDefault();e.stopPropagation();sb.setDragPosition(e);clearTimeout(sb.dragTimeout);sb.track.transition(0);if(s.params.scrollbarHide){
sb.track.css("opacity",1)}s.wrapper.transition(100);sb.drag.transition(100);s.emit("onScrollbarDragStart",s)},dragMove:function(e){var sb=s.scrollbar;if(!sb.isTouched)return;if(e.preventDefault)e.preventDefault();else e.returnValue=false;sb.setDragPosition(e);s.wrapper.transition(0);sb.track.transition(0);sb.drag.transition(0);s.emit("onScrollbarDragMove",s)},dragEnd:function(e){var sb=s.scrollbar;if(!sb.isTouched)return;sb.isTouched=false;if(s.params.scrollbarHide){clearTimeout(sb.dragTimeout);sb.dragTimeout=setTimeout(function(){sb.track.css("opacity",0);sb.track.transition(400)},1e3)}s.emit("onScrollbarDragEnd",s);if(s.params.scrollbarSnapOnRelease){s.slideReset()}},enableDraggable:function(){var sb=s.scrollbar;var target=s.support.touch?sb.track:document;$(sb.track).on(s.touchEvents.start,sb.dragStart);$(target).on(s.touchEvents.move,sb.dragMove);$(target).on(s.touchEvents.end,sb.dragEnd)},disableDraggable:function(){var sb=s.scrollbar;var target=s.support.touch?sb.track:document;$(sb.track).off(s.touchEvents.start,sb.dragStart);$(target).off(s.touchEvents.move,sb.dragMove);$(target).off(s.touchEvents.end,sb.dragEnd)},set:function(){if(!s.params.scrollbar)return;var sb=s.scrollbar;sb.track=$(s.params.scrollbar);if(s.params.uniqueNavElements&&typeof s.params.scrollbar==="string"&&sb.track.length>1&&s.container.find(s.params.scrollbar).length===1){sb.track=s.container.find(s.params.scrollbar)}sb.drag=sb.track.find(".swiper-scrollbar-drag");if(sb.drag.length===0){sb.drag=$('<div class="swiper-scrollbar-drag"></div>');sb.track.append(sb.drag)}sb.drag[0].style.width="";sb.drag[0].style.height="";sb.trackSize=s.isHorizontal()?sb.track[0].offsetWidth:sb.track[0].offsetHeight;sb.divider=s.size/s.virtualSize;sb.moveDivider=sb.divider*(sb.trackSize/s.size);sb.dragSize=sb.trackSize*sb.divider;if(s.isHorizontal()){sb.drag[0].style.width=sb.dragSize+"px"}else{sb.drag[0].style.height=sb.dragSize+"px"}if(sb.divider>=1){sb.track[0].style.display="none"}else{sb.track[0].style.display=""}if(s.params.scrollbarHide){sb.track[0].style.opacity=0}},setTranslate:function(){if(!s.params.scrollbar)return;var diff;var sb=s.scrollbar;var translate=s.translate||0;var newPos;var newSize=sb.dragSize;newPos=(sb.trackSize-sb.dragSize)*s.progress;if(s.rtl&&s.isHorizontal()){newPos=-newPos;if(newPos>0){newSize=sb.dragSize-newPos;newPos=0}else if(-newPos+sb.dragSize>sb.trackSize){newSize=sb.trackSize+newPos}}else{if(newPos<0){newSize=sb.dragSize+newPos;newPos=0}else if(newPos+sb.dragSize>sb.trackSize){newSize=sb.trackSize-newPos}}if(s.isHorizontal()){if(s.support.transforms3d){sb.drag.transform("translate3d("+newPos+"px, 0, 0)")}else{sb.drag.transform("translateX("+newPos+"px)")}sb.drag[0].style.width=newSize+"px"}else{if(s.support.transforms3d){sb.drag.transform("translate3d(0px, "+newPos+"px, 0)")}else{sb.drag.transform("translateY("+newPos+"px)")}sb.drag[0].style.height=newSize+"px"}if(s.params.scrollbarHide){clearTimeout(sb.timeout);sb.track[0].style.opacity=1;sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0;sb.track.transition(400)},1e3)}},setTransition:function(duration){if(!s.params.scrollbar)return;s.scrollbar.drag.transition(duration)}};s.controller={LinearSpline:function(x,y){this.x=x;this.y=y;this.lastIndex=x.length-1;var i1,i3;var l=this.x.length;this.interpolate=function(x2){if(!x2)return 0;i3=binarySearch(this.x,x2);i1=i3-1;return(x2-this.x[i1])*(this.y[i3]-this.y[i1])/(this.x[i3]-this.x[i1])+this.y[i1]};var binarySearch=function(){var maxIndex,minIndex,guess;return function(array,val){minIndex=-1;maxIndex=array.length;while(maxIndex-minIndex>1)if(array[guess=maxIndex+minIndex>>1]<=val){minIndex=guess}else{maxIndex=guess}return maxIndex}}()},getInterpolateFunction:function(c){if(!s.controller.spline)s.controller.spline=s.params.loop?new s.controller.LinearSpline(s.slidesGrid,c.slidesGrid):new s.controller.LinearSpline(s.snapGrid,c.snapGrid)},setTranslate:function(translate,byController){var controlled=s.params.control;var multiplier,controlledTranslate;function setControlledTranslate(c){translate=c.rtl&&c.params.direction==="horizontal"?-s.translate:s.translate;if(s.params.controlBy==="slide"){s.controller.getInterpolateFunction(c);controlledTranslate=-s.controller.spline.interpolate(-translate)}if(!controlledTranslate||s.params.controlBy==="container"){multiplier=(c.maxTranslate()-c.minTranslate())/(s.maxTranslate()-s.minTranslate());controlledTranslate=(translate-s.minTranslate())*multiplier+c.minTranslate()}if(s.params.controlInverse){controlledTranslate=c.maxTranslate()-controlledTranslate}c.updateProgress(controlledTranslate);c.setWrapperTranslate(controlledTranslate,false,s);c.updateActiveIndex()}if(s.isArray(controlled)){for(var i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper){setControlledTranslate(controlled[i])}}}else if(controlled instanceof Swiper&&byController!==controlled){setControlledTranslate(controlled)}},setTransition:function(duration,byController){var controlled=s.params.control;var i;function setControlledTransition(c){c.setWrapperTransition(duration,s);if(duration!==0){c.onTransitionStart();c.wrapper.transitionEnd(function(){if(!controlled)return;if(c.params.loop&&s.params.controlBy==="slide"){c.fixLoop()}c.onTransitionEnd()})}}if(s.isArray(controlled)){for(i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper){setControlledTransition(controlled[i])}}}else if(controlled instanceof Swiper&&byController!==controlled){setControlledTransition(controlled)}}};s.hashnav={init:function(){if(!s.params.hashnav)return;s.hashnav.initialized=true;var hash=document.location.hash.replace("#","");if(!hash)return;var speed=0;for(var i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideHash=slide.attr("data-hash");if(slideHash===hash&&!slide.hasClass(s.params.slideDuplicateClass)){var index=slide.index();s.slideTo(index,speed,s.params.runCallbacksOnInit,true)}}},setHash:function(){if(!s.hashnav.initialized||!s.params.hashnav)return;document.location.hash=s.slides.eq(s.activeIndex).attr("data-hash")||""}};function handleKeyboard(e){if(e.originalEvent)e=e.originalEvent;var kc=e.keyCode||e.charCode;if(!s.params.allowSwipeToNext&&(s.isHorizontal()&&kc===39||!s.isHorizontal()&&kc===40)){return false}if(!s.params.allowSwipeToPrev&&(s.isHorizontal()&&kc===37||!s.isHorizontal()&&kc===38)){return false}if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey){return}if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==="input"||document.activeElement.nodeName.toLowerCase()==="textarea")){return}if(kc===37||kc===39||kc===38||kc===40){var inView=false;if(s.container.parents(".swiper-slide").length>0&&s.container.parents(".swiper-slide-active").length===0){return}var windowScroll={left:window.pageXOffset,top:window.pageYOffset};var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var swiperOffset=s.container.offset();if(s.rtl)swiperOffset.left=swiperOffset.left-s.container[0].scrollLeft;var swiperCoord=[[swiperOffset.left,swiperOffset.top],[swiperOffset.left+s.width,swiperOffset.top],[swiperOffset.left,swiperOffset.top+s.height],[swiperOffset.left+s.width,swiperOffset.top+s.height]];for(var i=0;i<swiperCoord.length;i++){var point=swiperCoord[i];if(point[0]>=windowScroll.left&&point[0]<=windowScroll.left+windowWidth&&point[1]>=windowScroll.top&&point[1]<=windowScroll.top+windowHeight){inView=true}}if(!inView)return}if(s.isHorizontal()){if(kc===37||kc===39){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(kc===39&&!s.rtl||kc===37&&s.rtl)s.slideNext();if(kc===37&&!s.rtl||kc===39&&s.rtl)s.slidePrev()}else{if(kc===38||kc===40){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(kc===40)s.slideNext();if(kc===38)s.slidePrev()}}s.disableKeyboardControl=function(){s.params.keyboardControl=false;$(document).off("keydown",handleKeyboard)};s.enableKeyboardControl=function(){s.params.keyboardControl=true;$(document).on("keydown",handleKeyboard)};s.mousewheel={event:false,lastScrollTime:(new window.Date).getTime()};if(s.params.mousewheelControl){try{new window.WheelEvent("wheel");s.mousewheel.event="wheel"}catch(e){if(window.WheelEvent||s.container[0]&&"wheel"in s.container[0]){s.mousewheel.event="wheel"}}if(!s.mousewheel.event&&window.WheelEvent){}if(!s.mousewheel.event&&document.onmousewheel!==undefined){s.mousewheel.event="mousewheel"}if(!s.mousewheel.event){s.mousewheel.event="DOMMouseScroll"}}function handleMousewheel(e){if(e.originalEvent)e=e.originalEvent;var we=s.mousewheel.event;var delta=0;var rtlFactor=s.rtl?-1:1;if(we==="mousewheel"){if(s.params.mousewheelForceToAxis){if(s.isHorizontal()){if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))delta=e.wheelDeltaX*rtlFactor;else return}else{if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))delta=e.wheelDeltaY;else return}}else{delta=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*rtlFactor:-e.wheelDeltaY}}else if(we==="DOMMouseScroll")delta=-e.detail;else if(we==="wheel"){if(s.params.mousewheelForceToAxis){if(s.isHorizontal()){if(Math.abs(e.deltaX)>Math.abs(e.deltaY))delta=-e.deltaX*rtlFactor;else return}else{if(Math.abs(e.deltaY)>Math.abs(e.deltaX))delta=-e.deltaY;else return}}else{delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*rtlFactor:-e.deltaY}}if(delta===0)return;if(s.params.mousewheelInvert)delta=-delta;if(!s.params.freeMode){if((new window.Date).getTime()-s.mousewheel.lastScrollTime>60){if(delta<0){if((!s.isEnd||s.params.loop)&&!s.animating)s.slideNext();else if(s.params.mousewheelReleaseOnEdges)return true}else{if((!s.isBeginning||s.params.loop)&&!s.animating)s.slidePrev();else if(s.params.mousewheelReleaseOnEdges)return true}}s.mousewheel.lastScrollTime=(new window.Date).getTime()}else{var position=s.getWrapperTranslate()+delta*s.params.mousewheelSensitivity;var wasBeginning=s.isBeginning,wasEnd=s.isEnd;if(position>=s.minTranslate())position=s.minTranslate();if(position<=s.maxTranslate())position=s.maxTranslate();s.setWrapperTransition(0);s.setWrapperTranslate(position);s.updateProgress();s.updateActiveIndex();if(!wasBeginning&&s.isBeginning||!wasEnd&&s.isEnd){s.updateClasses()}if(s.params.freeModeSticky){clearTimeout(s.mousewheel.timeout);s.mousewheel.timeout=setTimeout(function(){s.slideReset()},300)}else{if(s.params.lazyLoading&&s.lazy){s.lazy.load()}}if(position===0||position===s.maxTranslate())return}if(s.params.autoplay)s.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false}s.disableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.off(s.mousewheel.event,handleMousewheel);return true};s.enableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.on(s.mousewheel.event,handleMousewheel);return true};function setParallaxTransform(el,progress){el=$(el);var p,pX,pY;var rtlFactor=s.rtl?-1:1;p=el.attr("data-swiper-parallax")||"0";pX=el.attr("data-swiper-parallax-x");pY=el.attr("data-swiper-parallax-y");if(pX||pY){pX=pX||"0";pY=pY||"0"}else{if(s.isHorizontal()){pX=p;pY="0"}else{pY=p;pX="0"}}if(pX.indexOf("%")>=0){pX=parseInt(pX,10)*progress*rtlFactor+"%"}else{pX=pX*progress*rtlFactor+"px"}if(pY.indexOf("%")>=0){pY=parseInt(pY,10)*progress+"%"}else{pY=pY*progress+"px"}el.transform("translate3d("+pX+", "+pY+",0px)")}s.parallax={setTranslate:function(){s.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){setParallaxTransform(this,s.progress)});s.slides.each(function(){var slide=$(this);slide.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress)})})},setTransition:function(duration){if(typeof duration==="undefined")duration=s.params.speed;s.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var el=$(this);var parallaxDuration=parseInt(el.attr("data-swiper-parallax-duration"),10)||duration;if(duration===0)parallaxDuration=0;el.transition(parallaxDuration)})}};s._plugins=[];for(var plugin in s.plugins){var p=s.plugins[plugin](s,s.params[plugin]);if(p)s._plugins.push(p)}s.callPlugins=function(eventName){for(var i=0;i<s._plugins.length;i++){if(eventName in s._plugins[i]){s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}};function normalizeEventName(eventName){if(eventName.indexOf("on")!==0){if(eventName[0]!==eventName[0].toUpperCase()){eventName="on"+eventName[0].toUpperCase()+eventName.substring(1)}else{eventName="on"+eventName}}return eventName}s.emitterEventListeners={};s.emit=function(eventName){if(s.params[eventName]){s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}var i;if(s.emitterEventListeners[eventName]){for(i=0;i<s.emitterEventListeners[eventName].length;i++){s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}if(s.callPlugins)s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};s.on=function(eventName,handler){eventName=normalizeEventName(eventName);if(!s.emitterEventListeners[eventName])s.emitterEventListeners[eventName]=[];s.emitterEventListeners[eventName].push(handler);return s};s.off=function(eventName,handler){var i;eventName=normalizeEventName(eventName);if(typeof handler==="undefined"){s.emitterEventListeners[eventName]=[];return s}if(!s.emitterEventListeners[eventName]||s.emitterEventListeners[eventName].length===0)return;for(i=0;i<s.emitterEventListeners[eventName].length;i++){if(s.emitterEventListeners[eventName][i]===handler)s.emitterEventListeners[eventName].splice(i,1)}return s};s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);s.off(eventName,_handler)};s.on(eventName,_handler);return s};s.a11y={makeFocusable:function($el){$el.attr("tabIndex","0");return $el},addRole:function($el,role){$el.attr("role",role);return $el},addLabel:function($el,label){$el.attr("aria-label",label);return $el},disable:function($el){$el.attr("aria-disabled",true);return $el},enable:function($el){$el.attr("aria-disabled",false);return $el},onEnterKey:function(event){if(event.keyCode!==13)return;if($(event.target).is(s.params.nextButton)){s.onClickNext(event);if(s.isEnd){s.a11y.notify(s.params.lastSlideMessage)}else{s.a11y.notify(s.params.nextSlideMessage)}}else if($(event.target).is(s.params.prevButton)){s.onClickPrev(event);if(s.isBeginning){s.a11y.notify(s.params.firstSlideMessage)}else{s.a11y.notify(s.params.prevSlideMessage)}}if($(event.target).is("."+s.params.bulletClass)){$(event.target)[0].click()}},liveRegion:$('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(message){var notification=s.a11y.liveRegion;if(notification.length===0)return;notification.html("");notification.html(message)},init:function(){if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){s.a11y.makeFocusable(s.nextButton);s.a11y.addRole(s.nextButton,"button");s.a11y.addLabel(s.nextButton,s.params.nextSlideMessage)}if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){s.a11y.makeFocusable(s.prevButton);s.a11y.addRole(s.prevButton,"button");s.a11y.addLabel(s.prevButton,s.params.prevSlideMessage)}$(s.container).append(s.a11y.liveRegion)},initPagination:function(){if(s.params.pagination&&s.params.paginationClickable&&s.bullets&&s.bullets.length){s.bullets.each(function(){var bullet=$(this);s.a11y.makeFocusable(bullet);s.a11y.addRole(bullet,"button");s.a11y.addLabel(bullet,s.params.paginationBulletMessage.replace(/{{index}}/,bullet.index()+1))})}},destroy:function(){if(s.a11y.liveRegion&&s.a11y.liveRegion.length>0)s.a11y.liveRegion.remove()}};s.init=function(){if(s.params.loop)s.createLoop();s.updateContainerSize();s.updateSlidesSize();s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();if(s.params.scrollbarDraggable){s.scrollbar.enableDraggable()}}if(s.params.effect!=="slide"&&s.effects[s.params.effect]){if(!s.params.loop)s.updateProgress();s.effects[s.params.effect].setTranslate()}if(s.params.loop){s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit)}else{s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit);if(s.params.initialSlide===0){if(s.parallax&&s.params.parallax)s.parallax.setTranslate();if(s.lazy&&s.params.lazyLoading){s.lazy.load();s.lazy.initialImageLoaded=true}}}s.attachEvents();if(s.params.observer&&s.support.observer){s.initObservers()}if(s.params.preloadImages&&!s.params.lazyLoading){s.preloadImages()}if(s.params.autoplay){s.startAutoplay()}if(s.params.keyboardControl){if(s.enableKeyboardControl)s.enableKeyboardControl()}if(s.params.mousewheelControl){if(s.enableMousewheelControl)s.enableMousewheelControl()}if(s.params.hashnav){if(s.hashnav)s.hashnav.init()}if(s.params.a11y&&s.a11y)s.a11y.init();s.emit("onInit",s)};s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(" ")).removeAttr("style");s.wrapper.removeAttr("style");if(s.slides&&s.slides.length){s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row")}if(s.paginationContainer&&s.paginationContainer.length){s.paginationContainer.removeClass(s.params.paginationHiddenClass)}if(s.bullets&&s.bullets.length){s.bullets.removeClass(s.params.bulletActiveClass)}if(s.params.prevButton)$(s.params.prevButton).removeClass(s.params.buttonDisabledClass);if(s.params.nextButton)$(s.params.nextButton).removeClass(s.params.buttonDisabledClass);if(s.params.scrollbar&&s.scrollbar){if(s.scrollbar.track&&s.scrollbar.track.length)s.scrollbar.track.removeAttr("style");if(s.scrollbar.drag&&s.scrollbar.drag.length)s.scrollbar.drag.removeAttr("style")}};s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents();s.stopAutoplay();if(s.params.scrollbar&&s.scrollbar){if(s.params.scrollbarDraggable){s.scrollbar.disableDraggable()}}if(s.params.loop){s.destroyLoop()}if(cleanupStyles){s.cleanupStyles()}s.disconnectObservers();if(s.params.keyboardControl){if(s.disableKeyboardControl)s.disableKeyboardControl()}if(s.params.mousewheelControl){if(s.disableMousewheelControl)s.disableMousewheelControl()}if(s.params.a11y&&s.a11y)s.a11y.destroy();s.emit("onDestroy");if(deleteInstance!==false)s=null};s.init();return s};Swiper.prototype={isSafari:function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var ua=navigator.userAgent;var android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);var ipad=ua.match(/(iPad).*OS\s([\d_]+)/);var ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/);var iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipod,android:android}}(),support:{touch:window.Modernizr&&Modernizr.touch===true||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===true||function(){var div=document.createElement("div").style;return"webkitPerspective"in div||"MozPerspective"in div||"OPerspective"in div||"MsPerspective"in div||"perspective"in div}(),flexbox:function(){var div=document.createElement("div").style;var styles="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(var i=0;i<styles.length;i++){if(styles[i]in div)return true}}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};var Dom7=function(){var Dom7=function(arr){var _this=this,i=0;for(i=0;i<arr.length;i++){_this[i]=arr[i]}_this.length=arr.length;return this};var $=function(selector,context){var arr=[],i=0;if(selector&&!context){if(selector instanceof Dom7){return selector}}if(selector){if(typeof selector==="string"){var els,tempParent,html=selector.trim();if(html.indexOf("<")>=0&&html.indexOf(">")>=0){var toCreate="div";if(html.indexOf("<li")===0)toCreate="ul";if(html.indexOf("<tr")===0)toCreate="tbody";if(html.indexOf("<td")===0||html.indexOf("<th")===0)toCreate="tr";if(html.indexOf("<tbody")===0)toCreate="table";if(html.indexOf("<option")===0)toCreate="select";tempParent=document.createElement(toCreate);tempParent.innerHTML=selector;for(i=0;i<tempParent.childNodes.length;i++){arr.push(tempParent.childNodes[i])}}else{if(!context&&selector[0]==="#"&&!selector.match(/[ .<>:~]/)){els=[document.getElementById(selector.split("#")[1])]}else{els=(context||document).querySelectorAll(selector)}for(i=0;i<els.length;i++){if(els[i])arr.push(els[i])}}}else if(selector.nodeType||selector===window||selector===document){arr.push(selector)}else if(selector.length>0&&selector[0].nodeType){for(i=0;i<selector.length;i++){arr.push(selector[i])}}}return new Dom7(arr)};Dom7.prototype={addClass:function(className){if(typeof className==="undefined"){return this}var classes=className.split(" ");for(var i=0;i<classes.length;i++){for(var j=0;j<this.length;j++){this[j].classList.add(classes[i])}}return this},removeClass:function(className){var classes=className.split(" ");for(var i=0;i<classes.length;i++){for(var j=0;j<this.length;j++){this[j].classList.remove(classes[i])}}return this},hasClass:function(className){if(!this[0])return false;else return this[0].classList.contains(className)},toggleClass:function(className){var classes=className.split(" ");for(var i=0;i<classes.length;i++){for(var j=0;j<this.length;j++){this[j].classList.toggle(classes[i])}}return this},attr:function(attrs,value){if(arguments.length===1&&typeof attrs==="string"){if(this[0])return this[0].getAttribute(attrs);else return undefined}else{for(var i=0;i<this.length;i++){if(arguments.length===2){this[i].setAttribute(attrs,value)}else{for(var attrName in attrs){this[i][attrName]=attrs[attrName];this[i].setAttribute(attrName,attrs[attrName])}}}return this}},removeAttr:function(attr){for(var i=0;i<this.length;i++){this[i].removeAttribute(attr)}return this},data:function(key,value){if(typeof value==="undefined"){if(this[0]){var dataKey=this[0].getAttribute("data-"+key);if(dataKey)return dataKey;else if(this[0].dom7ElementDataStorage&&key in this[0].dom7ElementDataStorage)return this[0].dom7ElementDataStorage[key];else return undefined}else return undefined}else{for(var i=0;i<this.length;i++){var el=this[i];if(!el.dom7ElementDataStorage)el.dom7ElementDataStorage={};el.dom7ElementDataStorage[key]=value}return this}},transform:function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this},transition:function(duration){if(typeof duration!=="string"){duration=duration+"ms"}for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this},on:function(eventName,targetSelector,listener,capture){function handleLiveEvent(e){var target=e.target;if($(target).is(targetSelector))listener.call(target,e);else{var parents=$(target).parents();for(var k=0;k<parents.length;k++){if($(parents[k]).is(targetSelector))listener.call(parents[k],e)}}}var events=eventName.split(" ");var i,j;for(i=0;i<this.length;i++){if(typeof targetSelector==="function"||targetSelector===false){if(typeof targetSelector==="function"){listener=arguments[1];capture=arguments[2]||false}for(j=0;j<events.length;j++){this[i].addEventListener(events[j],listener,capture)}}else{for(j=0;j<events.length;j++){if(!this[i].dom7LiveListeners)this[i].dom7LiveListeners=[];this[i].dom7LiveListeners.push({listener:listener,liveListener:handleLiveEvent});this[i].addEventListener(events[j],handleLiveEvent,capture)}}}return this},off:function(eventName,targetSelector,listener,capture){var events=eventName.split(" ");for(var i=0;i<events.length;i++){for(var j=0;j<this.length;j++){if(typeof targetSelector==="function"||targetSelector===false){if(typeof targetSelector==="function"){listener=arguments[1];capture=arguments[2]||false}this[j].removeEventListener(events[i],listener,capture)}else{if(this[j].dom7LiveListeners){for(var k=0;k<this[j].dom7LiveListeners.length;k++){if(this[j].dom7LiveListeners[k].listener===listener){this[j].removeEventListener(events[i],this[j].dom7LiveListeners[k].liveListener,capture)}}}}}}return this},once:function(eventName,targetSelector,listener,capture){var dom=this;if(typeof targetSelector==="function"){targetSelector=false;listener=arguments[1];capture=arguments[2]}function proxy(e){listener(e);dom.off(eventName,targetSelector,proxy,capture)}dom.on(eventName,targetSelector,proxy,capture)},trigger:function(eventName,eventData){for(var i=0;i<this.length;i++){var evt;try{evt=new window.CustomEvent(eventName,{detail:eventData,bubbles:true,cancelable:true})}catch(e){evt=document.createEvent("Event");evt.initEvent(eventName,true,true);evt.detail=eventData}this[i].dispatchEvent(evt)}return this},transitionEnd:function(callback){var events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i,j,dom=this;function fireCallBack(e){if(e.target!==this)return;callback.call(this,e);for(i=0;i<events.length;i++){dom.off(events[i],fireCallBack)}}if(callback){for(i=0;i<events.length;i++){dom.on(events[i],fireCallBack)}}return this},width:function(){if(this[0]===window){return window.innerWidth}else{if(this.length>0){return parseFloat(this.css("width"))}else{return null}}},outerWidth:function(includeMargins){if(this.length>0){if(includeMargins)return this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left"));else return this[0].offsetWidth}else return null},height:function(){if(this[0]===window){return window.innerHeight}else{if(this.length>0){return parseFloat(this.css("height"))}else{return null}}},outerHeight:function(includeMargins){if(this.length>0){if(includeMargins)return this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom"));else return this[0].offsetHeight}else return null},offset:function(){if(this.length>0){var el=this[0];var box=el.getBoundingClientRect();var body=document.body;var clientTop=el.clientTop||body.clientTop||0;var clientLeft=el.clientLeft||body.clientLeft||0;var scrollTop=window.pageYOffset||el.scrollTop;var scrollLeft=window.pageXOffset||el.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}}else{return null}},css:function(props,value){var i;if(arguments.length===1){if(typeof props==="string"){if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(props)}else{for(i=0;i<this.length;i++){for(var prop in props){this[i].style[prop]=props[prop]}}return this}}if(arguments.length===2&&typeof props==="string"){for(i=0;i<this.length;i++){this[i].style[props]=value}return this}return this},each:function(callback){for(var i=0;i<this.length;i++){callback.call(this[i],i,this[i])}return this},html:function(html){if(typeof html==="undefined"){return this[0]?this[0].innerHTML:undefined}else{for(var i=0;i<this.length;i++){this[i].innerHTML=html}return this}},text:function(text){if(typeof text==="undefined"){if(this[0]){return this[0].textContent.trim()}else return null}else{for(var i=0;i<this.length;i++){this[i].textContent=text}return this}},is:function(selector){if(!this[0])return false;var compareWith,i;if(typeof selector==="string"){var el=this[0];if(el===document)return selector===document;if(el===window)return selector===window;if(el.matches)return el.matches(selector);else if(el.webkitMatchesSelector)return el.webkitMatchesSelector(selector);else if(el.mozMatchesSelector)return el.mozMatchesSelector(selector);else if(el.msMatchesSelector)return el.msMatchesSelector(selector);else{compareWith=$(selector);for(i=0;i<compareWith.length;i++){if(compareWith[i]===this[0])return true}return false}}else if(selector===document)return this[0]===document;else if(selector===window)return this[0]===window;else{if(selector.nodeType||selector instanceof Dom7){compareWith=selector.nodeType?[selector]:selector;for(i=0;i<compareWith.length;i++){if(compareWith[i]===this[0])return true}return false}return false}},index:function(){if(this[0]){var child=this[0];var i=0;while((child=child.previousSibling)!==null){if(child.nodeType===1)i++}return i}else return undefined},eq:function(index){if(typeof index==="undefined")return this;var length=this.length;var returnIndex;if(index>length-1){return new Dom7([])}if(index<0){returnIndex=length+index;if(returnIndex<0)return new Dom7([]);else return new Dom7([this[returnIndex]])}return new Dom7([this[index]])},append:function(newChild){var i,j;for(i=0;i<this.length;i++){if(typeof newChild==="string"){var tempDiv=document.createElement("div");tempDiv.innerHTML=newChild;while(tempDiv.firstChild){this[i].appendChild(tempDiv.firstChild)}}else if(newChild instanceof Dom7){for(j=0;j<newChild.length;j++){this[i].appendChild(newChild[j])}}else{this[i].appendChild(newChild)}}return this},prepend:function(newChild){var i,j;for(i=0;i<this.length;i++){if(typeof newChild==="string"){var tempDiv=document.createElement("div");tempDiv.innerHTML=newChild;for(j=tempDiv.childNodes.length-1;j>=0;j--){this[i].insertBefore(tempDiv.childNodes[j],this[i].childNodes[0])}}else if(newChild instanceof Dom7){for(j=0;j<newChild.length;j++){this[i].insertBefore(newChild[j],this[i].childNodes[0])}}else{this[i].insertBefore(newChild,this[i].childNodes[0])}}return this},insertBefore:function(selector){var before=$(selector);for(var i=0;i<this.length;i++){if(before.length===1){before[0].parentNode.insertBefore(this[i],before[0])}else if(before.length>1){for(var j=0;j<before.length;j++){before[j].parentNode.insertBefore(this[i].cloneNode(true),before[j])}}}},insertAfter:function(selector){var after=$(selector);for(var i=0;i<this.length;i++){if(after.length===1){after[0].parentNode.insertBefore(this[i],after[0].nextSibling)}else if(after.length>1){for(var j=0;j<after.length;j++){after[j].parentNode.insertBefore(this[i].cloneNode(true),after[j].nextSibling)}}}},next:function(selector){if(this.length>0){if(selector){if(this[0].nextElementSibling&&$(this[0].nextElementSibling).is(selector))return new Dom7([this[0].nextElementSibling]);else return new Dom7([])}else{if(this[0].nextElementSibling)return new Dom7([this[0].nextElementSibling]);else return new Dom7([])}}else return new Dom7([])},nextAll:function(selector){var nextEls=[];var el=this[0];if(!el)return new Dom7([]);while(el.nextElementSibling){var next=el.nextElementSibling;if(selector){if($(next).is(selector))nextEls.push(next)}else nextEls.push(next);el=next}return new Dom7(nextEls)},prev:function(selector){if(this.length>0){if(selector){if(this[0].previousElementSibling&&$(this[0].previousElementSibling).is(selector))return new Dom7([this[0].previousElementSibling]);else return new Dom7([])}else{if(this[0].previousElementSibling)return new Dom7([this[0].previousElementSibling]);else return new Dom7([])}}else return new Dom7([])},prevAll:function(selector){var prevEls=[];var el=this[0];if(!el)return new Dom7([])
;while(el.previousElementSibling){var prev=el.previousElementSibling;if(selector){if($(prev).is(selector))prevEls.push(prev)}else prevEls.push(prev);el=prev}return new Dom7(prevEls)},parent:function(selector){var parents=[];for(var i=0;i<this.length;i++){if(selector){if($(this[i].parentNode).is(selector))parents.push(this[i].parentNode)}else{parents.push(this[i].parentNode)}}return $($.unique(parents))},parents:function(selector){var parents=[];for(var i=0;i<this.length;i++){var parent=this[i].parentNode;while(parent){if(selector){if($(parent).is(selector))parents.push(parent)}else{parents.push(parent)}parent=parent.parentNode}}return $($.unique(parents))},find:function(selector){var foundElements=[];for(var i=0;i<this.length;i++){var found=this[i].querySelectorAll(selector);for(var j=0;j<found.length;j++){foundElements.push(found[j])}}return new Dom7(foundElements)},children:function(selector){var children=[];for(var i=0;i<this.length;i++){var childNodes=this[i].childNodes;for(var j=0;j<childNodes.length;j++){if(!selector){if(childNodes[j].nodeType===1)children.push(childNodes[j])}else{if(childNodes[j].nodeType===1&&$(childNodes[j]).is(selector))children.push(childNodes[j])}}}return new Dom7($.unique(children))},remove:function(){for(var i=0;i<this.length;i++){if(this[i].parentNode)this[i].parentNode.removeChild(this[i])}return this},add:function(){var dom=this;var i,j;for(i=0;i<arguments.length;i++){var toAdd=$(arguments[i]);for(j=0;j<toAdd.length;j++){dom[dom.length]=toAdd[j];dom.length++}}return dom}};$.fn=Dom7.prototype;$.unique=function(arr){var unique=[];for(var i=0;i<arr.length;i++){if(unique.indexOf(arr[i])===-1)unique.push(arr[i])}return unique};return $}();var swiperDomPlugins=["jQuery","Zepto","Dom7"];for(var i=0;i<swiperDomPlugins.length;i++){if(window[swiperDomPlugins[i]]){addLibraryPlugin(window[swiperDomPlugins[i]])}}var domLib;if(typeof Dom7==="undefined"){domLib=window.Dom7||window.Zepto||window.jQuery}else{domLib=Dom7}function addLibraryPlugin(lib){lib.fn.swiper=function(params){var firstInstance;lib(this).each(function(){var s=new Swiper(this,params);if(!firstInstance)firstInstance=s});return firstInstance}}if(domLib){if(!("transitionEnd"in domLib.fn)){domLib.fn.transitionEnd=function(callback){var events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i,j,dom=this;function fireCallBack(e){if(e.target!==this)return;callback.call(this,e);for(i=0;i<events.length;i++){dom.off(events[i],fireCallBack)}}if(callback){for(i=0;i<events.length;i++){dom.on(events[i],fireCallBack)}}return this}}if(!("transform"in domLib.fn)){domLib.fn.transform=function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this}}if(!("transition"in domLib.fn)){domLib.fn.transition=function(duration){if(typeof duration!=="string"){duration=duration+"ms"}for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this}}}window.Swiper=Swiper})();if(typeof module!=="undefined"){module.exports=window.Swiper}else if(typeof define==="function"&&define.amd){define([],function(){"use strict";return window.Swiper})}
var ExternalImage=Backbone.Model.extend({defaults:{image:null,title:null,url:"",tags:"",idCollection:""},send:function(){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_favourites_add_image_element"),enctype:"multipart/form-data",data:this.toJSON(),success:function(collection){self.onSaveSuccess(collection)}})},setImageAndTrigger:function(image){this.set("image",image)},setTitle:function(title){this.set("title",title)},setUrl:function(url){this.set("url",url)},setTags:function(tags){this.set("tags",tags)},setImage:function(image){},urlIsValid:function(){var url=this.get("url");if(!url){return true}var res=url.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g);if(res==null){return false}else{return true}},isValid:function(){var errors=[];if(!this.urlIsValid()){errors.push("url")}if(!this.get("title")){errors.push("title")}if(!this.get("image")){errors.push("image")}return errors.length>0?errors:true},onSaveSuccess:function(collection){this.trigger("saved",collection)}});
var ExternalModel=Backbone.Model.extend({defaults:{route:"tv_favourites_images_from_url",url:""},index_images:0,getImagesFromUrl:function(){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_favourites_images"),data:{url:self.get("url")}}).success(function(imgs){if(imgs.length==0){self.trigger("images_emtpy")}else{self.images=imgs;self.trigger("images_loaded")}})},isValid:function(){var errors=[];if(!this.get("title")){errors.push("title")}return errors.length>0?errors:true},urlIsValid:function(){var url=this.get("url");var res=url.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,16}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g);if(res==null){return false}else{return true}},getImage:function(){return this.images[this.index_images]},nextImage:function(){this.index_images=this.images.length-1>this.index_images?this.index_images+1:0;return this.getImage()},previousImage:function(){this.index_images=this.index_images>0?this.index_images-1:this.images.length-1;return this.getImage()},setUrl:function(url){if(url&&!url.match(/^http([s]?):\/\/.*/)){url="http://"+url}this.set("url",url)},send:function(){var self=this;this.set("image",this.images[this.index_images]);$.ajax({type:"POST",url:Routing.generate("tv_favourites_add_external_element"),data:this.toJSON(),success:function(collection){self.onSaveSuccess(collection)}})},checkIfHasSites:function(){var self=this;$.ajax({type:"GET",url:Routing.generate("tv_favourites_images_from_url"),enctype:"multipart/form-data",data:{url:self.get("url")},success:function(response){if(response.length==0){self.trigger("url_empty")}else{self.trigger("url_checked",response)}}})},setTitle:function(title){this.set("title",title)},setTags:function(tags){this.set("tags",tags)},onSaveSuccess:function(collection){this.trigger("saved",collection)}});
var ManagerExternalView=Backbone.View.extend({tagName:"div",className:"tab-form active",events:{"click .next-step":"_nextStep","click .bt-next":"_nextImage","click .bt-prev":"_previousImage","change .title":"_setTitle","change .tags":"_setTags","click .save":"_send","click .skip":"_skip","keyup .url-input .url":"_nextKeyStep","click .cancel":"cancel"},template:Handlebars.templates.add_external_link,initialize:function(){this.model.on("images_loaded",this._loadImages,this);this.model.on("images_emtpy",this._triggerError,this);this.model.on("saved",this.triggerSaved,this);this.model.on("url_checked",this.showInternalElements,this);this.model.on("url_empty",this._triggerError,this)},_triggerError:function(){this.trigger("error",this.model.get("url"))},_skip:function(){this.trigger("skip")},showInternalElements:function(models){this.trigger("show_internal_results",models,this.model.get("url"))},triggerSaved:function(collection){this.trigger("saved",collection)},_nextKeyStep:function(ev){if(ev.keyCode==ENTER_KEY){this._nextStep()}},_nextStep:function(){this.model.setUrl(this.$(".url").val());if(this.model.urlIsValid()){this.model.checkIfHasSites()}else{this.$(".url-input").addClass("has-error");this.$(".url-message").show()}},_goToSelect:function(){this.model.getImagesFromUrl();this.$(".default").hide();this.$(".selectImage").show()},cancel:function(){this.trigger("cancel")},_nextImage:function(){this.$(".photo img").attr("src",this.model.nextImage())},_previousImage:function(){this.$(".photo img").attr("src",this.model.previousImage())},_setTitle:function(ev){var title=$(ev.currentTarget).val();this.model.setTitle(title)},_setTags:function(ev){var tags=$(ev.currentTarget).val();this.model.setTags(tags)},_loadImages:function(images,url){this.$(".box-loading").hide();this.$(".photo").show();this.$(".photo img").attr("src",this.model.getImage())},render:function(){this.$el.html(this.template({}));return this},_send:function(){this.$(".form-group").removeClass("has-error");this.$(".alert").hide();var is_valid=this.model.isValid();if(is_valid===true){this.model.send()}else{for(var i=0,len=is_valid.length;i<len;i++){this.showError(is_valid[i])}}},showError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},hideError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)}});
var UploadImageViewManager=Backbone.View.extend({tagName:"div",className:"tab-form active",bar:"",percent:"",status:"",events:{"click .getImages":"_send","click .save":"_send","change .title":"_setTitle","change .url_text":"_setUrl","change .image":"_sendImage","change .tags":"_setTags","click .cancel":"cancel","click .skip":"skip"},template:Handlebars.templates.add_image,initialize:function(){if(typeof $.fn.ajaxForm==="undefined"){alert("application need ajaxForm library")}this.model.on("saved",this.triggerSaved,this);this.model.on("error_in_title",this.showTitleError,this)},triggerSaved:function(collection){this.trigger("saved",collection)},cancel:function(){this.trigger("cancel")},skip:function(){this.trigger("skip")},_setTitle:function(ev){var title=$(ev.currentTarget).val();this.model.setTitle(title)},_setUrl:function(ev){var url=$(ev.currentTarget).val();this.model.setUrl(url)},_setTags:function(ev){var tags=$(ev.currentTarget).val();this.model.setTags(tags)},_send:function(){this.$(".form-group").removeClass("has-error");this.$(".alert").hide();var is_valid=this.model.isValid();if(is_valid===true){this.model.send()}else{for(var i=0,len=is_valid.length;i<len;i++){this.showError(is_valid[i])}}},showError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},hideError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},addImageError:function(error){this.$(".add-photo").prepend(error)},addExternalError:function(error){this.$(".content").prepend(error)},removeImageError:function(){this.$(".image-error").hide();this.$(".image-error-size-msg").hide()},_sendImage:function(ev){this.$("#uploadImageForm").submit();ev.preventDefault();ev.stopPropagation()},initializeUploadImage:function(){var self=this;if(this.$("#uploadImageForm").length>0){this.$("#uploadImageForm").ajaxForm({beforeSend:function(){self.$(".box-loading").addClass("open");self.$(".info").hide()},uploadProgress:function(event,position,total,percentComplete){var percentVal=percentComplete+"%"},error:function(){self.$(".box-loading").removeClass("open");self.showSizeError();self.$(".info").show()},complete:function(xhr){self.$(".box-loading").removeClass("open");self.removeImageError();self.status.html(xhr.responseText);self.imageCompleted(xhr.responseText)}})}},showSizeError:function(){this.$(".image-error-size-msg").show()},imageCompleted:function(img){var imgParsed=JSON.parse(img);this.model.setImageAndTrigger(imgParsed);if(app.isVideo(imgParsed)){var element='<video class="video-item js-video-hover lazy-video" height="417" width="299" autoplay loop><source src="http://assets.awwwards.net/awards/'+imgParsed+'" type="'+app.typeVideo(imgParsed)+'"></video>'}else{var element='<img src="http://assets.awwwards.net/awards/'+imgParsed+'">'}this.$(".photo").html(element);this.$(".photo").show()},render:function(datas){datas.upload_route=Routing.generate("tv_favourites_upload_image");this.bar=this.$el.find(".bar");this.percent=this.$el.find(".percent");this.status=this.$el.find("#status");this.$el.html(this.template({datas:datas,url:this.model.get("url")}));this.initializeUploadImage();return this},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)}});
var ManagerInternalView=Backbone.View.extend({tagName:"div",className:"box-content-default size-small",url:null,events:{"click .bt-next":"_nextStep","click .add-collection":"_addCollection"},template:Handlebars.templates.add_internal,initialize:function(options){this.id_collection=options.id_collection;this.models=options.models;this.url=options.url},_addCollection:function(ev){var collectable=null;var slug=$(ev.currentTarget).data("slug");for(var i=this.models.length-1;i>=0;i--){if(this.models[i].slug==slug){collectable=this.models[i]}}this.saveInCollection(collectable)},getUrlToSaveInCollection:function(model){if(model.type=="submission"){return Routing.generate("tv_favourites_create_submission_collectable",{slug:model.slug,idCollection:this.id_collection})}else if(model.type=="external_element"){return Routing.generate("tv_favourites_add_external_to_collection",{id:model.id,idCollection:this.id_collection})}},saveInCollection:function(model){var self=this;$.ajax({type:"POST",url:self.getUrlToSaveInCollection(model),data:{},success:function(){self.triggerSaved(model)}})},_nextStep:function(){this.trigger("go_to_next",this.url)},triggerSaved:function(collection){this.trigger("saved",collection)},cancel:function(){this.trigger("cancel")},render:function(){_.each(this.models,function(model){model.image=app.getImageInfo(model.image,null)});this.$el.html(this.template({submissions:this.models,count:this.models.length}));return this},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)}});
var BoxChoicesExternal=Backbone.View.extend({tagName:"div",className:"box-lightbox",views:{},activeView:null,lightBoxCollection:null,events:{"click .js-lightbox-close":"close","click ":"_closeFromOutside","click .action-box-file":"_openUploadImageTheme"},template:Handlebars.templates.select_option,initialize:function(options){this.options=$.extend({},this.options,options);$("body").append(this.$el)},_closeFromOutside:function(e){if($(e.target).hasClass("box-lightbox")){this.close()}},appendAndClose:function(collection){this.close();this.trigger("saved",collection)},open:function(){this.$el.html(this.template());this.$el.addClass("open");this.activeView=new ManagerExternalView({model:new ExternalModel({id_collection:this.options.id_collection})});this._open()},close:function(){this.$el.removeClass("open")},_destroyActiveView:function(){if(!this.activeView){return}this.activeView.destroy();this.activeView=null},_openInternalTheme:function(models,url){this.url=url;this.activeView=new ManagerInternalView({models:models,id_collection:this.options.id_collection,url:url});this.activeView.on("go_to_next",this.goToExternal,this);this.activeView.on("saved",this.appendAndClose,this);this.$el.html(this.activeView.render().el)},goToExternal:function(){this.open();this._openUploadImageTheme()},_openUploadImageTheme:function(){this.activeView=new UploadImageViewManager({model:new ExternalImage({id_collection:this.options.id_collection})});this.activeView.model.setUrl(this.url);this._open()},_errorImagesNotFound:function(url){this.url=url;this.goToExternal();var error='<div class="row fs-16"><p><strong>'+url+"</strong> is not on Awwwards yet! Complete the details and save!</p></div>";this.activeView.addExternalError(error)},_open:function(){this.$("#tab-init").hide();this.activeView.on("saved",this.appendAndClose,this);this.activeView.on("cancel",this.open,this);this.activeView.on("skip",this._openUploadImageTheme,this);this.activeView.on("error",this._errorImagesNotFound,this);this.activeView.on("show_internal_results",this._openInternalTheme,this);this.$(".box-elements").html(this.activeView.render({}).el)}});
var app=app||{};(function(){"use strict";app.CollectionModel=Backbone.Model.extend({defaults:{slug:"",title:"",user:{url:"",username:"",displayName:""},followers:[],following:false,thumbnail:"",image:"",images:[]},getUrl:function(){return Routing.generate("tv_user_collection",{username:this.get("user").username,slug:this.get("slug")})},followOrUnfollow:function(){var self=this;var isFollowing=this.get("following");var href=isFollowing?"tv_collection_unfollow":"tv_collection_follow";self.set("following",!isFollowing);var url=Routing.generate(href,{id:this.get("id")});$.ajax({type:"POST",url:url,success:function(response){if(!response){self.set("following",isFollowing)}}})},getUsersCollected:function(){var users=[];var collected=this.get("users_collected");if(collected){for(var user in collected){var user=collected[user];if(typeof user!="object"){continue}users.push({display_name:user.displayName,homepage:Routing.generate("tv_user_homepage",{username:user.username}),url:user.url,username:user.username,image:user.image})}}return users},checkIfUserLoggedIsFollower:function(){if(!app.user.isLoggedIn()){return}var followers=this.get("followers");for(var i=0;i<followers.length;i++){if(followers[i]==app.user.id){this.set("following",true)}}},getStaticImages:function(){var images=this.get("images").slice(1,4);return _.map(images,function(image){return app.isAnimated(image)?app.getStaticVersion(image):image})},_getCover:function(){if(this.get("cover")){return this.get("cover")}if(this.get("images").length===0){return null}return this.get("images")[0]}})})();
var app=app||{};(function(){"use strict";app.CollectionView=app.SubmissionView.extend({lazy_load:true,additionalEvents:{"click .bt-check":"_followOrUnfollow","click .bt-edit-collection":"_editCollection"},attributes:function(){if(app.is_its_own_profile){return{"data-sort-id":this.model.get("id")}}},_parseToTemplate:function(){var user=this.model.get("user");var cover=this.options.isHome?this.model.get("cover"):this.model._getCover();cover=this._getImageDatas(cover,app.asset("bundles/tvweb/images/nophoto-element.svg"));this._checkIfUserLoggedIsFollower();var params={name:this.model.get("name"),users_collected:this.model.getUsersCollected(),url:Routing.generate("tv_user_collection",{username:user.username,slug:this.model.get("slug")}),title_inspire:this.model.get("title_inspire"),image:cover,cover:cover,can_be_edited:app.user.isSameUserLoggedInByUsername(user.username),images:this.model.getStaticImages(),following:this.model.get("following"),collected_count:this.model.get("followers_count"),lazy_load:this.lazy_load,user:{display_name:user.display_name,homepage:Routing.generate("tv_user_homepage",{username:user.username}),url:user.url,image:user.photo},type:"collection"};return params},_changeClassViewCookie:function(){},_followOrUnfollow:function(el){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}el.preventDefault();app.buttons.load($(el.currentTarget));this.model.followOrUnfollow();$(window).lazyLoadXT()},_editCollection:function(el){el.preventDefault();app.AddToCollectionContainerView.editCollection(this.model.toJSON())},_checkIfUserLoggedIsFollower:function(){return this.model.checkIfUserLoggedIsFollower()},_loadEvents:function(){this.lazy_load=false}})})();
var app=app||{};(function(){"use strict";app.CollectionsView=app.SubmissionsView.extend({_createChildView:function(parameters){if(!parameters.template_name){parameters.template_name="collection"}return new app.CollectionView(parameters)},_createCollection:function(){this.collection=new app.CollectionCollection},updateNewItems:function(elements){this.collection.updateFollows(elements)}})})();
var app=app||{};(function(){app.CollectionCollection=Backbone.Collection.extend({model:app.CollectionModel,updateFollows:function(elements){var self=this;var ids=_.pluck(elements,"id");var user_ids=this._getFollowersIds(elements);if(user_ids.length==0){return}$.ajax({type:"POST",data:{user_ids:user_ids},url:Routing.generate("tv_collection_check_followers"),success:function(response){self.fillFollowers(response,ids)},error:function(response){}})},fillFollowers:function(users,ids){_.each(ids,function(id){var followers=this.get(id).get("followers");var hidrated_followers=[];for(var i=0;i<followers.length;i++){hidrated_followers.push(users[followers[i]])}if(hidrated_followers.length==0){return}this.get(id).set("users_collected_hidrated",hidrated_followers)},this)},_getFollowersIds:function(elements){var user_ids=[];for(var i=0;i<elements.length&&i<4;i++){var followers=elements[i].followers;user_ids.push.apply(user_ids,followers)}return $.unique(user_ids)}})})();
var app=app||{};(function(){app.login=Backbone.View.extend({className:"box-content-login",pages:{},loading:null,events:{"click .js-tab-login":"_showTabLogin","click .js-register":"_showTabRegister","click .js-forgot-password":"_showForgotPassword"},initialize:function(){this.loading=$(Handlebars.templates.loader())},_showTabLogin:function(ev){ev.preventDefault();var idTab=$(ev.currentTarget).data("tab");this._changeToTab(idTab)},_changeToTab:function(idTab){$(".js-tab-form").hide();$("#"+idTab).fadeIn()},_showLoading:function(){this.$(".js-tab-form").hide();this.loading.show();this.$el.append(this.loading)},_showTabRegister:function(ev){ev.preventDefault();if(this.$("#tab-register").length){this._changeToTab("tab-register");return}this._showLoading();var register=new app.register;this._addEventsToView(register);this.pages.register=register;this.pages.register.render()},_showForgotPassword:function(ev){ev.preventDefault();if(this.$("#tab-forgot").length){this._changeToTab("tab-forgot");return}this._showLoading();var forgot_password=new app.forgot_password;this._addEventsToView(forgot_password);this.pages.forgot_password=forgot_password;this.pages.forgot_password.render()},_addEventsToView:function(view){view.on("loaded",this._renderView,this);view.on("show_loading",this._showLoadingView,this);view.on("hide_loading",this._hideLoadingView,this)},_showLoadingView:function(view){view.$el.hide();this.loading.show()},_hideLoadingView:function(view){view.$el.show();this.loading.fadeOut()},_renderView:function(view){this.$(".box-login").append(view.$el);this.loading.fadeOut()},render:function(){this.$el.html(Handlebars.templates.login({from_url:window.location.href}));return this}})})();
var app=app||{};(function(){app.register=Backbone.View.extend({events:{"submit .register_form":"submit"},submit:function(ev){ev.preventDefault();this._showLoading();var form=$(ev.currentTarget);var self=this;$.ajax({type:"POST",url:form.attr("action"),data:form.serialize(),dataType:"json",success:function(response){var successMsg=Handlebars.templates.forgot_success();self.$el.html(successMsg)},error:function(response){var formErrors=response.responseJSON.form.children;var prefixId=form.prop("name");self._showChildrenErrors(prefixId,"",formErrors)},complete:function(){self._hideLoading()}})},_showChildrenErrors:function(prefixId,name,children){var prefixId=name!=""?prefixId+"_"+name:prefixId;for(var prop in children){if(children[prop].hasOwnProperty("errors")){this._showError(prefixId,prop,children[prop].errors)}else if(children[prop].hasOwnProperty("children")){this._showChildrenErrors(prefixId,prop,children[prop].children)}}},_showError:function(prefixId,name,errors){var id=prefixId+"_"+name;var field=$("#"+id);var formGroup=field.closest(".form-group");formGroup.addClass("has-error");formGroup.find(".msg").addClass("msg-error").text(errors)},_showLoading:function(){this.trigger("show_loading",this)},_hideLoading:function(){this.trigger("hide_loading",this)},render:function(){var self=this;$.ajax({type:"GET",url:Routing.generate("tv_register_ajax"),success:function(response){self.$el.html(response);self.trigger("loaded",self)}})}})})();
var app=app||{};(function(){app.forgot_password=Backbone.View.extend({events:{"submit .forgot_password_form":"submit"},submit:function(ev){ev.preventDefault();this._showLoading();var form=$(ev.currentTarget);var self=this;$.ajax({type:"POST",url:form.attr("action"),data:form.serialize(),dataType:"json",success:function(response){var successMsg=Handlebars.templates.forgot_success();self.$el.html(successMsg)},error:function(response){var formGroup=form.find(".form-group");formGroup.addClass("has-error");form.find(".msg").addClass("msg-error").text(response.responseJSON.errors)},complete:function(){self._hideLoading()}})},_showLoading:function(){this.trigger("show_loading",this)},_hideLoading:function(){this.trigger("hide_loading",this)},render:function(){var self=this;$.ajax({type:"GET",url:Routing.generate("tv_forgot_password"),success:function(response){self.$el.html(response);self.trigger("loaded",self)}})}})})();
Handlebars.registerPartial("add_to_collection_button",Handlebars.templates.add_collection_partial);Handlebars.registerPartial("users_collected",Handlebars.templates.users_collected);Handlebars.registerPartial("loader",Handlebars.templates.loader);